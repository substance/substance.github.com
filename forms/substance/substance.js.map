{"version":3,"file":null,"sources":["substance/collab/ChangeStore.js","substance/util/forEach.js","substance/node_modules/lodash-es/isObjectLike.js","substance/node_modules/lodash-es/isSymbol.js","substance/node_modules/lodash-es/_baseToNumber.js","substance/node_modules/lodash-es/_checkGlobal.js","substance/node_modules/lodash-es/_root.js","substance/node_modules/lodash-es/_Symbol.js","substance/node_modules/lodash-es/_baseToString.js","substance/node_modules/lodash-es/_createMathOperation.js","substance/node_modules/lodash-es/add.js","substance/node_modules/lodash-es/isObject.js","substance/node_modules/lodash-es/isFunction.js","substance/node_modules/lodash-es/toNumber.js","substance/node_modules/lodash-es/toFinite.js","substance/node_modules/lodash-es/toInteger.js","substance/node_modules/lodash-es/after.js","substance/node_modules/lodash-es/identity.js","substance/node_modules/lodash-es/_isHostObject.js","substance/node_modules/lodash-es/_coreJsData.js","substance/node_modules/lodash-es/_isMasked.js","substance/node_modules/lodash-es/_toSource.js","substance/node_modules/lodash-es/_baseIsNative.js","substance/node_modules/lodash-es/_getValue.js","substance/node_modules/lodash-es/_getNative.js","substance/node_modules/lodash-es/_WeakMap.js","substance/node_modules/lodash-es/_metaMap.js","substance/node_modules/lodash-es/_baseSetData.js","substance/node_modules/lodash-es/_baseCreate.js","substance/node_modules/lodash-es/_createCtorWrapper.js","substance/node_modules/lodash-es/_createBaseWrapper.js","substance/node_modules/lodash-es/_apply.js","substance/node_modules/lodash-es/_composeArgs.js","substance/node_modules/lodash-es/_composeArgsRight.js","substance/node_modules/lodash-es/_countHolders.js","substance/node_modules/lodash-es/_baseLodash.js","substance/node_modules/lodash-es/_LazyWrapper.js","substance/node_modules/lodash-es/noop.js","substance/node_modules/lodash-es/_getData.js","substance/node_modules/lodash-es/_realNames.js","substance/node_modules/lodash-es/_getFuncName.js","substance/node_modules/lodash-es/_LodashWrapper.js","substance/node_modules/lodash-es/isArray.js","substance/node_modules/lodash-es/_copyArray.js","substance/node_modules/lodash-es/_wrapperClone.js","substance/node_modules/lodash-es/wrapperLodash.js","substance/node_modules/lodash-es/_isLaziable.js","substance/node_modules/lodash-es/now.js","substance/node_modules/lodash-es/_setData.js","substance/node_modules/lodash-es/_createRecurryWrapper.js","substance/node_modules/lodash-es/_getHolder.js","substance/node_modules/lodash-es/_isIndex.js","substance/node_modules/lodash-es/_reorder.js","substance/node_modules/lodash-es/_replaceHolders.js","substance/node_modules/lodash-es/_createHybridWrapper.js","substance/node_modules/lodash-es/_createCurryWrapper.js","substance/node_modules/lodash-es/_createPartialWrapper.js","substance/node_modules/lodash-es/_mergeData.js","substance/node_modules/lodash-es/_createWrapper.js","substance/node_modules/lodash-es/ary.js","substance/node_modules/lodash-es/eq.js","substance/node_modules/lodash-es/_assignValue.js","substance/node_modules/lodash-es/_copyObject.js","substance/node_modules/lodash-es/_baseProperty.js","substance/node_modules/lodash-es/_getLength.js","substance/node_modules/lodash-es/isLength.js","substance/node_modules/lodash-es/isArrayLike.js","substance/node_modules/lodash-es/_isIterateeCall.js","substance/node_modules/lodash-es/rest.js","substance/node_modules/lodash-es/_createAssigner.js","substance/node_modules/lodash-es/_isPrototype.js","substance/node_modules/lodash-es/_getPrototype.js","substance/node_modules/lodash-es/_baseHas.js","substance/node_modules/lodash-es/_baseKeys.js","substance/node_modules/lodash-es/_baseTimes.js","substance/node_modules/lodash-es/isArrayLikeObject.js","substance/node_modules/lodash-es/isArguments.js","substance/node_modules/lodash-es/isString.js","substance/node_modules/lodash-es/_indexKeys.js","substance/node_modules/lodash-es/keys.js","substance/node_modules/lodash-es/assign.js","substance/node_modules/lodash-es/_Reflect.js","substance/node_modules/lodash-es/_iteratorToArray.js","substance/node_modules/lodash-es/_baseKeysIn.js","substance/node_modules/lodash-es/keysIn.js","substance/node_modules/lodash-es/assignIn.js","substance/node_modules/lodash-es/assignInWith.js","substance/node_modules/lodash-es/assignWith.js","substance/node_modules/lodash-es/_nativeCreate.js","substance/node_modules/lodash-es/_hashClear.js","substance/node_modules/lodash-es/_hashDelete.js","substance/node_modules/lodash-es/_hashGet.js","substance/node_modules/lodash-es/_hashHas.js","substance/node_modules/lodash-es/_hashSet.js","substance/node_modules/lodash-es/_Hash.js","substance/node_modules/lodash-es/_listCacheClear.js","substance/node_modules/lodash-es/_assocIndexOf.js","substance/node_modules/lodash-es/_listCacheDelete.js","substance/node_modules/lodash-es/_listCacheGet.js","substance/node_modules/lodash-es/_listCacheHas.js","substance/node_modules/lodash-es/_listCacheSet.js","substance/node_modules/lodash-es/_ListCache.js","substance/node_modules/lodash-es/_Map.js","substance/node_modules/lodash-es/_mapCacheClear.js","substance/node_modules/lodash-es/_isKeyable.js","substance/node_modules/lodash-es/_getMapData.js","substance/node_modules/lodash-es/_mapCacheDelete.js","substance/node_modules/lodash-es/_mapCacheGet.js","substance/node_modules/lodash-es/_mapCacheHas.js","substance/node_modules/lodash-es/_mapCacheSet.js","substance/node_modules/lodash-es/_MapCache.js","substance/node_modules/lodash-es/memoize.js","substance/node_modules/lodash-es/toString.js","substance/node_modules/lodash-es/_stringToPath.js","substance/node_modules/lodash-es/_castPath.js","substance/node_modules/lodash-es/_isKey.js","substance/node_modules/lodash-es/_toKey.js","substance/node_modules/lodash-es/_baseGet.js","substance/node_modules/lodash-es/get.js","substance/node_modules/lodash-es/_baseAt.js","substance/node_modules/lodash-es/_arrayPush.js","substance/node_modules/lodash-es/_isFlattenable.js","substance/node_modules/lodash-es/_baseFlatten.js","substance/node_modules/lodash-es/at.js","substance/node_modules/lodash-es/isError.js","substance/node_modules/lodash-es/attempt.js","substance/node_modules/lodash-es/before.js","substance/node_modules/lodash-es/bind.js","substance/node_modules/lodash-es/_arrayEach.js","substance/node_modules/lodash-es/bindAll.js","substance/node_modules/lodash-es/bindKey.js","substance/node_modules/lodash-es/_baseSlice.js","substance/node_modules/lodash-es/_castSlice.js","substance/node_modules/lodash-es/_reHasComplexSymbol.js","substance/node_modules/lodash-es/_stringToArray.js","substance/node_modules/lodash-es/_createCaseFirst.js","substance/node_modules/lodash-es/upperFirst.js","substance/node_modules/lodash-es/capitalize.js","substance/node_modules/lodash-es/_arrayReduce.js","substance/node_modules/lodash-es/_deburrLetter.js","substance/node_modules/lodash-es/deburr.js","substance/node_modules/lodash-es/words.js","substance/node_modules/lodash-es/_createCompounder.js","substance/node_modules/lodash-es/camelCase.js","substance/node_modules/lodash-es/castArray.js","substance/node_modules/lodash-es/_createRound.js","substance/node_modules/lodash-es/ceil.js","substance/node_modules/lodash-es/chain.js","substance/node_modules/lodash-es/chunk.js","substance/node_modules/lodash-es/_baseClamp.js","substance/node_modules/lodash-es/clamp.js","substance/node_modules/lodash-es/_stackClear.js","substance/node_modules/lodash-es/_stackDelete.js","substance/node_modules/lodash-es/_stackGet.js","substance/node_modules/lodash-es/_stackHas.js","substance/node_modules/lodash-es/_stackSet.js","substance/node_modules/lodash-es/_Stack.js","substance/node_modules/lodash-es/_baseAssign.js","substance/node_modules/lodash-es/_cloneBuffer.js","substance/node_modules/lodash-es/stubArray.js","substance/node_modules/lodash-es/_getSymbols.js","substance/node_modules/lodash-es/_copySymbols.js","substance/node_modules/lodash-es/_baseGetAllKeys.js","substance/node_modules/lodash-es/_getAllKeys.js","substance/node_modules/lodash-es/_DataView.js","substance/node_modules/lodash-es/_Promise.js","substance/node_modules/lodash-es/_Set.js","substance/node_modules/lodash-es/_getTag.js","substance/node_modules/lodash-es/_initCloneArray.js","substance/node_modules/lodash-es/_Uint8Array.js","substance/node_modules/lodash-es/_cloneArrayBuffer.js","substance/node_modules/lodash-es/_cloneDataView.js","substance/node_modules/lodash-es/_addMapEntry.js","substance/node_modules/lodash-es/_mapToArray.js","substance/node_modules/lodash-es/_cloneMap.js","substance/node_modules/lodash-es/_cloneRegExp.js","substance/node_modules/lodash-es/_addSetEntry.js","substance/node_modules/lodash-es/_setToArray.js","substance/node_modules/lodash-es/_cloneSet.js","substance/node_modules/lodash-es/_cloneSymbol.js","substance/node_modules/lodash-es/_cloneTypedArray.js","substance/node_modules/lodash-es/_initCloneByTag.js","substance/node_modules/lodash-es/_initCloneObject.js","substance/node_modules/lodash-es/stubFalse.js","substance/node_modules/lodash-es/isBuffer.js","substance/node_modules/lodash-es/_baseClone.js","substance/node_modules/lodash-es/clone.js","substance/node_modules/lodash-es/cloneDeep.js","substance/node_modules/lodash-es/cloneDeepWith.js","substance/node_modules/lodash-es/cloneWith.js","substance/node_modules/lodash-es/commit.js","substance/node_modules/lodash-es/compact.js","substance/node_modules/lodash-es/concat.js","substance/node_modules/lodash-es/_arrayMap.js","substance/node_modules/lodash-es/_setCacheAdd.js","substance/node_modules/lodash-es/_setCacheHas.js","substance/node_modules/lodash-es/_SetCache.js","substance/node_modules/lodash-es/_arraySome.js","substance/node_modules/lodash-es/_equalArrays.js","substance/node_modules/lodash-es/_equalByTag.js","substance/node_modules/lodash-es/_equalObjects.js","substance/node_modules/lodash-es/isTypedArray.js","substance/node_modules/lodash-es/_baseIsEqualDeep.js","substance/node_modules/lodash-es/_baseIsEqual.js","substance/node_modules/lodash-es/_baseIsMatch.js","substance/node_modules/lodash-es/_isStrictComparable.js","substance/node_modules/lodash-es/_getMatchData.js","substance/node_modules/lodash-es/_matchesStrictComparable.js","substance/node_modules/lodash-es/_baseMatches.js","substance/node_modules/lodash-es/_baseHasIn.js","substance/node_modules/lodash-es/_hasPath.js","substance/node_modules/lodash-es/hasIn.js","substance/node_modules/lodash-es/_baseMatchesProperty.js","substance/node_modules/lodash-es/_basePropertyDeep.js","substance/node_modules/lodash-es/property.js","substance/node_modules/lodash-es/_baseIteratee.js","substance/node_modules/lodash-es/cond.js","substance/node_modules/lodash-es/_baseConforms.js","substance/node_modules/lodash-es/conforms.js","substance/node_modules/lodash-es/constant.js","substance/node_modules/lodash-es/_arrayAggregator.js","substance/node_modules/lodash-es/_createBaseFor.js","substance/node_modules/lodash-es/_baseFor.js","substance/node_modules/lodash-es/_baseForOwn.js","substance/node_modules/lodash-es/_createBaseEach.js","substance/node_modules/lodash-es/_baseEach.js","substance/node_modules/lodash-es/_baseAggregator.js","substance/node_modules/lodash-es/_createAggregator.js","substance/node_modules/lodash-es/countBy.js","substance/node_modules/lodash-es/create.js","substance/node_modules/lodash-es/curry.js","substance/node_modules/lodash-es/curryRight.js","substance/node_modules/lodash-es/debounce.js","substance/node_modules/lodash-es/_assignInDefaults.js","substance/node_modules/lodash-es/defaults.js","substance/node_modules/lodash-es/_assignMergeValue.js","substance/node_modules/lodash-es/isPlainObject.js","substance/node_modules/lodash-es/toPlainObject.js","substance/node_modules/lodash-es/_baseMergeDeep.js","substance/node_modules/lodash-es/_baseMerge.js","substance/node_modules/lodash-es/_mergeDefaults.js","substance/node_modules/lodash-es/mergeWith.js","substance/node_modules/lodash-es/defaultsDeep.js","substance/node_modules/lodash-es/_baseDelay.js","substance/node_modules/lodash-es/defer.js","substance/node_modules/lodash-es/delay.js","substance/node_modules/lodash-es/_indexOfNaN.js","substance/node_modules/lodash-es/_baseIndexOf.js","substance/node_modules/lodash-es/_arrayIncludes.js","substance/node_modules/lodash-es/_arrayIncludesWith.js","substance/node_modules/lodash-es/_baseUnary.js","substance/node_modules/lodash-es/_cacheHas.js","substance/node_modules/lodash-es/_baseDifference.js","substance/node_modules/lodash-es/difference.js","substance/node_modules/lodash-es/last.js","substance/node_modules/lodash-es/differenceBy.js","substance/node_modules/lodash-es/differenceWith.js","substance/node_modules/lodash-es/divide.js","substance/node_modules/lodash-es/drop.js","substance/node_modules/lodash-es/dropRight.js","substance/node_modules/lodash-es/_baseWhile.js","substance/node_modules/lodash-es/dropRightWhile.js","substance/node_modules/lodash-es/dropWhile.js","substance/node_modules/lodash-es/forEach.js","substance/node_modules/lodash-es/_arrayEachRight.js","substance/node_modules/lodash-es/_baseForRight.js","substance/node_modules/lodash-es/_baseForOwnRight.js","substance/node_modules/lodash-es/_baseEachRight.js","substance/node_modules/lodash-es/forEachRight.js","substance/node_modules/lodash-es/endsWith.js","substance/node_modules/lodash-es/_baseToPairs.js","substance/node_modules/lodash-es/_setToPairs.js","substance/node_modules/lodash-es/_createToPairs.js","substance/node_modules/lodash-es/toPairs.js","substance/node_modules/lodash-es/toPairsIn.js","substance/node_modules/lodash-es/_escapeHtmlChar.js","substance/node_modules/lodash-es/escape.js","substance/node_modules/lodash-es/escapeRegExp.js","substance/node_modules/lodash-es/_arrayEvery.js","substance/node_modules/lodash-es/_baseEvery.js","substance/node_modules/lodash-es/every.js","substance/node_modules/lodash-es/toLength.js","substance/node_modules/lodash-es/_baseFill.js","substance/node_modules/lodash-es/fill.js","substance/node_modules/lodash-es/_arrayFilter.js","substance/node_modules/lodash-es/_baseFilter.js","substance/node_modules/lodash-es/filter.js","substance/node_modules/lodash-es/_createFind.js","substance/node_modules/lodash-es/_baseFindIndex.js","substance/node_modules/lodash-es/findIndex.js","substance/node_modules/lodash-es/find.js","substance/node_modules/lodash-es/_baseFindKey.js","substance/node_modules/lodash-es/findKey.js","substance/node_modules/lodash-es/findLastIndex.js","substance/node_modules/lodash-es/findLast.js","substance/node_modules/lodash-es/findLastKey.js","substance/node_modules/lodash-es/head.js","substance/node_modules/lodash-es/_baseMap.js","substance/node_modules/lodash-es/map.js","substance/node_modules/lodash-es/flatMap.js","substance/node_modules/lodash-es/flatMapDeep.js","substance/node_modules/lodash-es/flatMapDepth.js","substance/node_modules/lodash-es/flatten.js","substance/node_modules/lodash-es/flattenDeep.js","substance/node_modules/lodash-es/flattenDepth.js","substance/node_modules/lodash-es/flip.js","substance/node_modules/lodash-es/floor.js","substance/node_modules/lodash-es/_createFlow.js","substance/node_modules/lodash-es/flow.js","substance/node_modules/lodash-es/flowRight.js","substance/node_modules/lodash-es/forIn.js","substance/node_modules/lodash-es/forInRight.js","substance/node_modules/lodash-es/forOwn.js","substance/node_modules/lodash-es/forOwnRight.js","substance/node_modules/lodash-es/fromPairs.js","substance/node_modules/lodash-es/_baseFunctions.js","substance/node_modules/lodash-es/functions.js","substance/node_modules/lodash-es/functionsIn.js","substance/node_modules/lodash-es/groupBy.js","substance/node_modules/lodash-es/_baseGt.js","substance/node_modules/lodash-es/_createRelationalOperation.js","substance/node_modules/lodash-es/gt.js","substance/node_modules/lodash-es/gte.js","substance/node_modules/lodash-es/has.js","substance/node_modules/lodash-es/_baseInRange.js","substance/node_modules/lodash-es/inRange.js","substance/node_modules/lodash-es/_baseValues.js","substance/node_modules/lodash-es/values.js","substance/node_modules/lodash-es/includes.js","substance/node_modules/lodash-es/indexOf.js","substance/node_modules/lodash-es/initial.js","substance/node_modules/lodash-es/_baseIntersection.js","substance/node_modules/lodash-es/_castArrayLikeObject.js","substance/node_modules/lodash-es/intersection.js","substance/node_modules/lodash-es/intersectionBy.js","substance/node_modules/lodash-es/intersectionWith.js","substance/node_modules/lodash-es/_baseInverter.js","substance/node_modules/lodash-es/_createInverter.js","substance/node_modules/lodash-es/invert.js","substance/node_modules/lodash-es/invertBy.js","substance/node_modules/lodash-es/_parent.js","substance/node_modules/lodash-es/_baseInvoke.js","substance/node_modules/lodash-es/invoke.js","substance/node_modules/lodash-es/invokeMap.js","substance/node_modules/lodash-es/isArrayBuffer.js","substance/node_modules/lodash-es/isBoolean.js","substance/node_modules/lodash-es/isDate.js","substance/node_modules/lodash-es/isElement.js","substance/node_modules/lodash-es/isEmpty.js","substance/node_modules/lodash-es/isEqual.js","substance/node_modules/lodash-es/isEqualWith.js","substance/node_modules/lodash-es/isFinite.js","substance/node_modules/lodash-es/isInteger.js","substance/node_modules/lodash-es/isMap.js","substance/node_modules/lodash-es/isMatch.js","substance/node_modules/lodash-es/isMatchWith.js","substance/node_modules/lodash-es/isNumber.js","substance/node_modules/lodash-es/isNaN.js","substance/node_modules/lodash-es/_isMaskable.js","substance/node_modules/lodash-es/isNative.js","substance/node_modules/lodash-es/isNil.js","substance/node_modules/lodash-es/isNull.js","substance/node_modules/lodash-es/isRegExp.js","substance/node_modules/lodash-es/isSafeInteger.js","substance/node_modules/lodash-es/isSet.js","substance/node_modules/lodash-es/isUndefined.js","substance/node_modules/lodash-es/isWeakMap.js","substance/node_modules/lodash-es/isWeakSet.js","substance/node_modules/lodash-es/iteratee.js","substance/node_modules/lodash-es/join.js","substance/node_modules/lodash-es/kebabCase.js","substance/node_modules/lodash-es/keyBy.js","substance/node_modules/lodash-es/lastIndexOf.js","substance/node_modules/lodash-es/lowerCase.js","substance/node_modules/lodash-es/lowerFirst.js","substance/node_modules/lodash-es/_baseLt.js","substance/node_modules/lodash-es/lt.js","substance/node_modules/lodash-es/lte.js","substance/node_modules/lodash-es/mapKeys.js","substance/node_modules/lodash-es/mapValues.js","substance/node_modules/lodash-es/matches.js","substance/node_modules/lodash-es/matchesProperty.js","substance/node_modules/lodash-es/_baseExtremum.js","substance/node_modules/lodash-es/max.js","substance/node_modules/lodash-es/maxBy.js","substance/node_modules/lodash-es/_baseSum.js","substance/node_modules/lodash-es/_baseMean.js","substance/node_modules/lodash-es/mean.js","substance/node_modules/lodash-es/meanBy.js","substance/node_modules/lodash-es/merge.js","substance/node_modules/lodash-es/method.js","substance/node_modules/lodash-es/methodOf.js","substance/node_modules/lodash-es/min.js","substance/node_modules/lodash-es/minBy.js","substance/node_modules/lodash-es/mixin.js","substance/node_modules/lodash-es/multiply.js","substance/node_modules/lodash-es/negate.js","substance/node_modules/lodash-es/toArray.js","substance/node_modules/lodash-es/next.js","substance/node_modules/lodash-es/_baseNth.js","substance/node_modules/lodash-es/nth.js","substance/node_modules/lodash-es/nthArg.js","substance/node_modules/lodash-es/_basePick.js","substance/node_modules/lodash-es/_getSymbolsIn.js","substance/node_modules/lodash-es/_getAllKeysIn.js","substance/node_modules/lodash-es/omit.js","substance/node_modules/lodash-es/_basePickBy.js","substance/node_modules/lodash-es/omitBy.js","substance/node_modules/lodash-es/once.js","substance/node_modules/lodash-es/_baseSortBy.js","substance/node_modules/lodash-es/_compareAscending.js","substance/node_modules/lodash-es/_compareMultiple.js","substance/node_modules/lodash-es/_baseOrderBy.js","substance/node_modules/lodash-es/orderBy.js","substance/node_modules/lodash-es/_isFlattenableIteratee.js","substance/node_modules/lodash-es/_createOver.js","substance/node_modules/lodash-es/over.js","substance/node_modules/lodash-es/overArgs.js","substance/node_modules/lodash-es/overEvery.js","substance/node_modules/lodash-es/overSome.js","substance/node_modules/lodash-es/_baseRepeat.js","substance/node_modules/lodash-es/_stringSize.js","substance/node_modules/lodash-es/_createPadding.js","substance/node_modules/lodash-es/pad.js","substance/node_modules/lodash-es/padEnd.js","substance/node_modules/lodash-es/padStart.js","substance/node_modules/lodash-es/parseInt.js","substance/node_modules/lodash-es/partial.js","substance/node_modules/lodash-es/partialRight.js","substance/node_modules/lodash-es/partition.js","substance/node_modules/lodash-es/pick.js","substance/node_modules/lodash-es/pickBy.js","substance/node_modules/lodash-es/plant.js","substance/node_modules/lodash-es/propertyOf.js","substance/node_modules/lodash-es/_baseIndexOfWith.js","substance/node_modules/lodash-es/_basePullAll.js","substance/node_modules/lodash-es/pullAll.js","substance/node_modules/lodash-es/pull.js","substance/node_modules/lodash-es/pullAllBy.js","substance/node_modules/lodash-es/pullAllWith.js","substance/node_modules/lodash-es/_basePullAt.js","substance/node_modules/lodash-es/pullAt.js","substance/node_modules/lodash-es/_baseRandom.js","substance/node_modules/lodash-es/random.js","substance/node_modules/lodash-es/_baseRange.js","substance/node_modules/lodash-es/_createRange.js","substance/node_modules/lodash-es/range.js","substance/node_modules/lodash-es/rangeRight.js","substance/node_modules/lodash-es/rearg.js","substance/node_modules/lodash-es/_baseReduce.js","substance/node_modules/lodash-es/reduce.js","substance/node_modules/lodash-es/_arrayReduceRight.js","substance/node_modules/lodash-es/reduceRight.js","substance/node_modules/lodash-es/reject.js","substance/node_modules/lodash-es/remove.js","substance/node_modules/lodash-es/repeat.js","substance/node_modules/lodash-es/replace.js","substance/node_modules/lodash-es/result.js","substance/node_modules/lodash-es/reverse.js","substance/node_modules/lodash-es/round.js","substance/node_modules/lodash-es/sample.js","substance/node_modules/lodash-es/sampleSize.js","substance/node_modules/lodash-es/_baseSet.js","substance/node_modules/lodash-es/set.js","substance/node_modules/lodash-es/setWith.js","substance/node_modules/lodash-es/shuffle.js","substance/node_modules/lodash-es/size.js","substance/node_modules/lodash-es/slice.js","substance/node_modules/lodash-es/snakeCase.js","substance/node_modules/lodash-es/_baseSome.js","substance/node_modules/lodash-es/some.js","substance/node_modules/lodash-es/sortBy.js","substance/node_modules/lodash-es/_baseSortedIndexBy.js","substance/node_modules/lodash-es/_baseSortedIndex.js","substance/node_modules/lodash-es/sortedIndex.js","substance/node_modules/lodash-es/sortedIndexBy.js","substance/node_modules/lodash-es/sortedIndexOf.js","substance/node_modules/lodash-es/sortedLastIndex.js","substance/node_modules/lodash-es/sortedLastIndexBy.js","substance/node_modules/lodash-es/sortedLastIndexOf.js","substance/node_modules/lodash-es/_baseSortedUniq.js","substance/node_modules/lodash-es/sortedUniq.js","substance/node_modules/lodash-es/sortedUniqBy.js","substance/node_modules/lodash-es/split.js","substance/node_modules/lodash-es/spread.js","substance/node_modules/lodash-es/startCase.js","substance/node_modules/lodash-es/startsWith.js","substance/node_modules/lodash-es/stubObject.js","substance/node_modules/lodash-es/stubString.js","substance/node_modules/lodash-es/stubTrue.js","substance/node_modules/lodash-es/subtract.js","substance/node_modules/lodash-es/sum.js","substance/node_modules/lodash-es/sumBy.js","substance/node_modules/lodash-es/tail.js","substance/node_modules/lodash-es/take.js","substance/node_modules/lodash-es/takeRight.js","substance/node_modules/lodash-es/takeRightWhile.js","substance/node_modules/lodash-es/takeWhile.js","substance/node_modules/lodash-es/tap.js","substance/node_modules/lodash-es/_escapeStringChar.js","substance/node_modules/lodash-es/_reInterpolate.js","substance/node_modules/lodash-es/_reEscape.js","substance/node_modules/lodash-es/_reEvaluate.js","substance/node_modules/lodash-es/templateSettings.js","substance/node_modules/lodash-es/template.js","substance/node_modules/lodash-es/throttle.js","substance/node_modules/lodash-es/thru.js","substance/node_modules/lodash-es/times.js","substance/node_modules/lodash-es/toIterator.js","substance/node_modules/lodash-es/_baseWrapperValue.js","substance/node_modules/lodash-es/wrapperValue.js","substance/node_modules/lodash-es/toLower.js","substance/node_modules/lodash-es/toPath.js","substance/node_modules/lodash-es/toSafeInteger.js","substance/node_modules/lodash-es/toUpper.js","substance/node_modules/lodash-es/transform.js","substance/node_modules/lodash-es/_charsEndIndex.js","substance/node_modules/lodash-es/_charsStartIndex.js","substance/node_modules/lodash-es/trim.js","substance/node_modules/lodash-es/trimEnd.js","substance/node_modules/lodash-es/trimStart.js","substance/node_modules/lodash-es/truncate.js","substance/node_modules/lodash-es/unary.js","substance/node_modules/lodash-es/_unescapeHtmlChar.js","substance/node_modules/lodash-es/unescape.js","substance/node_modules/lodash-es/_createSet.js","substance/node_modules/lodash-es/_baseUniq.js","substance/node_modules/lodash-es/union.js","substance/node_modules/lodash-es/unionBy.js","substance/node_modules/lodash-es/unionWith.js","substance/node_modules/lodash-es/uniq.js","substance/node_modules/lodash-es/uniqBy.js","substance/node_modules/lodash-es/uniqWith.js","substance/node_modules/lodash-es/uniqueId.js","substance/node_modules/lodash-es/_baseUnset.js","substance/node_modules/lodash-es/unset.js","substance/node_modules/lodash-es/unzip.js","substance/node_modules/lodash-es/unzipWith.js","substance/node_modules/lodash-es/_baseUpdate.js","substance/node_modules/lodash-es/_castFunction.js","substance/node_modules/lodash-es/update.js","substance/node_modules/lodash-es/updateWith.js","substance/node_modules/lodash-es/upperCase.js","substance/node_modules/lodash-es/valuesIn.js","substance/node_modules/lodash-es/without.js","substance/node_modules/lodash-es/wrap.js","substance/node_modules/lodash-es/wrapperAt.js","substance/node_modules/lodash-es/wrapperChain.js","substance/node_modules/lodash-es/wrapperReverse.js","substance/node_modules/lodash-es/_baseXor.js","substance/node_modules/lodash-es/xor.js","substance/node_modules/lodash-es/xorBy.js","substance/node_modules/lodash-es/xorWith.js","substance/node_modules/lodash-es/zip.js","substance/node_modules/lodash-es/_baseZipObject.js","substance/node_modules/lodash-es/zipObject.js","substance/node_modules/lodash-es/zipObjectDeep.js","substance/node_modules/lodash-es/zipWith.js","substance/node_modules/lodash-es/array.default.js","substance/node_modules/lodash-es/collection.default.js","substance/node_modules/lodash-es/date.default.js","substance/node_modules/lodash-es/function.default.js","substance/node_modules/lodash-es/lang.default.js","substance/node_modules/lodash-es/math.default.js","substance/node_modules/lodash-es/number.default.js","substance/node_modules/lodash-es/object.default.js","substance/node_modules/lodash-es/seq.default.js","substance/node_modules/lodash-es/string.default.js","substance/node_modules/lodash-es/util.default.js","substance/node_modules/lodash-es/_lazyClone.js","substance/node_modules/lodash-es/_lazyReverse.js","substance/node_modules/lodash-es/_getView.js","substance/node_modules/lodash-es/_lazyValue.js","substance/node_modules/lodash-es/lodash.default.js","substance/node_modules/lodash-es/lodash.js","substance/util/EventEmitter.js","substance/util/SubstanceError.js","substance/collab/ClientConnection.js","substance/collab/CollabClient.js","substance/util/map.js","substance/util/isArray.js","substance/util/uuid.js","substance/util/isNumber.js","substance/util/isString.js","substance/model/data/DataObject.js","substance/model/data/Conflict.js","substance/model/data/TextOperation.js","substance/model/data/ArrayOperation.js","substance/model/data/CoordinateOperation.js","substance/model/data/ObjectOperation.js","substance/model/data/OperationSerializer.js","substance/util/isArrayEqual.js","substance/model/Coordinate.js","substance/model/Anchor.js","substance/model/Selection.js","substance/model/CoordinateAdapter.js","substance/model/Range.js","substance/model/PropertySelection.js","substance/util/isNil.js","substance/model/ContainerSelection.js","substance/model/NodeSelection.js","substance/model/CustomSelection.js","substance/model/selectionHelpers.js","substance/model/DocumentChange.js","substance/collab/CollabEngine.js","substance/collab/Server.js","substance/collab/CollabServer.js","substance/util/deleteFromArray.js","substance/util/ArrayTree.js","substance/model/MarkersManager.js","substance/util/TreeIndex.js","substance/model/data/NodeIndex.js","substance/model/DocumentIndex.js","substance/model/documentHelpers.js","substance/model/SelectionState.js","substance/model/ChangeHistory.js","substance/util/inBrowser.js","substance/packages/surface/SurfaceManager.js","substance/util/isFunction.js","substance/model/AnnotationIndex.js","substance/model/ContainerAnnotationIndex.js","substance/model/AnchorIndex.js","substance/model/PathEventProxy.js","substance/util/isPlainObject.js","substance/model/data/NodeFactory.js","substance/model/data/Data.js","substance/model/data/IncrementalData.js","substance/model/DocumentNodeFactory.js","substance/model/JSONConverter.js","substance/model/Document.js","substance/model/TransactionDocument.js","substance/model/annotationHelpers.js","substance/model/copySelection.js","substance/util/last.js","substance/model/paste.js","substance/model/TextNodeEditing.js","substance/packages/list/ListEditing.js","substance/model/Editing.js","substance/model/EditingInterface.js","substance/model/Transaction.js","substance/util/Registry.js","substance/ui/CommandManager.js","substance/util/substanceGlobals.js","substance/util/ArrayIterator.js","substance/ui/DOMElement.js","substance/ui/VirtualElement.js","substance/ui/DelegatedEvent.js","substance/ui/BrowserDOMElement.js","substance/__empty__","substance/ui/CheerioDOMElement.js","substance/ui/DefaultDOMElement.js","substance/ui/RenderingEngine.js","substance/ui/Component.js","substance/ui/DragManager.js","substance/ui/GlobalEventHandler.js","substance/ui/MacroManager.js","substance/util/keys.js","substance/ui/ExecuteCommandHandler.js","substance/ui/KeyboardManager.js","substance/model/FileManager.js","substance/model/EditorSession.js","substance/collab/CollabSession.js","substance/util/request.js","substance/collab/DocumentClient.js","substance/collab/computeSnapshot.js","substance/collab/SnapshotEngine.js","substance/collab/DocumentEngine.js","substance/collab/DocumentServer.js","substance/collab/SnapshotStore.js","substance/collab/WebSocketConnection.js","substance/collab/CollabServerConfigurator.js","substance/collab/CollabServerPackage.js","substance/model/data/Node.js","substance/model/DocumentNode.js","substance/model/BlockNode.js","substance/model/ParentNodeMixin.js","substance/model/ContainerAddress.js","substance/model/Container.js","substance/model/ContainerAnnotation.js","substance/model/PropertyAnnotation.js","substance/model/Fragmenter.js","substance/util/encodeXMLEntities.js","substance/model/DOMExporter.js","substance/util/createCountingIdGenerator.js","substance/model/DOMImporter.js","substance/model/FileProxy.js","substance/model/HTMLExporter.js","substance/model/HTMLImporter.js","substance/model/InlineNode.js","substance/model/Marker.js","substance/model/TextNode.js","substance/model/TextBlock.js","substance/model/XMLExporter.js","substance/model/XMLImporter.js","substance/packages/button/Button.js","substance/packages/button/ButtonPackage.js","substance/packages/tools/Toolbox.js","substance/packages/context-menu/ContextMenu.js","substance/packages/context-menu/ContextMenuPackage.js","substance/packages/grid/Grid.js","substance/packages/grid/GridPackage.js","substance/packages/gutter/Gutter.js","substance/packages/gutter/GutterPackage.js","substance/packages/input/Input.js","substance/packages/input/InputPackage.js","substance/packages/layout/Layout.js","substance/packages/layout/LayoutPackage.js","substance/packages/modal/Modal.js","substance/packages/modal/ModalPackage.js","substance/packages/overlay/Overlay.js","substance/packages/overlay/OverlayPackage.js","substance/util/getRelativeBoundingRect.js","substance/packages/drop-teaser/DropTeaser.js","substance/packages/drop-teaser/DropTeaserPackage.js","substance/packages/scrollbar/Scrollbar.js","substance/packages/scrollbar/ScrollbarPackage.js","substance/util/platform.js","substance/util/getRelativeMouseBounds.js","substance/packages/scroll-pane/AbstractScrollPane.js","substance/packages/scroll-pane/ScrollPane.js","substance/packages/scroll-pane/ScrollPanePackage.js","substance/packages/body-scroll-pane/BodyScrollPane.js","substance/packages/body-scroll-pane/BodyScrollPanePackage.js","substance/packages/split-pane/SplitPane.js","substance/packages/split-pane/SplitPanePackage.js","substance/packages/tabbed-pane/TabbedPane.js","substance/packages/tabbed-pane/TabbedPanePackage.js","substance/packages/file/FileNode.js","substance/packages/file/FilePackage.js","substance/packages/tools/Tool.js","substance/ui/Command.js","substance/packages/base/UndoCommand.js","substance/packages/base/RedoCommand.js","substance/packages/base/SelectAllCommand.js","substance/packages/base/BasePackage.js","substance/packages/blockquote/Blockquote.js","substance/ui/NodeComponent.js","substance/ui/AnnotationComponent.js","substance/util/createSurfaceId.js","substance/packages/isolated-node/IsolatedNodeComponent.js","substance/packages/inline-node/InlineNodeComponent.js","substance/ui/AnnotatedTextComponent.js","substance/ui/CursorComponent.js","substance/ui/SelectionFragmentComponent.js","substance/util/levenshtein.js","substance/util/diff.js","substance/ui/TextPropertyComponent.js","substance/ui/TextBlockComponent.js","substance/packages/blockquote/BlockquoteComponent.js","substance/packages/blockquote/BlockquoteHTMLConverter.js","substance/packages/blockquote/BlockquotePackage.js","substance/packages/code/Code.js","substance/packages/code/CodeHTMLConverter.js","substance/ui/AnnotationCommand.js","substance/ui/AnnotationTool.js","substance/packages/code/CodePackage.js","substance/packages/emphasis/Emphasis.js","substance/packages/emphasis/EmphasisHTMLConverter.js","substance/packages/emphasis/EmphasisComponent.js","substance/packages/emphasis/EmphasisPackage.js","substance/packages/image/ImageNode.js","substance/packages/image/ImageComponent.js","substance/packages/image/ImageHTMLConverter.js","substance/ui/InsertNodeCommand.js","substance/packages/image/insertImage.js","substance/packages/image/InsertImageCommand.js","substance/packages/image/InsertImageTool.js","substance/ui/DragAndDropHandler.js","substance/packages/image/DropImage.js","substance/packages/file/DefaultFileProxy.js","substance/packages/image/ImageFileProxy.js","substance/packages/image/ImagePackage.js","substance/packages/inline-wrapper/InlineWrapper.js","substance/packages/inline-wrapper/InlineWrapperComponent.js","substance/packages/inline-wrapper/InlineWrapperConverter.js","substance/packages/inline-wrapper/InlineWrapperPackage.js","substance/packages/paragraph/Paragraph.js","substance/packages/paragraph/ParagraphComponent.js","substance/packages/paragraph/ParagraphHTMLConverter.js","substance/packages/paragraph/ParagraphPackage.js","substance/packages/persistence/SaveCommand.js","substance/packages/persistence/PersistencePackage.js","substance/packages/strong/Strong.js","substance/packages/strong/StrongHTMLConverter.js","substance/packages/strong/StrongComponent.js","substance/packages/strong/StrongPackage.js","substance/packages/subscript/Subscript.js","substance/packages/subscript/SubscriptHTMLConverter.js","substance/packages/subscript/SubscriptPackage.js","substance/packages/superscript/Superscript.js","substance/packages/superscript/SuperscriptHTMLConverter.js","substance/packages/superscript/SuperscriptPackage.js","substance/packages/heading/Heading.js","substance/packages/heading/HeadingComponent.js","substance/packages/heading/HeadingHTMLConverter.js","substance/packages/heading/HeadingPackage.js","substance/packages/heading/HeadingMacro.js","substance/packages/switch-text-type/SwitchTextTypeTool.js","substance/packages/switch-text-type/SwitchTextTypeCommand.js","substance/packages/codeblock/Codeblock.js","substance/packages/codeblock/CodeblockComponent.js","substance/packages/codeblock/CodeblockHTMLConverter.js","substance/packages/codeblock/CodeblockPackage.js","substance/packages/link/Link.js","substance/packages/link/LinkComponent.js","substance/packages/link/LinkCommand.js","substance/packages/link/LinkHTMLConverter.js","substance/packages/link/EditLinkTool.js","substance/ui/EditAnnotationCommand.js","substance/packages/link/LinkPackage.js","substance/packages/prose-editor/ProseArticle.js","substance/packages/prose-editor/ProseEditorPackage.js","substance/ui/ResourceManager.js","substance/ui/AbstractEditor.js","substance/model/EditingBehavior.js","substance/ui/ClipboardImporter.js","substance/ui/ClipboardExporter.js","substance/ui/Clipboard.js","substance/ui/DOMSelection.js","substance/ui/UnsupportedNodeComponent.js","substance/packages/surface/Surface.js","substance/ui/ContainerEditor.js","substance/packages/tools/Toolbar.js","substance/packages/prose-editor/ProseEditor.js","substance/packages/inline-node/InsertInlineNodeCommand.js","substance/packages/inline-node/EditInlineNodeCommand.js","substance/packages/spell-check/SpellError.js","substance/packages/spell-check/CorrectionTool.js","substance/packages/spell-check/SpellCheckCommand.js","substance/packages/spell-check/SpellCheckPackage.js","substance/util/sendRequest.js","substance/packages/spell-check/SpellCheckManager.js","substance/packages/list/ListNode.js","substance/packages/list/ListItemNode.js","substance/packages/list/ListItemComponent.js","substance/packages/list/ListComponent.js","substance/packages/list/ListHTMLConverter.js","substance/packages/list/ListItemHTMLConverter.js","substance/packages/list/ListPackage.js","substance/packages/responsive-application/ResponsiveApplication.js","substance/ui/FontAwesomeIcon.js","substance/packages/toc/TOC.js","substance/packages/toc/TOCProvider.js","substance/packages/tools/ToolDropdown.js","substance/ui/BlockNodeComponent.js","substance/ui/Highlights.js","substance/ui/Router.js","substance/ui/TextPropertyEditor.js","substance/model/data/NodeRegistry.js","substance/model/data/Schema.js","substance/model/DocumentSchema.js","substance/ui/ComponentRegistry.js","substance/ui/FontAwesomeIconProvider.js","substance/ui/DefaultLabelProvider.js","substance/packages/tools/ToolGroup.js","substance/packages/persistence/SaveHandlerStub.js","substance/util/Configurator.js","substance/util/Factory.js","substance/util/makeMap.js","substance/util/async.js","substance/test/fixtures/twoParagraphs.js","substance/test/collab/MessageQueue.js","substance/test/collab/TestServerWebSocket.js","substance/test/collab/TestWebSocketServer.js","substance/test/collab/TestWebSocket.js","substance/test/collab/TestWebSocketConnection.js","substance/test/collab/TestCollabServer.js","substance/test/collab/TestCollabSession.js","substance/test/model/TestMetaNode.js","substance/test/model/TestNode.js","substance/test/model/TestContainerAnnotation.js","substance/test/model/TestStructuredNode.js","substance/test/model/TestSchema.js","substance/test/model/TestArticle.js","substance/test/fixtures/createTestArticle.js","substance/test/fixtures/createChangeset.js","substance/test/fixtures/createTestDocumentFactory.js","substance/index.es.js"],"sourcesContent":["/*\n  Implements Substance ChangeStore API. This is just a dumb store.\n  No integrity checks are made, as this is the task of DocumentEngine\n*/\nclass ChangeStore {\n  constructor(seed) {\n    this._changes = seed || {}\n  }\n\n  /*\n    Gets changes for a given document\n\n    @param {String} documentId document id\n    @param {Number} sinceVersion since which change (optional)\n    @param {Number} toVersion up to and including version (optional)\n  */\n  getChanges(documentId, sinceVersion, toVersion, cb) {\n    if (typeof sinceVersion === 'function') {\n      cb = sinceVersion\n      sinceVersion = 0\n    } else if (typeof toVersion === 'function') {\n      cb = toVersion\n      toVersion = undefined\n    }\n    if (!(documentId && sinceVersion >= 0 && cb)) {\n      throw new Error('Invalid arguments')\n    }\n    let version = this._getVersion(documentId)\n    let changes = this._getChanges(documentId)\n    changes = changes.slice(sinceVersion, toVersion)\n    cb(null, changes, version)\n  }\n\n  /*\n    Add a change object to the database\n  */\n  addChange(documentId, change, cb) {\n    if (!documentId || !change) {\n      throw new Error('Invalid arguments')\n    }\n    this._addChange(documentId, change)\n    let newVersion = this._getVersion(documentId)\n    cb(null, newVersion)\n  }\n\n  /*\n    Delete changes for a given documentId\n  */\n  deleteChanges(documentId, cb) {\n    var deletedChanges = this._deleteChanges(documentId)\n    cb(null, deletedChanges.length)\n  }\n\n  /*\n    Gets the version number for a document\n  */\n  getVersion(id, cb) {\n    cb(null, this._getVersion(id))\n  }\n\n  // Handy synchronous helpers\n  // -------------------------\n\n  _deleteChanges(documentId) {\n    var changes = this._getChanges(documentId)\n    delete this._changes[documentId]\n    return changes\n  }\n\n  _getVersion(documentId) {\n    var changes = this._changes[documentId]\n    return changes ? changes.length : 0\n  }\n\n  _getChanges(documentId) {\n    return this._changes[documentId] || []\n  }\n\n  _addChange(documentId, change) {\n    if (!this._changes[documentId]) {\n      this._changes[documentId] = []\n    }\n    this._changes[documentId].push(change)\n  }\n}\n\nexport default ChangeStore\n","export default function forEach(iteratee, func) {\n  if (!iteratee) return\n  if (iteratee.constructor.prototype.forEach) {\n    iteratee.forEach(func)\n  } else {\n    Object.keys(iteratee).forEach(function(key) {\n      return func(iteratee[key], key)\n    })\n  }\n}\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\nexport default isSymbol;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/**\n * The base implementation of `_.toNumber` which doesn't ensure correct\n * conversions of binary, hexadecimal, or octal string values.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n */\nfunction baseToNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  return +value;\n}\n\nexport default baseToNumber;\n","/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\nexport default checkGlobal;\n","import checkGlobal from './_checkGlobal.js';\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(typeof self == 'object' && self);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(typeof this == 'object' && this);\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || thisGlobal || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","import baseToNumber from './_baseToNumber.js';\nimport baseToString from './_baseToString.js';\n\n/**\n * Creates a function that performs a mathematical operation on two values.\n *\n * @private\n * @param {Function} operator The function to perform the operation.\n * @returns {Function} Returns the new mathematical operation function.\n */\nfunction createMathOperation(operator) {\n  return function(value, other) {\n    var result;\n    if (value === undefined && other === undefined) {\n      return 0;\n    }\n    if (value !== undefined) {\n      result = value;\n    }\n    if (other !== undefined) {\n      if (result === undefined) {\n        return other;\n      }\n      if (typeof value == 'string' || typeof other == 'string') {\n        value = baseToString(value);\n        other = baseToString(other);\n      } else {\n        value = baseToNumber(value);\n        other = baseToNumber(other);\n      }\n      result = operator(value, other);\n    }\n    return result;\n  };\n}\n\nexport default createMathOperation;\n","import createMathOperation from './_createMathOperation.js';\n\n/**\n * Adds two numbers.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {number} augend The first number in an addition.\n * @param {number} addend The second number in an addition.\n * @returns {number} Returns the total.\n * @example\n *\n * _.add(6, 4);\n * // => 10\n */\nvar add = createMathOperation(function(augend, addend) {\n  return augend + addend;\n});\n\nexport default add;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\nexport default isFunction;\n","import isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import toInteger from './toInteger.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * The opposite of `_.before`; this method creates a function that invokes\n * `func` once it's called `n` or more times.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {number} n The number of calls before `func` is invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var saves = ['profile', 'settings'];\n *\n * var done = _.after(saves.length, function() {\n *   console.log('done saving!');\n * });\n *\n * _.forEach(saves, function(type) {\n *   asyncSave({ 'type': type, 'complete': done });\n * });\n * // => Logs 'done saving!' after the two async saves have completed.\n */\nfunction after(n, func) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n < 1) {\n      return func.apply(this, arguments);\n    }\n  };\n}\n\nexport default after;\n","/**\n * This method returns the first argument given to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'user': 'fred' };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n","/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\nexport default isHostObject;\n","import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n","import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n","/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n","import isFunction from './isFunction.js';\nimport isHostObject from './_isHostObject.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n","import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n","import WeakMap from './_WeakMap.js';\n\n/** Used to store function metadata. */\nvar metaMap = WeakMap && new WeakMap;\n\nexport default metaMap;\n","import identity from './identity.js';\nimport metaMap from './_metaMap.js';\n\n/**\n * The base implementation of `setData` without support for hot loop detection.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar baseSetData = !metaMap ? identity : function(func, data) {\n  metaMap.set(func, data);\n  return func;\n};\n\nexport default baseSetData;\n","import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\nexport default baseCreate;\n","import baseCreate from './_baseCreate.js';\nimport isObject from './isObject.js';\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtorWrapper(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nexport default createCtorWrapper;\n","import createCtorWrapper from './_createCtorWrapper.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper`\n *  for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBaseWrapper(func, bitmask, thisArg) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nexport default createBaseWrapper;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  var length = args.length;\n  switch (length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nexport default composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nexport default composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      result++;\n    }\n  }\n  return result;\n}\n\nexport default countHolders;\n","/**\n * The function whose prototype chain sequence wrappers inherit from.\n *\n * @private\n */\nfunction baseLodash() {\n  // No operation performed.\n}\n\nexport default baseLodash;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n *\n * @private\n * @constructor\n * @param {*} value The value to wrap.\n */\nfunction LazyWrapper(value) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__dir__ = 1;\n  this.__filtered__ = false;\n  this.__iteratees__ = [];\n  this.__takeCount__ = MAX_ARRAY_LENGTH;\n  this.__views__ = [];\n}\n\n// Ensure `LazyWrapper` is an instance of `baseLodash`.\nLazyWrapper.prototype = baseCreate(baseLodash.prototype);\nLazyWrapper.prototype.constructor = LazyWrapper;\n\nexport default LazyWrapper;\n","/**\n * A method that returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nexport default noop;\n","import metaMap from './_metaMap.js';\nimport noop from './noop.js';\n\n/**\n * Gets metadata for `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {*} Returns the metadata for `func`.\n */\nvar getData = !metaMap ? noop : function(func) {\n  return metaMap.get(func);\n};\n\nexport default getData;\n","/** Used to lookup unminified function names. */\nvar realNames = {};\n\nexport default realNames;\n","import realNames from './_realNames.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the name of `func`.\n *\n * @private\n * @param {Function} func The function to query.\n * @returns {string} Returns the function name.\n */\nfunction getFuncName(func) {\n  var result = (func.name + ''),\n      array = realNames[result],\n      length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n  while (length--) {\n    var data = array[length],\n        otherFunc = data.func;\n    if (otherFunc == null || otherFunc == func) {\n      return data.name;\n    }\n  }\n  return result;\n}\n\nexport default getFuncName;\n","import baseCreate from './_baseCreate.js';\nimport baseLodash from './_baseLodash.js';\n\n/**\n * The base constructor for creating `lodash` wrapper objects.\n *\n * @private\n * @param {*} value The value to wrap.\n * @param {boolean} [chainAll] Enable explicit method chain sequences.\n */\nfunction LodashWrapper(value, chainAll) {\n  this.__wrapped__ = value;\n  this.__actions__ = [];\n  this.__chain__ = !!chainAll;\n  this.__index__ = 0;\n  this.__values__ = undefined;\n}\n\nLodashWrapper.prototype = baseCreate(baseLodash.prototype);\nLodashWrapper.prototype.constructor = LodashWrapper;\n\nexport default LodashWrapper;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport copyArray from './_copyArray.js';\n\n/**\n * Creates a clone of `wrapper`.\n *\n * @private\n * @param {Object} wrapper The wrapper to clone.\n * @returns {Object} Returns the cloned wrapper.\n */\nfunction wrapperClone(wrapper) {\n  if (wrapper instanceof LazyWrapper) {\n    return wrapper.clone();\n  }\n  var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n  result.__actions__ = copyArray(wrapper.__actions__);\n  result.__index__  = wrapper.__index__;\n  result.__values__ = wrapper.__values__;\n  return result;\n}\n\nexport default wrapperClone;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport baseLodash from './_baseLodash.js';\nimport isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\nimport wrapperClone from './_wrapperClone.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates a `lodash` object which wraps `value` to enable implicit method\n * chain sequences. Methods that operate on and return arrays, collections,\n * and functions can be chained together. Methods that retrieve a single value\n * or may return a primitive value will automatically end the chain sequence\n * and return the unwrapped value. Otherwise, the value must be unwrapped\n * with `_#value`.\n *\n * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n * enabled using `_.chain`.\n *\n * The execution of chained methods is lazy, that is, it's deferred until\n * `_#value` is implicitly or explicitly called.\n *\n * Lazy evaluation allows several methods to support shortcut fusion.\n * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n * the creation of intermediate arrays and can greatly reduce the number of\n * iteratee executions. Sections of a chain sequence qualify for shortcut\n * fusion if the section is applied to an array of at least `200` elements\n * and any iteratees accept only one argument. The heuristic for whether a\n * section qualifies for shortcut fusion is subject to change.\n *\n * Chaining is supported in custom builds as long as the `_#value` method is\n * directly or indirectly included in the build.\n *\n * In addition to lodash methods, wrappers have `Array` and `String` methods.\n *\n * The wrapper `Array` methods are:\n * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n *\n * The wrapper `String` methods are:\n * `replace` and `split`\n *\n * The wrapper methods that support shortcut fusion are:\n * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n *\n * The chainable wrapper methods are:\n * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n * `zipObject`, `zipObjectDeep`, and `zipWith`\n *\n * The wrapper methods that are **not** chainable by default are:\n * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `deburr`, `divide`, `each`,\n * `eachRight`, `endsWith`, `eq`, `escape`, `escapeRegExp`, `every`, `find`,\n * `findIndex`, `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `first`,\n * `floor`, `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`,\n * `forOwnRight`, `get`, `gt`, `gte`, `has`, `hasIn`, `head`, `identity`,\n * `includes`, `indexOf`, `inRange`, `invoke`, `isArguments`, `isArray`,\n * `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`, `isBoolean`,\n * `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`, `isEqualWith`,\n * `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`, `isMap`,\n * `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n * `upperFirst`, `value`, and `words`\n *\n * @name _\n * @constructor\n * @category Seq\n * @param {*} value The value to wrap in a `lodash` instance.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2, 3]);\n *\n * // Returns an unwrapped value.\n * wrapped.reduce(_.add);\n * // => 6\n *\n * // Returns a wrapped value.\n * var squares = wrapped.map(square);\n *\n * _.isArray(squares);\n * // => false\n *\n * _.isArray(squares.value());\n * // => true\n */\nfunction lodash(value) {\n  if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n    if (value instanceof LodashWrapper) {\n      return value;\n    }\n    if (hasOwnProperty.call(value, '__wrapped__')) {\n      return wrapperClone(value);\n    }\n  }\n  return new LodashWrapper(value);\n}\n\n// Ensure wrappers are instances of `baseLodash`.\nlodash.prototype = baseLodash.prototype;\nlodash.prototype.constructor = lodash;\n\nexport default lodash;\n","import LazyWrapper from './_LazyWrapper.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport lodash from './wrapperLodash.js';\n\n/**\n * Checks if `func` has a lazy counterpart.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n *  else `false`.\n */\nfunction isLaziable(func) {\n  var funcName = getFuncName(func),\n      other = lodash[funcName];\n\n  if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n    return false;\n  }\n  if (func === other) {\n    return true;\n  }\n  var data = getData(other);\n  return !!data && func === data[0];\n}\n\nexport default isLaziable;\n","/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nfunction now() {\n  return Date.now();\n}\n\nexport default now;\n","import baseSetData from './_baseSetData.js';\nimport now from './now.js';\n\n/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 150,\n    HOT_SPAN = 16;\n\n/**\n * Sets metadata for `func`.\n *\n * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n * period of time, it will trip its breaker and transition to an identity\n * function to avoid garbage collection pauses in V8. See\n * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n * for more details.\n *\n * @private\n * @param {Function} func The function to associate metadata with.\n * @param {*} data The metadata.\n * @returns {Function} Returns `func`.\n */\nvar setData = (function() {\n  var count = 0,\n      lastCalled = 0;\n\n  return function(key, value) {\n    var stamp = now(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return key;\n      }\n    } else {\n      count = 0;\n    }\n    return baseSetData(key, value);\n  };\n}());\n\nexport default setData;\n","import isLaziable from './_isLaziable.js';\nimport setData from './_setData.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper`\n *  for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurryWrapper(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\n\n  if (!(bitmask & CURRY_BOUND_FLAG)) {\n    bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return result;\n}\n\nexport default createRecurryWrapper;\n","/**\n * Gets the argument placeholder value for `func`.\n *\n * @private\n * @param {Function} func The function to inspect.\n * @returns {*} Returns the placeholder value.\n */\nfunction getHolder(func) {\n  var object = func;\n  return object.placeholder;\n}\n\nexport default getHolder;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n","import copyArray from './_copyArray.js';\nimport isIndex from './_isIndex.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nexport default reorder;\n","/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/**\n * Replaces all `placeholder` elements in `array` with an internal placeholder\n * and returns an array of their indexes.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {*} placeholder The placeholder to replace.\n * @returns {Array} Returns the new array of placeholder indexes.\n */\nfunction replaceHolders(array, placeholder) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value === placeholder || value === PLACEHOLDER) {\n      array[index] = PLACEHOLDER;\n      result[resIndex++] = index;\n    }\n  }\n  return result;\n}\n\nexport default replaceHolders;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport countHolders from './_countHolders.js';\nimport createCtorWrapper from './_createCtorWrapper.js';\nimport createRecurryWrapper from './_createRecurryWrapper.js';\nimport getHolder from './_getHolder.js';\nimport reorder from './_reorder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    ARY_FLAG = 128,\n    FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper`\n *  for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & ARY_FLAG,\n      isBind = bitmask & BIND_FLAG,\n      isBindKey = bitmask & BIND_KEY_FLAG,\n      isCurried = bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG),\n      isFlip = bitmask & FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtorWrapper(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nexport default createHybridWrapper;\n","import apply from './_apply.js';\nimport createCtorWrapper from './_createCtorWrapper.js';\nimport createHybridWrapper from './_createHybridWrapper.js';\nimport createRecurryWrapper from './_createRecurryWrapper.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport root from './_root.js';\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper`\n *  for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurryWrapper(func, bitmask, arity) {\n  var Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurryWrapper(\n        func, bitmask, createHybridWrapper, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nexport default createCurryWrapper;\n","import apply from './_apply.js';\nimport createCtorWrapper from './_createCtorWrapper.js';\nimport root from './_root.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask of wrapper flags. See `createWrapper`\n *  for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartialWrapper(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & BIND_FLAG,\n      Ctor = createCtorWrapper(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nexport default createPartialWrapper;\n","import composeArgs from './_composeArgs.js';\nimport composeArgsRight from './_composeArgsRight.js';\nimport replaceHolders from './_replaceHolders.js';\n\n/** Used as the internal argument placeholder. */\nvar PLACEHOLDER = '__lodash_placeholder__';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_BOUND_FLAG = 4,\n    CURRY_FLAG = 8,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Merges the function metadata of `source` into `data`.\n *\n * Merging metadata reduces the number of wrappers used to invoke a function.\n * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n * may be applied regardless of execution order. Methods like `_.ary` and\n * `_.rearg` modify function arguments, making the order in which they are\n * executed important, preventing the merging of metadata. However, we make\n * an exception for a safe combined case where curried functions have `_.ary`\n * and or `_.rearg` applied.\n *\n * @private\n * @param {Array} data The destination metadata.\n * @param {Array} source The source metadata.\n * @returns {Array} Returns `data`.\n */\nfunction mergeData(data, source) {\n  var bitmask = data[1],\n      srcBitmask = source[1],\n      newBitmask = bitmask | srcBitmask,\n      isCommon = newBitmask < (BIND_FLAG | BIND_KEY_FLAG | ARY_FLAG);\n\n  var isCombo =\n    ((srcBitmask == ARY_FLAG) && (bitmask == CURRY_FLAG)) ||\n    ((srcBitmask == ARY_FLAG) && (bitmask == REARG_FLAG) && (data[7].length <= source[8])) ||\n    ((srcBitmask == (ARY_FLAG | REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == CURRY_FLAG));\n\n  // Exit early if metadata can't be merged.\n  if (!(isCommon || isCombo)) {\n    return data;\n  }\n  // Use source `thisArg` if available.\n  if (srcBitmask & BIND_FLAG) {\n    data[2] = source[2];\n    // Set when currying a bound function.\n    newBitmask |= bitmask & BIND_FLAG ? 0 : CURRY_BOUND_FLAG;\n  }\n  // Compose partial arguments.\n  var value = source[3];\n  if (value) {\n    var partials = data[3];\n    data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n    data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n  }\n  // Compose partial right arguments.\n  value = source[5];\n  if (value) {\n    partials = data[5];\n    data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n    data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n  }\n  // Use source `argPos` if available.\n  value = source[7];\n  if (value) {\n    data[7] = value;\n  }\n  // Use source `ary` if it's smaller.\n  if (srcBitmask & ARY_FLAG) {\n    data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n  }\n  // Use source `arity` if one is not provided.\n  if (data[9] == null) {\n    data[9] = source[9];\n  }\n  // Use source `func` and merge bitmasks.\n  data[0] = source[0];\n  data[1] = newBitmask;\n\n  return data;\n}\n\nexport default mergeData;\n","import baseSetData from './_baseSetData.js';\nimport createBaseWrapper from './_createBaseWrapper.js';\nimport createCurryWrapper from './_createCurryWrapper.js';\nimport createHybridWrapper from './_createHybridWrapper.js';\nimport createPartialWrapper from './_createPartialWrapper.js';\nimport getData from './_getData.js';\nimport mergeData from './_mergeData.js';\nimport setData from './_setData.js';\nimport toInteger from './toInteger.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    CURRY_FLAG = 8,\n    CURRY_RIGHT_FLAG = 16,\n    PARTIAL_FLAG = 32,\n    PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask of wrapper flags.\n *  The bitmask may be composed of the following flags:\n *     1 - `_.bind`\n *     2 - `_.bindKey`\n *     4 - `_.curry` or `_.curryRight` of a bound function\n *     8 - `_.curry`\n *    16 - `_.curryRight`\n *    32 - `_.partial`\n *    64 - `_.partialRight`\n *   128 - `_.rearg`\n *   256 - `_.ary`\n *   512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] == null\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (CURRY_FLAG | CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(CURRY_FLAG | CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == BIND_FLAG) {\n    var result = createBaseWrapper(func, bitmask, thisArg);\n  } else if (bitmask == CURRY_FLAG || bitmask == CURRY_RIGHT_FLAG) {\n    result = createCurryWrapper(func, bitmask, arity);\n  } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !holders.length) {\n    result = createPartialWrapper(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybridWrapper.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setter(result, newData);\n}\n\nexport default createWrapper;\n","import createWrapper from './_createWrapper.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nexport default ary;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n","import eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nexport default assignValue;\n","import assignValue from './_assignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : source[key];\n\n    assignValue(object, key, newValue);\n  }\n  return object;\n}\n\nexport default copyObject;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n","import baseProperty from './_baseProperty.js';\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a\n * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n * Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\nexport default getLength;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n","import getLength from './_getLength.js';\nimport isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\nexport default isArrayLike;\n","import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n","import apply from './_apply.js';\nimport toInteger from './toInteger.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * created function and arguments from `start` and beyond provided as\n * an array.\n *\n * **Note:** This method is based on the\n * [rest parameter](https://mdn.io/rest_parameters).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Function\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.rest(function(what, names) {\n *   return what + ' ' + _.initial(names).join(', ') +\n *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n * });\n *\n * say('hello', 'fred', 'barney', 'pebbles');\n * // => 'hello fred, barney, & pebbles'\n */\nfunction rest(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = nativeMax(start === undefined ? (func.length - 1) : toInteger(start), 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    switch (start) {\n      case 0: return func.call(this, array);\n      case 1: return func.call(this, args[0], array);\n      case 2: return func.call(this, args[0], args[1], array);\n    }\n    var otherArgs = Array(start + 1);\n    index = -1;\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = array;\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default rest;\n","import isIterateeCall from './_isIterateeCall.js';\nimport rest from './rest.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return rest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetPrototype = Object.getPrototypeOf;\n\n/**\n * Gets the `[[Prototype]]` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {null|Object} Returns the `[[Prototype]]`.\n */\nfunction getPrototype(value) {\n  return nativeGetPrototype(Object(value));\n}\n\nexport default getPrototype;\n","import getPrototype from './_getPrototype.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  // Avoid a bug in IE 10-11 where objects with a [[Prototype]] of `null`,\n  // that are composed entirely of index properties, return `false` for\n  // `hasOwnProperty` checks of them.\n  return object != null &&\n    (hasOwnProperty.call(object, key) ||\n      (typeof object == 'object' && key in object && getPrototype(object) === null));\n}\n\nexport default baseHas;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = Object.keys;\n\n/**\n * The base implementation of `_.keys` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  return nativeKeys(Object(object));\n}\n\nexport default baseKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n","import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n","import isArrayLikeObject from './isArrayLikeObject.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\nexport default isArguments;\n","import isArray from './isArray.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nexport default isString;\n","import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isLength from './isLength.js';\nimport isString from './isString.js';\n\n/**\n * Creates an array of index keys for `object` values of arrays,\n * `arguments` objects, and strings, otherwise `null` is returned.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array|null} Returns index keys, else `null`.\n */\nfunction indexKeys(object) {\n  var length = object ? object.length : undefined;\n  if (isLength(length) &&\n      (isArray(object) || isString(object) || isArguments(object))) {\n    return baseTimes(length, String);\n  }\n  return null;\n}\n\nexport default indexKeys;\n","import baseHas from './_baseHas.js';\nimport baseKeys from './_baseKeys.js';\nimport indexKeys from './_indexKeys.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  var isProto = isPrototype(object);\n  if (!(isProto || isArrayLike(object))) {\n    return baseKeys(object);\n  }\n  var indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  for (var key in object) {\n    if (baseHas(object, key) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(isProto && key == 'constructor')) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default keys;\n","import assignValue from './_assignValue.js';\nimport copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport isArrayLike from './isArrayLike.js';\nimport isPrototype from './_isPrototype.js';\nimport keys from './keys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Assigns own enumerable string keyed properties of source objects to the\n * destination object. Source objects are applied from left to right.\n * Subsequent sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object` and is loosely based on\n * [`Object.assign`](https://mdn.io/Object/assign).\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assignIn\n * @example\n *\n * function Foo() {\n *   this.c = 3;\n * }\n *\n * function Bar() {\n *   this.e = 5;\n * }\n *\n * Foo.prototype.d = 4;\n * Bar.prototype.f = 6;\n *\n * _.assign({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'c': 3, 'e': 5 }\n */\nvar assign = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keys(source), object);\n    return;\n  }\n  for (var key in source) {\n    if (hasOwnProperty.call(source, key)) {\n      assignValue(object, key, source[key]);\n    }\n  }\n});\n\nexport default assign;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Reflect = root.Reflect;\n\nexport default Reflect;\n","/**\n * Converts `iterator` to an array.\n *\n * @private\n * @param {Object} iterator The iterator to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction iteratorToArray(iterator) {\n  var data,\n      result = [];\n\n  while (!(data = iterator.next()).done) {\n    result.push(data.value);\n  }\n  return result;\n}\n\nexport default iteratorToArray;\n","import Reflect from './_Reflect.js';\nimport iteratorToArray from './_iteratorToArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar enumerate = Reflect ? Reflect.enumerate : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * The base implementation of `_.keysIn` which doesn't skip the constructor\n * property of prototypes or treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  object = object == null ? object : Object(object);\n\n  var result = [];\n  for (var key in object) {\n    result.push(key);\n  }\n  return result;\n}\n\n// Fallback for IE < 9 with es6-shim.\nif (enumerate && !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf')) {\n  baseKeysIn = function(object) {\n    return iteratorToArray(enumerate(object));\n  };\n}\n\nexport default baseKeysIn;\n","import baseKeysIn from './_baseKeysIn.js';\nimport indexKeys from './_indexKeys.js';\nimport isIndex from './_isIndex.js';\nimport isPrototype from './_isPrototype.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  var index = -1,\n      isProto = isPrototype(object),\n      props = baseKeysIn(object),\n      propsLength = props.length,\n      indexes = indexKeys(object),\n      skipIndexes = !!indexes,\n      result = indexes || [],\n      length = result.length;\n\n  while (++index < propsLength) {\n    var key = props[index];\n    if (!(skipIndexes && (key == 'length' || isIndex(key, length))) &&\n        !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default keysIn;\n","import assignValue from './_assignValue.js';\nimport copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport isArrayLike from './isArrayLike.js';\nimport isPrototype from './_isPrototype.js';\nimport keysIn from './keysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * function Bar() {\n *   this.d = 4;\n * }\n *\n * Foo.prototype.c = 3;\n * Bar.prototype.e = 5;\n *\n * _.assignIn({ 'a': 1 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  if (nonEnumShadows || isPrototype(source) || isArrayLike(source)) {\n    copyObject(source, keysIn(source), object);\n    return;\n  }\n  for (var key in source) {\n    assignValue(object, key, source[key]);\n  }\n});\n\nexport default assignIn;\n","import copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport keysIn from './keysIn.js';\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\nexport default assignInWith;\n","import copyObject from './_copyObject.js';\nimport createAssigner from './_createAssigner.js';\nimport keys from './keys.js';\n\n/**\n * This method is like `_.assign` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignInWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keys(source), object, customizer);\n});\n\nexport default assignWith;\n","import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n","import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\nexport default hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\nexport default hashDelete;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n","import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n","import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\nexport default listCacheClear;\n","import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\nexport default listCacheDelete;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n","import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n","import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n","import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n","import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n","import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\nexport default mapCacheDelete;\n","import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n","import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n","import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\nexport default mapCacheSet;\n","import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n","import MapCache from './_MapCache.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","import memoize from './memoize.js';\nimport toString from './toString.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(\\.|\\[\\])(?:\\4|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  var result = [];\n  toString(string).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n","import isArray from './isArray.js';\nimport stringToPath from './_stringToPath.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\nexport default castPath;\n","import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n","import castPath from './_castPath.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n","import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n","import get from './get.js';\n\n/**\n * The base implementation of `_.at` without support for individual paths.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {string[]} paths The property paths of elements to pick.\n * @returns {Array} Returns the picked elements.\n */\nfunction baseAt(object, paths) {\n  var index = -1,\n      isNil = object == null,\n      length = paths.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = isNil ? undefined : get(object, paths[index]);\n  }\n  return result;\n}\n\nexport default baseAt;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n","import isArguments from './isArguments.js';\nimport isArray from './isArray.js';\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value);\n}\n\nexport default isFlattenable;\n","import arrayPush from './_arrayPush.js';\nimport isFlattenable from './_isFlattenable.js';\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nexport default baseFlatten;\n","import baseAt from './_baseAt.js';\nimport baseFlatten from './_baseFlatten.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of values corresponding to `paths` of `object`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {...(string|string[])} [paths] The property paths of elements to pick.\n * @returns {Array} Returns the picked values.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n *\n * _.at(object, ['a[0].b.c', 'a[1]']);\n * // => [3, 4]\n */\nvar at = rest(function(object, paths) {\n  return baseAt(object, baseFlatten(paths, 1));\n});\n\nexport default at;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar errorTag = '[object Error]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object,\n *  else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  return (objectToString.call(value) == errorTag) ||\n    (typeof value.message == 'string' && typeof value.name == 'string');\n}\n\nexport default isError;\n","import apply from './_apply.js';\nimport isError from './isError.js';\nimport rest from './rest.js';\n\n/**\n * Attempts to invoke `func`, returning either the result or the caught error\n * object. Any additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Function} func The function to attempt.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {*} Returns the `func` result or error object.\n * @example\n *\n * // Avoid throwing errors for invalid selectors.\n * var elements = _.attempt(function(selector) {\n *   return document.querySelectorAll(selector);\n * }, '>_>');\n *\n * if (_.isError(elements)) {\n *   elements = [];\n * }\n */\nvar attempt = rest(function(func, args) {\n  try {\n    return apply(func, undefined, args);\n  } catch (e) {\n    return isError(e) ? e : new Error(e);\n  }\n});\n\nexport default attempt;\n","import toInteger from './toInteger.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => allows adding up to 4 contacts to the list\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nexport default before;\n","import createWrapper from './_createWrapper.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport rest from './rest.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of `thisArg`\n * and `partials` prepended to the arguments it receives.\n *\n * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for partially applied arguments.\n *\n * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n * property of bound functions.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to bind.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var greet = function(greeting, punctuation) {\n *   return greeting + ' ' + this.user + punctuation;\n * };\n *\n * var object = { 'user': 'fred' };\n *\n * var bound = _.bind(greet, object, 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bind(greet, object, _, '!');\n * bound('hi');\n * // => 'hi fred!'\n */\nvar bind = rest(function(func, thisArg, partials) {\n  var bitmask = BIND_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bind));\n    bitmask |= PARTIAL_FLAG;\n  }\n  return createWrapper(func, bitmask, thisArg, partials, holders);\n});\n\n// Assign default placeholders.\nbind.placeholder = {};\n\nexport default bind;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n","import arrayEach from './_arrayEach.js';\nimport baseFlatten from './_baseFlatten.js';\nimport bind from './bind.js';\nimport rest from './rest.js';\nimport toKey from './_toKey.js';\n\n/**\n * Binds methods of an object to the object itself, overwriting the existing\n * method.\n *\n * **Note:** This method doesn't set the \"length\" property of bound functions.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {Object} object The object to bind and assign the bound methods to.\n * @param {...(string|string[])} methodNames The object method names to bind.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var view = {\n *   'label': 'docs',\n *   'onClick': function() {\n *     console.log('clicked ' + this.label);\n *   }\n * };\n *\n * _.bindAll(view, ['onClick']);\n * jQuery(element).on('click', view.onClick);\n * // => Logs 'clicked docs' when clicked.\n */\nvar bindAll = rest(function(object, methodNames) {\n  arrayEach(baseFlatten(methodNames, 1), function(key) {\n    key = toKey(key);\n    object[key] = bind(object[key], object);\n  });\n  return object;\n});\n\nexport default bindAll;\n","import createWrapper from './_createWrapper.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport rest from './rest.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_FLAG = 1,\n    BIND_KEY_FLAG = 2,\n    PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes the method at `object[key]` with `partials`\n * prepended to the arguments it receives.\n *\n * This method differs from `_.bind` by allowing bound functions to reference\n * methods that may be redefined or don't yet exist. See\n * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n * for more details.\n *\n * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for partially applied arguments.\n *\n * @static\n * @memberOf _\n * @since 0.10.0\n * @category Function\n * @param {Object} object The object to invoke the method on.\n * @param {string} key The key of the method.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var object = {\n *   'user': 'fred',\n *   'greet': function(greeting, punctuation) {\n *     return greeting + ' ' + this.user + punctuation;\n *   }\n * };\n *\n * var bound = _.bindKey(object, 'greet', 'hi');\n * bound('!');\n * // => 'hi fred!'\n *\n * object.greet = function(greeting, punctuation) {\n *   return greeting + 'ya ' + this.user + punctuation;\n * };\n *\n * bound('!');\n * // => 'hiya fred!'\n *\n * // Bound with placeholders.\n * var bound = _.bindKey(object, 'greet', _, '!');\n * bound('hi');\n * // => 'hiya fred!'\n */\nvar bindKey = rest(function(object, key, partials) {\n  var bitmask = BIND_FLAG | BIND_KEY_FLAG;\n  if (partials.length) {\n    var holders = replaceHolders(partials, getHolder(bindKey));\n    bitmask |= PARTIAL_FLAG;\n  }\n  return createWrapper(key, bitmask, object, partials, holders);\n});\n\n// Assign default placeholders.\nbindKey.placeholder = {};\n\nexport default bindKey;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nexport default baseSlice;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nexport default castSlice;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasComplexSymbol = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\nexport default reHasComplexSymbol;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reComplexSymbol = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return string.match(reComplexSymbol);\n}\n\nexport default stringToArray;\n","import castSlice from './_castSlice.js';\nimport reHasComplexSymbol from './_reHasComplexSymbol.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = reHasComplexSymbol.test(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nexport default createCaseFirst;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nexport default upperFirst;\n","import toString from './toString.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nexport default capitalize;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduce;\n","/** Used to map latin-1 supplementary letters to basic latin letters. */\nvar deburredLetters = {\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss'\n};\n\n/**\n * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nfunction deburrLetter(letter) {\n  return deburredLetters[letter];\n}\n\nexport default deburrLetter;\n","import deburrLetter from './_deburrLetter.js';\nimport toString from './toString.js';\n\n/** Used to match latin-1 supplementary letters (excluding mathematical operators). */\nvar reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0';\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * to basic latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\n}\n\nexport default deburr;\n","import toString from './toString.js';\n\n/** Used to match non-compound words composed of alphanumeric characters. */\nvar reBasicWord = /[a-zA-Z0-9]+/g;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsLowerMisc = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsUpperMisc = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptLowerContr = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptUpperContr = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reComplexWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptLowerContr + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsUpperMisc + '+' + rsOptUpperContr + '(?=' + [rsBreak, rsUpper + rsLowerMisc, '$'].join('|') + ')',\n  rsUpper + '?' + rsLowerMisc + '+' + rsOptLowerContr,\n  rsUpper + '+' + rsOptUpperContr,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasComplexWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    pattern = reHasComplexWord.test(string) ? reComplexWord : reBasicWord;\n  }\n  return string.match(pattern) || [];\n}\n\nexport default words;\n","import arrayReduce from './_arrayReduce.js';\nimport deburr from './deburr.js';\nimport words from './words.js';\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nexport default createCompounder;\n","import capitalize from './capitalize.js';\nimport createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nexport default camelCase;\n","import isArray from './isArray.js';\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nexport default castArray;\n","import toInteger from './toInteger.js';\nimport toNumber from './toNumber.js';\nimport toString from './toString.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Creates a function like `_.round`.\n *\n * @private\n * @param {string} methodName The name of the `Math` method to use when rounding.\n * @returns {Function} Returns the new round function.\n */\nfunction createRound(methodName) {\n  var func = Math[methodName];\n  return function(number, precision) {\n    number = toNumber(number);\n    precision = nativeMin(toInteger(precision), 292);\n    if (precision) {\n      // Shift with exponential notation to avoid floating-point issues.\n      // See [MDN](https://mdn.io/round#Examples) for more details.\n      var pair = (toString(number) + 'e').split('e'),\n          value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n      pair = (toString(value) + 'e').split('e');\n      return +(pair[0] + 'e' + (+pair[1] - precision));\n    }\n    return func(number);\n  };\n}\n\nexport default createRound;\n","import createRound from './_createRound.js';\n\n/**\n * Computes `number` rounded up to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round up.\n * @param {number} [precision=0] The precision to round up to.\n * @returns {number} Returns the rounded up number.\n * @example\n *\n * _.ceil(4.006);\n * // => 5\n *\n * _.ceil(6.004, 2);\n * // => 6.01\n *\n * _.ceil(6040, -2);\n * // => 6100\n */\nvar ceil = createRound('ceil');\n\nexport default ceil;\n","import lodash from './wrapperLodash.js';\n\n/**\n * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n * chain sequences enabled. The result of such sequences must be unwrapped\n * with `_#value`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Seq\n * @param {*} value The value to wrap.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36 },\n *   { 'user': 'fred',    'age': 40 },\n *   { 'user': 'pebbles', 'age': 1 }\n * ];\n *\n * var youngest = _\n *   .chain(users)\n *   .sortBy('age')\n *   .map(function(o) {\n *     return o.user + ' is ' + o.age;\n *   })\n *   .head()\n *   .value();\n * // => 'pebbles is 1'\n */\nfunction chain(value) {\n  var result = lodash(value);\n  result.__chain__ = true;\n  return result;\n}\n\nexport default chain;\n","import baseSlice from './_baseSlice.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * Creates an array of elements split into groups the length of `size`.\n * If `array` can't be split evenly, the final chunk will be the remaining\n * elements.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to process.\n * @param {number} [size=1] The length of each chunk\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the new array of chunks.\n * @example\n *\n * _.chunk(['a', 'b', 'c', 'd'], 2);\n * // => [['a', 'b'], ['c', 'd']]\n *\n * _.chunk(['a', 'b', 'c', 'd'], 3);\n * // => [['a', 'b', 'c'], ['d']]\n */\nfunction chunk(array, size, guard) {\n  if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n    size = 1;\n  } else {\n    size = nativeMax(toInteger(size), 0);\n  }\n  var length = array ? array.length : 0;\n  if (!length || size < 1) {\n    return [];\n  }\n  var index = 0,\n      resIndex = 0,\n      result = Array(nativeCeil(length / size));\n\n  while (index < length) {\n    result[resIndex++] = baseSlice(array, index, (index += size));\n  }\n  return result;\n}\n\nexport default chunk;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments to numbers.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nexport default baseClamp;\n","import baseClamp from './_baseClamp.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nexport default clamp;\n","import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\nexport default stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\nexport default stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n","import ListCache from './_ListCache.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache && cache.__data__.length == LARGE_ARRAY_SIZE) {\n    cache = this.__data__ = new MapCache(cache.__data__);\n  }\n  cache.set(key, value);\n  return this;\n}\n\nexport default stackSet;\n","import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n","import copyObject from './_copyObject.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nexport default baseAssign;\n","/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n","/**\n * A method that returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n","import stubArray from './stubArray.js';\n\n/** Built-in value references. */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nfunction getSymbols(object) {\n  // Coerce `object` to an object to avoid non-object errors in V8.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=3443 for more details.\n  return getOwnPropertySymbols(Object(object));\n}\n\n// Fallback for IE < 11.\nif (!getOwnPropertySymbols) {\n  getSymbols = stubArray;\n}\n\nexport default getSymbols;\n","import copyObject from './_copyObject.js';\nimport getSymbols from './_getSymbols.js';\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nexport default copySymbols;\n","import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n","import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n","import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction getTag(value) {\n  return objectToString.call(value);\n}\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nexport default initCloneArray;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n","import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nexport default cloneDataView;\n","/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `Map#set` because it doesn't return the map instance in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\nexport default addMapEntry;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n","import addMapEntry from './_addMapEntry.js';\nimport arrayReduce from './_arrayReduce.js';\nimport mapToArray from './_mapToArray.js';\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\nexport default cloneMap;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nexport default cloneRegExp;\n","/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  set.add(value);\n  return set;\n}\n\nexport default addSetEntry;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n","import addSetEntry from './_addSetEntry.js';\nimport arrayReduce from './_arrayReduce.js';\nimport setToArray from './_setToArray.js';\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\nexport default cloneSet;\n","import Symbol from './_Symbol.js';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nexport default cloneSymbol;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n","import cloneArrayBuffer from './_cloneArrayBuffer.js';\nimport cloneDataView from './_cloneDataView.js';\nimport cloneMap from './_cloneMap.js';\nimport cloneRegExp from './_cloneRegExp.js';\nimport cloneSet from './_cloneSet.js';\nimport cloneSymbol from './_cloneSymbol.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nexport default initCloneByTag;\n","import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n","/**\n * A method that returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n","import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = !Buffer ? stubFalse : function(value) {\n  return value instanceof Buffer;\n};\n\nexport default isBuffer;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignValue from './_assignValue.js';\nimport baseAssign from './_baseAssign.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport copyArray from './_copyArray.js';\nimport copySymbols from './_copySymbols.js';\nimport getAllKeys from './_getAllKeys.js';\nimport getTag from './_getTag.js';\nimport initCloneArray from './_initCloneArray.js';\nimport initCloneByTag from './_initCloneByTag.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isHostObject from './_isHostObject.js';\nimport isObject from './isObject.js';\nimport keys from './keys.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  // Recursively populate clone (susceptible to call stack limits).\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\nexport default baseClone;\n","import baseClone from './_baseClone.js';\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, false, true);\n}\n\nexport default clone;\n","import baseClone from './_baseClone.js';\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\nexport default cloneDeep;\n","import baseClone from './_baseClone.js';\n\n/**\n * This method is like `_.cloneWith` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @param {Function} [customizer] The function to customize cloning.\n * @returns {*} Returns the deep cloned value.\n * @see _.cloneWith\n * @example\n *\n * function customizer(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(true);\n *   }\n * }\n *\n * var el = _.cloneDeepWith(document.body, customizer);\n *\n * console.log(el === document.body);\n * // => false\n * console.log(el.nodeName);\n * // => 'BODY'\n * console.log(el.childNodes.length);\n * // => 20\n */\nfunction cloneDeepWith(value, customizer) {\n  return baseClone(value, true, true, customizer);\n}\n\nexport default cloneDeepWith;\n","import baseClone from './_baseClone.js';\n\n/**\n * This method is like `_.clone` except that it accepts `customizer` which\n * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n * cloning is handled by the method instead. The `customizer` is invoked with\n * up to four arguments; (value [, index|key, object, stack]).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to clone.\n * @param {Function} [customizer] The function to customize cloning.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeepWith\n * @example\n *\n * function customizer(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(false);\n *   }\n * }\n *\n * var el = _.cloneWith(document.body, customizer);\n *\n * console.log(el === document.body);\n * // => false\n * console.log(el.nodeName);\n * // => 'BODY'\n * console.log(el.childNodes.length);\n * // => 0\n */\nfunction cloneWith(value, customizer) {\n  return baseClone(value, false, true, customizer);\n}\n\nexport default cloneWith;\n","import LodashWrapper from './_LodashWrapper.js';\n\n/**\n * Executes the chain sequence and returns the wrapped result.\n *\n * @name commit\n * @memberOf _\n * @since 3.2.0\n * @category Seq\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var array = [1, 2];\n * var wrapped = _(array).push(3);\n *\n * console.log(array);\n * // => [1, 2]\n *\n * wrapped = wrapped.commit();\n * console.log(array);\n * // => [1, 2, 3]\n *\n * wrapped.last();\n * // => 3\n *\n * console.log(array);\n * // => [1, 2, 3]\n */\nfunction wrapperCommit() {\n  return new LodashWrapper(this.value(), this.__chain__);\n}\n\nexport default wrapperCommit;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array ? array.length : 0,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default compact;\n","import arrayPush from './_arrayPush.js';\nimport baseFlatten from './_baseFlatten.js';\nimport copyArray from './_copyArray.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a new array concatenating `array` with any additional arrays\n * and/or values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to concatenate.\n * @param {...*} [values] The values to concatenate.\n * @returns {Array} Returns the new concatenated array.\n * @example\n *\n * var array = [1];\n * var other = _.concat(array, 2, [3], [[4]]);\n *\n * console.log(other);\n * // => [1, 2, 3, [4]]\n *\n * console.log(array);\n * // => [1]\n */\nfunction concat() {\n  var length = arguments.length,\n      args = Array(length ? length - 1 : 0),\n      array = arguments[0],\n      index = length;\n\n  while (index--) {\n    args[index - 1] = arguments[index];\n  }\n  return length\n    ? arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1))\n    : [];\n}\n\nexport default concat;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n","import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n","import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & UNORDERED_COMPARE_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!seen.has(othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, customizer, bitmask, stack))) {\n              return seen.add(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, customizer, bitmask, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  return result;\n}\n\nexport default equalArrays;\n","import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, equalFunc, customizer, bitmask, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n      // Coerce dates and booleans to numbers, dates to milliseconds and\n      // booleans to `1` or `0` treating invalid dates coerced to `NaN` as\n      // not equal.\n      return +object == +other;\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case numberTag:\n      // Treat `NaN` vs. `NaN` as equal.\n      return (object != +object) ? other != +other : object == +other;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/6.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & PARTIAL_COMPARE_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= UNORDERED_COMPARE_FLAG;\n      stack.set(object, other);\n\n      // Recursively compare objects (susceptible to call stack limits).\n      return equalArrays(convert(object), convert(other), equalFunc, customizer, bitmask, stack);\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n","import baseHas from './_baseHas.js';\nimport keys from './keys.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} customizer The function to customize comparisons.\n * @param {number} bitmask The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, equalFunc, customizer, bitmask, stack) {\n  var isPartial = bitmask & PARTIAL_COMPARE_FLAG,\n      objProps = keys(object),\n      objLength = objProps.length,\n      othProps = keys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : baseHas(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, customizer, bitmask, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  return result;\n}\n\nexport default equalObjects;\n","import isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nfunction isTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[objectToString.call(value)];\n}\n\nexport default isTypedArray;\n","import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isHostObject from './_isHostObject.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar PARTIAL_COMPARE_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {number} [bitmask] The bitmask of comparison flags. See `baseIsEqual`\n *  for more details.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, equalFunc, customizer, bitmask, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = arrayTag,\n      othTag = arrayTag;\n\n  if (!objIsArr) {\n    objTag = getTag(object);\n    objTag = objTag == argsTag ? objectTag : objTag;\n  }\n  if (!othIsArr) {\n    othTag = getTag(other);\n    othTag = othTag == argsTag ? objectTag : othTag;\n  }\n  var objIsObj = objTag == objectTag && !isHostObject(object),\n      othIsObj = othTag == objectTag && !isHostObject(other),\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, equalFunc, customizer, bitmask, stack)\n      : equalByTag(object, other, objTag, equalFunc, customizer, bitmask, stack);\n  }\n  if (!(bitmask & PARTIAL_COMPARE_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, customizer, bitmask, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, equalFunc, customizer, bitmask, stack);\n}\n\nexport default baseIsEqualDeep;\n","import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObject from './isObject.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {boolean} [bitmask] The bitmask of comparison flags.\n *  The bitmask may be composed of the following flags:\n *     1 - Unordered comparison\n *     2 - Partial comparison\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, customizer, bitmask, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, baseIsEqual, customizer, bitmask, stack);\n}\n\nexport default baseIsEqual;\n","import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, customizer, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n","import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n","import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n","import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isKey from './_isKey.js';\nimport isLength from './isLength.js';\nimport isString from './isString.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var result,\n      index = -1,\n      length = path.length;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result) {\n    return result;\n  }\n  var length = object ? object.length : 0;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isString(object) || isArguments(object));\n}\n\nexport default hasPath;\n","import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n","import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for comparison styles. */\nvar UNORDERED_COMPARE_FLAG = 1,\n    PARTIAL_COMPARE_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, undefined, UNORDERED_COMPARE_FLAG | PARTIAL_COMPARE_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n","import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n","import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n","import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport rest from './rest.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that iterates over `pairs` and invokes the corresponding\n * function of the first predicate to return truthy. The predicate-function\n * pairs are invoked with the `this` binding and arguments of the created\n * function.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {Array} pairs The predicate-function pairs.\n * @returns {Function} Returns the new composite function.\n * @example\n *\n * var func = _.cond([\n *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n *   [_.constant(true),                _.constant('no match')]\n * ]);\n *\n * func({ 'a': 1, 'b': 2 });\n * // => 'matches A'\n *\n * func({ 'a': 0, 'b': 1 });\n * // => 'matches B'\n *\n * func({ 'a': '1', 'b': '2' });\n * // => 'no match'\n */\nfunction cond(pairs) {\n  var length = pairs ? pairs.length : 0,\n      toIteratee = baseIteratee;\n\n  pairs = !length ? [] : arrayMap(pairs, function(pair) {\n    if (typeof pair[1] != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    return [toIteratee(pair[0]), pair[1]];\n  });\n\n  return rest(function(args) {\n    var index = -1;\n    while (++index < length) {\n      var pair = pairs[index];\n      if (apply(pair[0], this, args)) {\n        return apply(pair[1], this, args);\n      }\n    }\n  });\n}\n\nexport default cond;\n","import keys from './keys.js';\n\n/**\n * The base implementation of `_.conforms` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property predicates to conform to.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseConforms(source) {\n  var props = keys(source),\n      length = props.length;\n\n  return function(object) {\n    if (object == null) {\n      return !length;\n    }\n    var index = length;\n    while (index--) {\n      var key = props[index],\n          predicate = source[key],\n          value = object[key];\n\n      if ((value === undefined &&\n          !(key in Object(object))) || !predicate(value)) {\n        return false;\n      }\n    }\n    return true;\n  };\n}\n\nexport default baseConforms;\n","import baseClone from './_baseClone.js';\nimport baseConforms from './_baseConforms.js';\n\n/**\n * Creates a function that invokes the predicate properties of `source` with\n * the corresponding property values of a given object, returning `true` if\n * all predicates return truthy, else `false`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {Object} source The object of property predicates to conform to.\n * @returns {Function} Returns the new spec function.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * _.filter(users, _.conforms({ 'age': function(n) { return n > 38; } }));\n * // => [{ 'user': 'fred', 'age': 40 }]\n */\nfunction conforms(source) {\n  return baseConforms(baseClone(source, true));\n}\n\nexport default conforms;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nexport default arrayAggregator;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n","import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n","import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n","import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n","import baseEach from './_baseEach.js';\n\n/**\n * Aggregates elements of `collection` on `accumulator` with keys transformed\n * by `iteratee` and values set by `setter`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseAggregator(collection, setter, iteratee, accumulator) {\n  baseEach(collection, function(value, key, collection) {\n    setter(accumulator, value, iteratee(value), collection);\n  });\n  return accumulator;\n}\n\nexport default baseAggregator;\n","import arrayAggregator from './_arrayAggregator.js';\nimport baseAggregator from './_baseAggregator.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee), accumulator);\n  };\n}\n\nexport default createAggregator;\n","import createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the number of times the key was returned by `iteratee`. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.countBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': 1, '6': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.countBy(['one', 'two', 'three'], 'length');\n * // => { '3': 2, '5': 1 }\n */\nvar countBy = createAggregator(function(result, value, key) {\n  hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\n});\n\nexport default countBy;\n","import baseAssign from './_baseAssign.js';\nimport baseCreate from './_baseCreate.js';\n\n/**\n * Creates an object that inherits from the `prototype` object. If a\n * `properties` object is given, its own enumerable string keyed properties\n * are assigned to the created object.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Object\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, {\n *   'constructor': Circle\n * });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties ? baseAssign(result, properties) : result;\n}\n\nexport default create;\n","import createWrapper from './_createWrapper.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrapper(func, CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nexport default curry;\n","import createWrapper from './_createWrapper.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrapper(func, CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nexport default curryRight;\n","import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide an options object to indicate whether `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent calls\n * to the debounced function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n","import eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction assignInDefaults(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\nexport default assignInDefaults;\n","import apply from './_apply.js';\nimport assignInDefaults from './_assignInDefaults.js';\nimport assignInWith from './assignInWith.js';\nimport rest from './rest.js';\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\n * // => { 'user': 'barney', 'age': 36 }\n */\nvar defaults = rest(function(args) {\n  args.push(undefined, assignInDefaults);\n  return apply(assignInWith, undefined, args);\n});\n\nexport default defaults;\n","import eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (typeof key == 'number' && value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\nexport default assignMergeValue;\n","import getPrototype from './_getPrototype.js';\nimport isHostObject from './_isHostObject.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object,\n *  else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nexport default isPlainObject;\n","import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n","import assignMergeValue from './_assignMergeValue.js';\nimport baseClone from './_baseClone.js';\nimport copyArray from './_copyArray.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    newValue = srcValue;\n    if (isArray(srcValue) || isTypedArray(srcValue)) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else {\n        isCommon = false;\n        newValue = baseClone(srcValue, true);\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        isCommon = false;\n        newValue = baseClone(srcValue, true);\n      }\n      else {\n        newValue = objValue;\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  stack.set(srcValue, newValue);\n\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n  }\n  stack['delete'](srcValue);\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n","import Stack from './_Stack.js';\nimport arrayEach from './_arrayEach.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isArray from './isArray.js';\nimport isObject from './isObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport keysIn from './keysIn.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  if (!(isArray(source) || isTypedArray(source))) {\n    var props = keysIn(source);\n  }\n  arrayEach(props || source, function(srcValue, key) {\n    if (props) {\n      key = srcValue;\n      srcValue = source[key];\n    }\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  });\n}\n\nexport default baseMerge;\n","import baseMerge from './_baseMerge.js';\nimport isObject from './isObject.js';\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction mergeDefaults(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    baseMerge(objValue, srcValue, undefined, mergeDefaults, stack.set(srcValue, objValue));\n  }\n  return objValue;\n}\n\nexport default mergeDefaults;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with seven arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = {\n *   'fruits': ['apple'],\n *   'vegetables': ['beet']\n * };\n *\n * var other = {\n *   'fruits': ['banana'],\n *   'vegetables': ['carrot']\n * };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nexport default mergeWith;\n","import apply from './_apply.js';\nimport mergeDefaults from './_mergeDefaults.js';\nimport mergeWith from './mergeWith.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\n * // => { 'user': { 'name': 'barney', 'age': 36 } }\n *\n */\nvar defaultsDeep = rest(function(args) {\n  args.push(undefined, mergeDefaults);\n  return apply(mergeWith, undefined, args);\n});\n\nexport default defaultsDeep;\n","/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * The base implementation of `_.delay` and `_.defer` which accepts an array\n * of `func` arguments.\n *\n * @private\n * @param {Function} func The function to delay.\n * @param {number} wait The number of milliseconds to delay invocation.\n * @param {Object} args The arguments to provide to `func`.\n * @returns {number} Returns the timer id.\n */\nfunction baseDelay(func, wait, args) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return setTimeout(function() { func.apply(undefined, args); }, wait);\n}\n\nexport default baseDelay;\n","import baseDelay from './_baseDelay.js';\nimport rest from './rest.js';\n\n/**\n * Defers invoking the `func` until the current call stack has cleared. Any\n * additional arguments are provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to defer.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {number} Returns the timer id.\n * @example\n *\n * _.defer(function(text) {\n *   console.log(text);\n * }, 'deferred');\n * // => Logs 'deferred' after one or more milliseconds.\n */\nvar defer = rest(function(func, args) {\n  return baseDelay(func, 1, args);\n});\n\nexport default defer;\n","import baseDelay from './_baseDelay.js';\nimport rest from './rest.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Invokes `func` after `wait` milliseconds. Any additional arguments are\n * provided to `func` when it's invoked.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to delay.\n * @param {number} wait The number of milliseconds to delay invocation.\n * @param {...*} [args] The arguments to invoke `func` with.\n * @returns {number} Returns the timer id.\n * @example\n *\n * _.delay(function(text) {\n *   console.log(text);\n * }, 1000, 'later');\n * // => Logs 'later' after one second.\n */\nvar delay = rest(function(func, wait, args) {\n  return baseDelay(func, toNumber(wait) || 0, args);\n});\n\nexport default delay;\n","/**\n * Gets the index at which the first occurrence of `NaN` is found in `array`.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched `NaN`, else `-1`.\n */\nfunction indexOfNaN(array, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    var other = array[index];\n    if (other !== other) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default indexOfNaN;\n","import indexOfNaN from './_indexOfNaN.js';\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return indexOfNaN(array, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseIndexOf;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to search.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nexport default arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to search.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arrayIncludesWith;\n","/**\n * The base implementation of `_.unary` without support for storing wrapper metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n","/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseDifference;\n","import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of unique `array` values not included in the other given\n * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = rest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nexport default difference;\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array ? array.length : 0;\n  return length ? array[length - 1] : undefined;\n}\n\nexport default last;\n","import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.difference` except that it accepts `iteratee` which\n * is invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. Result values are chosen from the first array.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar differenceBy = rest(function(array, values) {\n  var iteratee = last(values);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), baseIteratee(iteratee))\n    : [];\n});\n\nexport default differenceBy;\n","import baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.difference` except that it accepts `comparator`\n * which is invoked to compare elements of `array` to `values`. Result values\n * are chosen from the first array. The comparator is invoked with two arguments:\n * (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n *\n * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }]\n */\nvar differenceWith = rest(function(array, values) {\n  var comparator = last(values);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n    : [];\n});\n\nexport default differenceWith;\n","import createMathOperation from './_createMathOperation.js';\n\n/**\n * Divide two numbers.\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Math\n * @param {number} dividend The first number in a division.\n * @param {number} divisor The second number in a division.\n * @returns {number} Returns the quotient.\n * @example\n *\n * _.divide(6, 4);\n * // => 1.5\n */\nvar divide = createMathOperation(function(dividend, divisor) {\n  return dividend / divisor;\n});\n\nexport default divide;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.drop([1, 2, 3]);\n * // => [2, 3]\n *\n * _.drop([1, 2, 3], 2);\n * // => [3]\n *\n * _.drop([1, 2, 3], 5);\n * // => []\n *\n * _.drop([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction drop(array, n, guard) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nexport default drop;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements dropped from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to drop.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.dropRight([1, 2, 3]);\n * // => [1, 2]\n *\n * _.dropRight([1, 2, 3], 2);\n * // => [1]\n *\n * _.dropRight([1, 2, 3], 5);\n * // => []\n *\n * _.dropRight([1, 2, 3], 0);\n * // => [1, 2, 3]\n */\nfunction dropRight(array, n, guard) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nexport default dropRight;\n","import baseSlice from './_baseSlice.js';\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nexport default baseWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` excluding elements dropped from the end.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.dropRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['barney']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['barney', 'fred']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropRightWhile(users, ['active', false]);\n * // => objects for ['barney']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropRightWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true, true)\n    : [];\n}\n\nexport default dropRightWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` excluding elements dropped from the beginning.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.dropWhile(users, function(o) { return !o.active; });\n * // => objects for ['pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropWhile(users, { 'user': 'barney', 'active': false });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropWhile(users, ['active', false]);\n * // => objects for ['pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true)\n    : [];\n}\n\nexport default dropWhile;\n","import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _([1, 2]).forEach(function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default forEach;\n","/**\n * A specialized version of `_.forEachRight` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEachRight(array, iteratee) {\n  var length = array ? array.length : 0;\n\n  while (length--) {\n    if (iteratee(array[length], length, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEachRight;\n","import createBaseFor from './_createBaseFor.js';\n\n/**\n * This function is like `baseFor` except that it iterates over properties\n * in the opposite order.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseForRight = createBaseFor(true);\n\nexport default baseForRight;\n","import baseForRight from './_baseForRight.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwnRight(object, iteratee) {\n  return object && baseForRight(object, iteratee, keys);\n}\n\nexport default baseForOwnRight;\n","import baseForOwnRight from './_baseForOwnRight.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEachRight = createBaseEach(baseForOwnRight, true);\n\nexport default baseEachRight;\n","import arrayEachRight from './_arrayEachRight.js';\nimport baseEachRight from './_baseEachRight.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * This method is like `_.forEach` except that it iterates over elements of\n * `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @alias eachRight\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEach\n * @example\n *\n * _.forEachRight([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `2` then `1`.\n */\nfunction forEachRight(collection, iteratee) {\n  var func = isArray(collection) ? arrayEachRight : baseEachRight;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default forEachRight;\n","import baseClamp from './_baseClamp.js';\nimport baseToString from './_baseToString.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Checks if `string` ends with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to search.\n * @param {string} [target] The string to search for.\n * @param {number} [position=string.length] The position to search up to.\n * @returns {boolean} Returns `true` if `string` ends with `target`,\n *  else `false`.\n * @example\n *\n * _.endsWith('abc', 'c');\n * // => true\n *\n * _.endsWith('abc', 'b');\n * // => false\n *\n * _.endsWith('abc', 'b', 2);\n * // => true\n */\nfunction endsWith(string, target, position) {\n  string = toString(string);\n  target = baseToString(target);\n\n  var length = string.length;\n  position = position === undefined\n    ? length\n    : baseClamp(toInteger(position), 0, length);\n\n  position -= target.length;\n  return position >= 0 && string.indexOf(target, position) == position;\n}\n\nexport default endsWith;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nexport default baseToPairs;\n","/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nexport default setToPairs;\n","import baseToPairs from './_baseToPairs.js';\nimport getTag from './_getTag.js';\nimport mapToArray from './_mapToArray.js';\nimport setToPairs from './_setToPairs.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = getTag(object);\n    if (tag == mapTag) {\n      return mapToArray(object);\n    }\n    if (tag == setTag) {\n      return setToPairs(object);\n    }\n    return baseToPairs(object, keysFunc(object));\n  };\n}\n\nexport default createToPairs;\n","import createToPairs from './_createToPairs.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = createToPairs(keys);\n\nexport default toPairs;\n","import createToPairs from './_createToPairs.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable string keyed-value pairs\n * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n * or set, its entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entriesIn\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairsIn(new Foo);\n * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n */\nvar toPairsIn = createToPairs(keysIn);\n\nexport default toPairsIn;\n","/** Used to map characters to HTML entities. */\nvar htmlEscapes = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '`': '&#96;'\n};\n\n/**\n * Used by `_.escape` to convert characters to HTML entities.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeHtmlChar(chr) {\n  return htmlEscapes[chr];\n}\n\nexport default escapeHtmlChar;\n","import escapeHtmlChar from './_escapeHtmlChar.js';\nimport toString from './toString.js';\n\n/** Used to match HTML entities and HTML characters. */\nvar reUnescapedHtml = /[&<>\"'`]/g,\n    reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\" in `string` to\n * their corresponding HTML entities.\n *\n * **Note:** No other characters are escaped. To escape additional\n * characters use a third-party library like [_he_](https://mths.be/he).\n *\n * Though the \">\" character is escaped for symmetry, characters like\n * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n * unless they're part of a tag or unquoted attribute value. See\n * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n * (under \"semi-related fun fact\") for more details.\n *\n * Backticks are escaped because in IE < 9, they can break out of\n * attribute values or HTML comments. See [#59](https://html5sec.org/#59),\n * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\n * [#133](https://html5sec.org/#133) of the\n * [HTML5 Security Cheatsheet](https://html5sec.org/) for more details.\n *\n * When working with HTML you should always\n * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n * XSS vectors.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escape('fred, barney, & pebbles');\n * // => 'fred, barney, &amp; pebbles'\n */\nfunction escape(string) {\n  string = toString(string);\n  return (string && reHasUnescapedHtml.test(string))\n    ? string.replace(reUnescapedHtml, escapeHtmlChar)\n    : string;\n}\n\nexport default escape;\n","import toString from './toString.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nexport default escapeRegExp;\n","/**\n * A specialized version of `_.every` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n */\nfunction arrayEvery(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (!predicate(array[index], index, array)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default arrayEvery;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.every` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`\n */\nfunction baseEvery(collection, predicate) {\n  var result = true;\n  baseEach(collection, function(value, index, collection) {\n    result = !!predicate(value, index, collection);\n    return result;\n  });\n  return result;\n}\n\nexport default baseEvery;\n","import arrayEvery from './_arrayEvery.js';\nimport baseEvery from './_baseEvery.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Checks if `predicate` returns truthy for **all** elements of `collection`.\n * Iteration is stopped once `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if all elements pass the predicate check,\n *  else `false`.\n * @example\n *\n * _.every([true, 1, null, 'yes'], Boolean);\n * // => false\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.every(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.every(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.every(users, 'active');\n * // => false\n */\nfunction every(collection, predicate, guard) {\n  var func = isArray(collection) ? arrayEvery : baseEvery;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default every;\n","import baseClamp from './_baseClamp.js';\nimport toInteger from './toInteger.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Converts `value` to an integer suitable for use as the length of an\n * array-like object.\n *\n * **Note:** This method is based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toLength(3.2);\n * // => 3\n *\n * _.toLength(Number.MIN_VALUE);\n * // => 0\n *\n * _.toLength(Infinity);\n * // => 4294967295\n *\n * _.toLength('3.2');\n * // => 3\n */\nfunction toLength(value) {\n  return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n}\n\nexport default toLength;\n","import toInteger from './toInteger.js';\nimport toLength from './toLength.js';\n\n/**\n * The base implementation of `_.fill` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to fill.\n * @param {*} value The value to fill `array` with.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns `array`.\n */\nfunction baseFill(array, value, start, end) {\n  var length = array.length;\n\n  start = toInteger(start);\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = (end === undefined || end > length) ? length : toInteger(end);\n  if (end < 0) {\n    end += length;\n  }\n  end = start > end ? 0 : toLength(end);\n  while (start < end) {\n    array[start++] = value;\n  }\n  return array;\n}\n\nexport default baseFill;\n","import baseFill from './_baseFill.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Fills elements of `array` with `value` from `start` up to, but not\n * including, `end`.\n *\n * **Note:** This method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 3.2.0\n * @category Array\n * @param {Array} array The array to fill.\n * @param {*} value The value to fill `array` with.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _.fill(array, 'a');\n * console.log(array);\n * // => ['a', 'a', 'a']\n *\n * _.fill(Array(3), 2);\n * // => [2, 2, 2]\n *\n * _.fill([4, 6, 8, 10], '*', 1, 3);\n * // => [4, '*', '*', 10]\n */\nfunction fill(array, value, start, end) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n    start = 0;\n    end = length;\n  }\n  return baseFill(array, value, start, end);\n}\n\nexport default fill;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array ? array.length : 0,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nexport default baseFilter;\n","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default filter;\n","import baseIteratee from './_baseIteratee.js';\nimport isArrayLike from './isArrayLike.js';\nimport keys from './keys.js';\n\n/**\n * Creates a `_.find` or `_.findLast` function.\n *\n * @private\n * @param {Function} findIndexFunc The function to find the collection index.\n * @returns {Function} Returns the new find function.\n */\nfunction createFind(findIndexFunc) {\n  return function(collection, predicate, fromIndex) {\n    var iterable = Object(collection);\n    predicate = baseIteratee(predicate, 3);\n    if (!isArrayLike(collection)) {\n      var props = keys(collection);\n    }\n    var index = findIndexFunc(props || collection, function(value, key) {\n      if (props) {\n        key = value;\n        value = iterable[key];\n      }\n      return predicate(value, key, iterable);\n    }, fromIndex);\n    return index > -1 ? collection[props ? props[index] : index] : undefined;\n  };\n}\n\nexport default createFind;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseFindIndex;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.find` except that it returns the index of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.findIndex(users, function(o) { return o.user == 'barney'; });\n * // => 0\n *\n * // The `_.matches` iteratee shorthand.\n * _.findIndex(users, { 'user': 'fred', 'active': false });\n * // => 1\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findIndex(users, ['active', false]);\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.findIndex(users, 'active');\n * // => 2\n */\nfunction findIndex(array, predicate, fromIndex) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index);\n}\n\nexport default findIndex;\n","import createFind from './_createFind.js';\nimport findIndex from './findIndex.js';\n\n/**\n * Iterates over elements of `collection`, returning the first element\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': true },\n *   { 'user': 'fred',    'age': 40, 'active': false },\n *   { 'user': 'pebbles', 'age': 1,  'active': true }\n * ];\n *\n * _.find(users, function(o) { return o.age < 40; });\n * // => object for 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.find(users, { 'age': 1, 'active': true });\n * // => object for 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.find(users, ['active', false]);\n * // => object for 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.find(users, 'active');\n * // => object for 'barney'\n */\nvar find = createFind(findIndex);\n\nexport default find;\n","/**\n * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n * without support for iteratee shorthands, which iterates over `collection`\n * using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to search.\n * @param {Function} predicate The function invoked per iteration.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the found element or its key, else `undefined`.\n */\nfunction baseFindKey(collection, predicate, eachFunc) {\n  var result;\n  eachFunc(collection, function(value, key, collection) {\n    if (predicate(value, key, collection)) {\n      result = key;\n      return false;\n    }\n  });\n  return result;\n}\n\nexport default baseFindKey;\n","import baseFindKey from './_baseFindKey.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * This method is like `_.find` except that it returns the key of the first\n * element `predicate` returns truthy for instead of the element itself.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category Object\n * @param {Object} object The object to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {string|undefined} Returns the key of the matched element,\n *  else `undefined`.\n * @example\n *\n * var users = {\n *   'barney':  { 'age': 36, 'active': true },\n *   'fred':    { 'age': 40, 'active': false },\n *   'pebbles': { 'age': 1,  'active': true }\n * };\n *\n * _.findKey(users, function(o) { return o.age < 40; });\n * // => 'barney' (iteration order is not guaranteed)\n *\n * // The `_.matches` iteratee shorthand.\n * _.findKey(users, { 'age': 1, 'active': true });\n * // => 'pebbles'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findKey(users, ['active', false]);\n * // => 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.findKey(users, 'active');\n * // => 'barney'\n */\nfunction findKey(object, predicate) {\n  return baseFindKey(object, baseIteratee(predicate, 3), baseForOwn);\n}\n\nexport default findKey;\n","import baseFindIndex from './_baseFindIndex.js';\nimport baseIteratee from './_baseIteratee.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.findIndex` except that it iterates over elements\n * of `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the found element, else `-1`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n * // => 2\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n * // => 0\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastIndex(users, ['active', false]);\n * // => 2\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastIndex(users, 'active');\n * // => 0\n */\nfunction findLastIndex(array, predicate, fromIndex) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return -1;\n  }\n  var index = length - 1;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = fromIndex < 0\n      ? nativeMax(length + index, 0)\n      : nativeMin(index, length - 1);\n  }\n  return baseFindIndex(array, baseIteratee(predicate, 3), index, true);\n}\n\nexport default findLastIndex;\n","import createFind from './_createFind.js';\nimport findLastIndex from './findLastIndex.js';\n\n/**\n * This method is like `_.find` except that it iterates over elements of\n * `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param {number} [fromIndex=collection.length-1] The index to search from.\n * @returns {*} Returns the matched element, else `undefined`.\n * @example\n *\n * _.findLast([1, 2, 3, 4], function(n) {\n *   return n % 2 == 1;\n * });\n * // => 3\n */\nvar findLast = createFind(findLastIndex);\n\nexport default findLast;\n","import baseFindKey from './_baseFindKey.js';\nimport baseForOwnRight from './_baseForOwnRight.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * This method is like `_.findKey` except that it iterates over elements of\n * a collection in the opposite order.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Object\n * @param {Object} object The object to search.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {string|undefined} Returns the key of the matched element,\n *  else `undefined`.\n * @example\n *\n * var users = {\n *   'barney':  { 'age': 36, 'active': true },\n *   'fred':    { 'age': 40, 'active': false },\n *   'pebbles': { 'age': 1,  'active': true }\n * };\n *\n * _.findLastKey(users, function(o) { return o.age < 40; });\n * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n *\n * // The `_.matches` iteratee shorthand.\n * _.findLastKey(users, { 'age': 36, 'active': true });\n * // => 'barney'\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.findLastKey(users, ['active', false]);\n * // => 'fred'\n *\n * // The `_.property` iteratee shorthand.\n * _.findLastKey(users, 'active');\n * // => 'pebbles'\n */\nfunction findLastKey(object, predicate) {\n  return baseFindKey(object, baseIteratee(predicate, 3), baseForOwnRight);\n}\n\nexport default findLastKey;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nexport default head;\n","import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default map;\n","import baseFlatten from './_baseFlatten.js';\nimport map from './map.js';\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nexport default flatMap;\n","import baseFlatten from './_baseFlatten.js';\nimport map from './map.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * This method is like `_.flatMap` except that it recursively flattens the\n * mapped results.\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [[[n, n]]];\n * }\n *\n * _.flatMapDeep([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMapDeep(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), INFINITY);\n}\n\nexport default flatMapDeep;\n","import baseFlatten from './_baseFlatten.js';\nimport map from './map.js';\nimport toInteger from './toInteger.js';\n\n/**\n * This method is like `_.flatMap` except that it recursively flattens the\n * mapped results up to `depth` times.\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @param {number} [depth=1] The maximum recursion depth.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [[[n, n]]];\n * }\n *\n * _.flatMapDepth([1, 2], duplicate, 2);\n * // => [[1, 1], [2, 2]]\n */\nfunction flatMapDepth(collection, iteratee, depth) {\n  depth = depth === undefined ? 1 : toInteger(depth);\n  return baseFlatten(map(collection, iteratee), depth);\n}\n\nexport default flatMapDepth;\n","import baseFlatten from './_baseFlatten.js';\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nexport default flatten;\n","import baseFlatten from './_baseFlatten.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nexport default flattenDeep;\n","import baseFlatten from './_baseFlatten.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Recursively flatten `array` up to `depth` times.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @param {number} [depth=1] The maximum recursion depth.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * var array = [1, [2, [3, [4]], 5]];\n *\n * _.flattenDepth(array, 1);\n * // => [1, 2, [3, [4]], 5]\n *\n * _.flattenDepth(array, 2);\n * // => [1, 2, 3, [4], 5]\n */\nfunction flattenDepth(array, depth) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  depth = depth === undefined ? 1 : toInteger(depth);\n  return baseFlatten(array, depth);\n}\n\nexport default flattenDepth;\n","import createWrapper from './_createWrapper.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar FLIP_FLAG = 512;\n\n/**\n * Creates a function that invokes `func` with arguments reversed.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Function\n * @param {Function} func The function to flip arguments for.\n * @returns {Function} Returns the new flipped function.\n * @example\n *\n * var flipped = _.flip(function() {\n *   return _.toArray(arguments);\n * });\n *\n * flipped('a', 'b', 'c', 'd');\n * // => ['d', 'c', 'b', 'a']\n */\nfunction flip(func) {\n  return createWrapper(func, FLIP_FLAG);\n}\n\nexport default flip;\n","import createRound from './_createRound.js';\n\n/**\n * Computes `number` rounded down to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round down.\n * @param {number} [precision=0] The precision to round down to.\n * @returns {number} Returns the rounded down number.\n * @example\n *\n * _.floor(4.006);\n * // => 4\n *\n * _.floor(0.046, 2);\n * // => 0.04\n *\n * _.floor(4060, -2);\n * // => 4000\n */\nvar floor = createRound('floor');\n\nexport default floor;\n","import LodashWrapper from './_LodashWrapper.js';\nimport baseFlatten from './_baseFlatten.js';\nimport getData from './_getData.js';\nimport getFuncName from './_getFuncName.js';\nimport isArray from './isArray.js';\nimport isLaziable from './_isLaziable.js';\nimport rest from './rest.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar CURRY_FLAG = 8,\n    PARTIAL_FLAG = 32,\n    ARY_FLAG = 128,\n    REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return rest(function(funcs) {\n    funcs = baseFlatten(funcs, 1);\n\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 &&\n          isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nexport default createFlow;\n","import createFlow from './_createFlow.js';\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] Functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nexport default flow;\n","import createFlow from './_createFlow.js';\n\n/**\n * This method is like `_.flow` except that it creates a function that\n * invokes the given functions from right to left.\n *\n * @static\n * @since 3.0.0\n * @memberOf _\n * @category Util\n * @param {...(Function|Function[])} [funcs] Functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flow\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flowRight([square, _.add]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flowRight = createFlow(true);\n\nexport default flowRight;\n","import baseFor from './_baseFor.js';\nimport baseIteratee from './_baseIteratee.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Iterates over own and inherited enumerable string keyed properties of an\n * object and invokes `iteratee` for each property. The iteratee is invoked\n * with three arguments: (value, key, object). Iteratee functions may exit\n * iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forInRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forIn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n */\nfunction forIn(object, iteratee) {\n  return object == null\n    ? object\n    : baseFor(object, baseIteratee(iteratee, 3), keysIn);\n}\n\nexport default forIn;\n","import baseForRight from './_baseForRight.js';\nimport baseIteratee from './_baseIteratee.js';\nimport keysIn from './keysIn.js';\n\n/**\n * This method is like `_.forIn` except that it iterates over properties of\n * `object` in the opposite order.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forIn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forInRight(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n */\nfunction forInRight(object, iteratee) {\n  return object == null\n    ? object\n    : baseForRight(object, baseIteratee(iteratee, 3), keysIn);\n}\n\nexport default forInRight;\n","import baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Iterates over own enumerable string keyed properties of an object and\n * invokes `iteratee` for each property. The iteratee is invoked with three\n * arguments: (value, key, object). Iteratee functions may exit iteration\n * early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forOwnRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forOwn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forOwn(object, iteratee) {\n  return object && baseForOwn(object, baseIteratee(iteratee, 3));\n}\n\nexport default forOwn;\n","import baseForOwnRight from './_baseForOwnRight.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * This method is like `_.forOwn` except that it iterates over properties of\n * `object` in the opposite order.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forOwn\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forOwnRight(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n */\nfunction forOwnRight(object, iteratee) {\n  return object && baseForOwnRight(object, baseIteratee(iteratee, 3));\n}\n\nexport default forOwnRight;\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['fred', 30], ['barney', 40]]);\n * // => { 'fred': 30, 'barney': 40 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs ? pairs.length : 0,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nexport default fromPairs;\n","import arrayFilter from './_arrayFilter.js';\nimport isFunction from './isFunction.js';\n\n/**\n * The base implementation of `_.functions` which creates an array of\n * `object` function property names filtered from `props`.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Array} props The property names to filter.\n * @returns {Array} Returns the function names.\n */\nfunction baseFunctions(object, props) {\n  return arrayFilter(props, function(key) {\n    return isFunction(object[key]);\n  });\n}\n\nexport default baseFunctions;\n","import baseFunctions from './_baseFunctions.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of function property names from own enumerable properties\n * of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the function names.\n * @see _.functionsIn\n * @example\n *\n * function Foo() {\n *   this.a = _.constant('a');\n *   this.b = _.constant('b');\n * }\n *\n * Foo.prototype.c = _.constant('c');\n *\n * _.functions(new Foo);\n * // => ['a', 'b']\n */\nfunction functions(object) {\n  return object == null ? [] : baseFunctions(object, keys(object));\n}\n\nexport default functions;\n","import baseFunctions from './_baseFunctions.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of function property names from own and inherited\n * enumerable properties of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns the function names.\n * @see _.functions\n * @example\n *\n * function Foo() {\n *   this.a = _.constant('a');\n *   this.b = _.constant('b');\n * }\n *\n * Foo.prototype.c = _.constant('c');\n *\n * _.functionsIn(new Foo);\n * // => ['a', 'b', 'c']\n */\nfunction functionsIn(object) {\n  return object == null ? [] : baseFunctions(object, keysIn(object));\n}\n\nexport default functionsIn;\n","import createAggregator from './_createAggregator.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    result[key] = [value];\n  }\n});\n\nexport default groupBy;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments to numbers.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nexport default baseGt;\n","import toNumber from './toNumber.js';\n\n/**\n * Creates a function that performs a relational operation on two values.\n *\n * @private\n * @param {Function} operator The function to perform the operation.\n * @returns {Function} Returns the new relational operation function.\n */\nfunction createRelationalOperation(operator) {\n  return function(value, other) {\n    if (!(typeof value == 'string' && typeof other == 'string')) {\n      value = toNumber(value);\n      other = toNumber(other);\n    }\n    return operator(value, other);\n  };\n}\n\nexport default createRelationalOperation;\n","import baseGt from './_baseGt.js';\nimport createRelationalOperation from './_createRelationalOperation.js';\n\n/**\n * Checks if `value` is greater than `other`.\n *\n * @static\n * @memberOf _\n * @since 3.9.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n * @see _.lt\n * @example\n *\n * _.gt(3, 1);\n * // => true\n *\n * _.gt(3, 3);\n * // => false\n *\n * _.gt(1, 3);\n * // => false\n */\nvar gt = createRelationalOperation(baseGt);\n\nexport default gt;\n","import createRelationalOperation from './_createRelationalOperation.js';\n\n/**\n * Checks if `value` is greater than or equal to `other`.\n *\n * @static\n * @memberOf _\n * @since 3.9.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than or equal to\n *  `other`, else `false`.\n * @see _.lte\n * @example\n *\n * _.gte(3, 1);\n * // => true\n *\n * _.gte(3, 3);\n * // => true\n *\n * _.gte(1, 3);\n * // => false\n */\nvar gte = createRelationalOperation(function(value, other) {\n  return value >= other;\n});\n\nexport default gte;\n","import baseHas from './_baseHas.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nexport default has;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.inRange` which doesn't coerce arguments to numbers.\n *\n * @private\n * @param {number} number The number to check.\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n */\nfunction baseInRange(number, start, end) {\n  return number >= nativeMin(start, end) && number < nativeMax(start, end);\n}\n\nexport default baseInRange;\n","import baseInRange from './_baseInRange.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Checks if `n` is between `start` and up to, but not including, `end`. If\n * `end` is not specified, it's set to `start` with `start` then set to `0`.\n * If `start` is greater than `end` the params are swapped to support\n * negative ranges.\n *\n * @static\n * @memberOf _\n * @since 3.3.0\n * @category Number\n * @param {number} number The number to check.\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n * @see _.range, _.rangeRight\n * @example\n *\n * _.inRange(3, 2, 4);\n * // => true\n *\n * _.inRange(4, 8);\n * // => true\n *\n * _.inRange(4, 2);\n * // => false\n *\n * _.inRange(2, 2);\n * // => false\n *\n * _.inRange(1.2, 2);\n * // => true\n *\n * _.inRange(5.2, 4);\n * // => false\n *\n * _.inRange(-3, -2, -6);\n * // => true\n */\nfunction inRange(number, start, end) {\n  start = toNumber(start) || 0;\n  if (end === undefined) {\n    end = start;\n    start = 0;\n  } else {\n    end = toNumber(end) || 0;\n  }\n  number = toNumber(number);\n  return baseInRange(number, start, end);\n}\n\nexport default inRange;\n","import arrayMap from './_arrayMap.js';\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nexport default baseValues;\n","import baseValues from './_baseValues.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object ? baseValues(object, keys(object)) : [];\n}\n\nexport default values;\n","import baseIndexOf from './_baseIndexOf.js';\nimport isArrayLike from './isArrayLike.js';\nimport isString from './isString.js';\nimport toInteger from './toInteger.js';\nimport values from './values.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to search.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\n * // => true\n *\n * _.includes('pebbles', 'eb');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nexport default includes;\n","import baseIndexOf from './_baseIndexOf.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Gets the index at which the first occurrence of `value` is found in `array`\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons. If `fromIndex` is negative, it's used as the\n * offset from the end of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.indexOf([1, 2, 1, 2], 2);\n * // => 1\n *\n * // Search from the `fromIndex`.\n * _.indexOf([1, 2, 1, 2], 2, 2);\n * // => 3\n */\nfunction indexOf(array, value, fromIndex) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return -1;\n  }\n  var index = fromIndex == null ? 0 : toInteger(fromIndex);\n  if (index < 0) {\n    index = nativeMax(length + index, 0);\n  }\n  return baseIndexOf(array, value, index);\n}\n\nexport default indexOf;\n","import dropRight from './dropRight.js';\n\n/**\n * Gets all but the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.initial([1, 2, 3]);\n * // => [1, 2]\n */\nfunction initial(array) {\n  return dropRight(array, 1);\n}\n\nexport default initial;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport arrayMap from './_arrayMap.js';\nimport baseUnary from './_baseUnary.js';\nimport cacheHas from './_cacheHas.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseIntersection;\n","import isArrayLikeObject from './isArrayLikeObject.js';\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nexport default castArrayLikeObject;\n","import arrayMap from './_arrayMap.js';\nimport baseIntersection from './_baseIntersection.js';\nimport castArrayLikeObject from './_castArrayLikeObject.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons. The order of result values is determined by the\n * order they occur in the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = rest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nexport default intersection;\n","import arrayMap from './_arrayMap.js';\nimport baseIntersection from './_baseIntersection.js';\nimport baseIteratee from './_baseIteratee.js';\nimport castArrayLikeObject from './_castArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.intersection` except that it accepts `iteratee`\n * which is invoked for each element of each `arrays` to generate the criterion\n * by which they're compared. Result values are chosen from the first array.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [2.1]\n *\n * // The `_.property` iteratee shorthand.\n * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }]\n */\nvar intersectionBy = rest(function(arrays) {\n  var iteratee = last(arrays),\n      mapped = arrayMap(arrays, castArrayLikeObject);\n\n  if (iteratee === last(mapped)) {\n    iteratee = undefined;\n  } else {\n    mapped.pop();\n  }\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped, baseIteratee(iteratee))\n    : [];\n});\n\nexport default intersectionBy;\n","import arrayMap from './_arrayMap.js';\nimport baseIntersection from './_baseIntersection.js';\nimport castArrayLikeObject from './_castArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.intersection` except that it accepts `comparator`\n * which is invoked to compare elements of `arrays`. Result values are chosen\n * from the first array. The comparator is invoked with two arguments:\n * (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.intersectionWith(objects, others, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }]\n */\nvar intersectionWith = rest(function(arrays) {\n  var comparator = last(arrays),\n      mapped = arrayMap(arrays, castArrayLikeObject);\n\n  if (comparator === last(mapped)) {\n    comparator = undefined;\n  } else {\n    mapped.pop();\n  }\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped, undefined, comparator)\n    : [];\n});\n\nexport default intersectionWith;\n","import baseForOwn from './_baseForOwn.js';\n\n/**\n * The base implementation of `_.invert` and `_.invertBy` which inverts\n * `object` with values transformed by `iteratee` and set by `setter`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform values.\n * @param {Object} accumulator The initial inverted object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction baseInverter(object, setter, iteratee, accumulator) {\n  baseForOwn(object, function(value, key, object) {\n    setter(accumulator, iteratee(value), key, object);\n  });\n  return accumulator;\n}\n\nexport default baseInverter;\n","import baseInverter from './_baseInverter.js';\n\n/**\n * Creates a function like `_.invertBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} toIteratee The function to resolve iteratees.\n * @returns {Function} Returns the new inverter function.\n */\nfunction createInverter(setter, toIteratee) {\n  return function(object, iteratee) {\n    return baseInverter(object, setter, toIteratee(iteratee), {});\n  };\n}\n\nexport default createInverter;\n","import constant from './constant.js';\nimport createInverter from './_createInverter.js';\nimport identity from './identity.js';\n\n/**\n * Creates an object composed of the inverted keys and values of `object`.\n * If `object` contains duplicate values, subsequent values overwrite\n * property assignments of previous values.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Object\n * @param {Object} object The object to invert.\n * @returns {Object} Returns the new inverted object.\n * @example\n *\n * var object = { 'a': 1, 'b': 2, 'c': 1 };\n *\n * _.invert(object);\n * // => { '1': 'c', '2': 'b' }\n */\nvar invert = createInverter(function(result, value, key) {\n  result[value] = key;\n}, constant(identity));\n\nexport default invert;\n","import baseIteratee from './_baseIteratee.js';\nimport createInverter from './_createInverter.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * This method is like `_.invert` except that the inverted object is generated\n * from the results of running each element of `object` thru `iteratee`. The\n * corresponding inverted value of each inverted key is an array of keys\n * responsible for generating the inverted value. The iteratee is invoked\n * with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.1.0\n * @category Object\n * @param {Object} object The object to invert.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Object} Returns the new inverted object.\n * @example\n *\n * var object = { 'a': 1, 'b': 2, 'c': 1 };\n *\n * _.invertBy(object);\n * // => { '1': ['a', 'c'], '2': ['b'] }\n *\n * _.invertBy(object, function(value) {\n *   return 'group' + value;\n * });\n * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n */\nvar invertBy = createInverter(function(result, value, key) {\n  if (hasOwnProperty.call(result, value)) {\n    result[value].push(key);\n  } else {\n    result[value] = [key];\n  }\n}, baseIteratee);\n\nexport default invertBy;\n","import baseGet from './_baseGet.js';\nimport baseSlice from './_baseSlice.js';\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nexport default parent;\n","import apply from './_apply.js';\nimport castPath from './_castPath.js';\nimport isKey from './_isKey.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.invoke` without support for individual\n * method arguments.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the method to invoke.\n * @param {Array} args The arguments to invoke the method with.\n * @returns {*} Returns the result of the invoked method.\n */\nfunction baseInvoke(object, path, args) {\n  if (!isKey(path, object)) {\n    path = castPath(path);\n    object = parent(object, path);\n    path = last(path);\n  }\n  var func = object == null ? object : object[toKey(path)];\n  return func == null ? undefined : apply(func, object, args);\n}\n\nexport default baseInvoke;\n","import baseInvoke from './_baseInvoke.js';\nimport rest from './rest.js';\n\n/**\n * Invokes the method at `path` of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the method to invoke.\n * @param {...*} [args] The arguments to invoke the method with.\n * @returns {*} Returns the result of the invoked method.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n *\n * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n * // => [2, 3]\n */\nvar invoke = rest(baseInvoke);\n\nexport default invoke;\n","import apply from './_apply.js';\nimport baseEach from './_baseEach.js';\nimport baseInvoke from './_baseInvoke.js';\nimport isArrayLike from './isArrayLike.js';\nimport isKey from './_isKey.js';\nimport rest from './rest.js';\n\n/**\n * Invokes the method at `path` of each element in `collection`, returning\n * an array of the results of each invoked method. Any additional arguments\n * are provided to each invoked method. If `methodName` is a function, it's\n * invoked for and `this` bound to, each element in `collection`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|string} path The path of the method to invoke or\n *  the function invoked per iteration.\n * @param {...*} [args] The arguments to invoke each method with.\n * @returns {Array} Returns the array of results.\n * @example\n *\n * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n * // => [[1, 5, 7], [1, 2, 3]]\n *\n * _.invokeMap([123, 456], String.prototype.split, '');\n * // => [['1', '2', '3'], ['4', '5', '6']]\n */\nvar invokeMap = rest(function(collection, path, args) {\n  var index = -1,\n      isFunc = typeof path == 'function',\n      isProp = isKey(path),\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value) {\n    var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\n    result[++index] = func ? apply(func, value, args) : baseInvoke(value, path, args);\n  });\n  return result;\n});\n\nexport default invokeMap;\n","import isObjectLike from './isObjectLike.js';\n\nvar arrayBufferTag = '[object ArrayBuffer]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `ArrayBuffer` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArrayBuffer(new ArrayBuffer(2));\n * // => true\n *\n * _.isArrayBuffer(new Array(2));\n * // => false\n */\nfunction isArrayBuffer(value) {\n  return isObjectLike(value) && objectToString.call(value) == arrayBufferTag;\n}\n\nexport default isArrayBuffer;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a boolean primitive or object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isBoolean(false);\n * // => true\n *\n * _.isBoolean(null);\n * // => false\n */\nfunction isBoolean(value) {\n  return value === true || value === false ||\n    (isObjectLike(value) && objectToString.call(value) == boolTag);\n}\n\nexport default isBoolean;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar dateTag = '[object Date]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Date` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isDate(new Date);\n * // => true\n *\n * _.isDate('Mon April 23 2012');\n * // => false\n */\nfunction isDate(value) {\n  return isObjectLike(value) && objectToString.call(value) == dateTag;\n}\n\nexport default isDate;\n","import isObjectLike from './isObjectLike.js';\nimport isPlainObject from './isPlainObject.js';\n\n/**\n * Checks if `value` is likely a DOM element.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a DOM element,\n *  else `false`.\n * @example\n *\n * _.isElement(document.body);\n * // => true\n *\n * _.isElement('<body>');\n * // => false\n */\nfunction isElement(value) {\n  return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\n}\n\nexport default isElement;\n","import getTag from './_getTag.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLike from './isArrayLike.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObjectLike from './isObjectLike.js';\nimport isString from './isString.js';\nimport keys from './keys.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/** Detect if properties shadowing those on `Object.prototype` are non-enumerable. */\nvar nonEnumShadows = !propertyIsEnumerable.call({ 'valueOf': 1 }, 'valueOf');\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (isArrayLike(value) &&\n      (isArray(value) || isString(value) || isFunction(value.splice) ||\n        isArguments(value) || isBuffer(value))) {\n    return !value.length;\n  }\n  if (isObjectLike(value)) {\n    var tag = getTag(value);\n    if (tag == mapTag || tag == setTag) {\n      return !value.size;\n    }\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return !(nonEnumShadows && keys(value).length);\n}\n\nexport default isEmpty;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are **not** supported.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent,\n *  else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nexport default isEqual;\n","import baseIsEqual from './_baseIsEqual.js';\n\n/**\n * This method is like `_.isEqual` except that it accepts `customizer` which\n * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n * are handled by the method instead. The `customizer` is invoked with up to\n * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if the values are equivalent,\n *  else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, othValue) {\n *   if (isGreeting(objValue) && isGreeting(othValue)) {\n *     return true;\n *   }\n * }\n *\n * var array = ['hello', 'goodbye'];\n * var other = ['hi', 'goodbye'];\n *\n * _.isEqualWith(array, other, customizer);\n * // => true\n */\nfunction isEqualWith(value, other, customizer) {\n  customizer = typeof customizer == 'function' ? customizer : undefined;\n  var result = customizer ? customizer(value, other) : undefined;\n  return result === undefined ? baseIsEqual(value, other, customizer) : !!result;\n}\n\nexport default isEqualWith;\n","import root from './_root.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number,\n *  else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nexport default isFinite;\n","import toInteger from './toInteger.js';\n\n/**\n * Checks if `value` is an integer.\n *\n * **Note:** This method is based on\n * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n * @example\n *\n * _.isInteger(3);\n * // => true\n *\n * _.isInteger(Number.MIN_VALUE);\n * // => false\n *\n * _.isInteger(Infinity);\n * // => false\n *\n * _.isInteger('3');\n * // => false\n */\nfunction isInteger(value) {\n  return typeof value == 'number' && value == toInteger(value);\n}\n\nexport default isInteger;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nfunction isMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nexport default isMap;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\n\n/**\n * Performs a partial deep comparison between `object` and `source` to\n * determine if `object` contains equivalent property values. This method is\n * equivalent to a `_.matches` function when `source` is partially applied.\n *\n * **Note:** This method supports comparing the same values as `_.isEqual`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n * @example\n *\n * var object = { 'user': 'fred', 'age': 40 };\n *\n * _.isMatch(object, { 'age': 40 });\n * // => true\n *\n * _.isMatch(object, { 'age': 36 });\n * // => false\n */\nfunction isMatch(object, source) {\n  return object === source || baseIsMatch(object, source, getMatchData(source));\n}\n\nexport default isMatch;\n","import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\n\n/**\n * This method is like `_.isMatch` except that it accepts `customizer` which\n * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n * are handled by the method instead. The `customizer` is invoked with five\n * arguments: (objValue, srcValue, index|key, object, source).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n * @example\n *\n * function isGreeting(value) {\n *   return /^h(?:i|ello)$/.test(value);\n * }\n *\n * function customizer(objValue, srcValue) {\n *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n *     return true;\n *   }\n * }\n *\n * var object = { 'greeting': 'hello' };\n * var source = { 'greeting': 'hi' };\n *\n * _.isMatchWith(object, source, customizer);\n * // => true\n */\nfunction isMatchWith(object, source, customizer) {\n  customizer = typeof customizer == 'function' ? customizer : undefined;\n  return baseIsMatch(object, source, getMatchData(source), customizer);\n}\n\nexport default isMatchWith;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && objectToString.call(value) == numberTag);\n}\n\nexport default isNumber;\n","import isNumber from './isNumber.js';\n\n/**\n * Checks if `value` is `NaN`.\n *\n * **Note:** This method is based on\n * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n * `undefined` and other non-number values.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n * @example\n *\n * _.isNaN(NaN);\n * // => true\n *\n * _.isNaN(new Number(NaN));\n * // => true\n *\n * isNaN(undefined);\n * // => true\n *\n * _.isNaN(undefined);\n * // => false\n */\nfunction isNaN(value) {\n  // An `NaN` primitive is the only value that is not equal to itself.\n  // Perform the `toStringTag` check first to avoid errors with some\n  // ActiveX objects in IE.\n  return isNumber(value) && value != +value;\n}\n\nexport default isNaN;\n","import coreJsData from './_coreJsData.js';\nimport isFunction from './isFunction.js';\nimport stubFalse from './stubFalse.js';\n\n/**\n * Checks if `func` is capable of being masked.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n */\nvar isMaskable = coreJsData ? isFunction : stubFalse;\n\nexport default isMaskable;\n","import baseIsNative from './_baseIsNative.js';\nimport isMaskable from './_isMaskable.js';\n\n/**\n * Checks if `value` is a pristine native function.\n *\n * **Note:** This method can't reliably detect native functions in the\n * presence of the `core-js` package because `core-js` circumvents this kind\n * of detection. Despite multiple requests, the `core-js` maintainer has made\n * it clear: any attempt to fix the detection will be obstructed. As a result,\n * we're left with little choice but to throw an error. Unfortunately, this\n * also affects packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n * which rely on `core-js`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (isMaskable(value)) {\n    throw new Error('This method is not supported with `core-js`. Try https://github.com/es-shims.');\n  }\n  return baseIsNative(value);\n}\n\nexport default isNative;\n","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nexport default isNil;\n","/**\n * Checks if `value` is `null`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n * @example\n *\n * _.isNull(null);\n * // => true\n *\n * _.isNull(void 0);\n * // => false\n */\nfunction isNull(value) {\n  return value === null;\n}\n\nexport default isNull;\n","import isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar regexpTag = '[object RegExp]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `RegExp` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isRegExp(/abc/);\n * // => true\n *\n * _.isRegExp('/abc/');\n * // => false\n */\nfunction isRegExp(value) {\n  return isObject(value) && objectToString.call(value) == regexpTag;\n}\n\nexport default isRegExp;\n","import isInteger from './isInteger.js';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n * double precision number which isn't the result of a rounded unsafe integer.\n *\n * **Note:** This method is based on\n * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a safe integer,\n *  else `false`.\n * @example\n *\n * _.isSafeInteger(3);\n * // => true\n *\n * _.isSafeInteger(Number.MIN_VALUE);\n * // => false\n *\n * _.isSafeInteger(Infinity);\n * // => false\n *\n * _.isSafeInteger('3');\n * // => false\n */\nfunction isSafeInteger(value) {\n  return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isSafeInteger;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nfunction isSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nexport default isSet;\n","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n","import getTag from './_getTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nexport default isWeakMap;\n","import isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar weakSetTag = '[object WeakSet]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as a `WeakSet` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isWeakSet(new WeakSet);\n * // => true\n *\n * _.isWeakSet(new Set);\n * // => false\n */\nfunction isWeakSet(value) {\n  return isObjectLike(value) && objectToString.call(value) == weakSetTag;\n}\n\nexport default isWeakSet;\n","import baseClone from './_baseClone.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, true));\n}\n\nexport default iteratee;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeJoin = arrayProto.join;\n\n/**\n * Converts all elements in `array` into a string separated by `separator`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to convert.\n * @param {string} [separator=','] The element separator.\n * @returns {string} Returns the joined string.\n * @example\n *\n * _.join(['a', 'b', 'c'], '~');\n * // => 'a~b~c'\n */\nfunction join(array, separator) {\n  return array ? nativeJoin.call(array, separator) : '';\n}\n\nexport default join;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nexport default kebabCase;\n","import createAggregator from './_createAggregator.js';\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  result[key] = value;\n});\n\nexport default keyBy;\n","import indexOfNaN from './_indexOfNaN.js';\nimport toInteger from './toInteger.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * This method is like `_.indexOf` except that it iterates over elements of\n * `array` from right to left.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=array.length-1] The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.lastIndexOf([1, 2, 1, 2], 2);\n * // => 3\n *\n * // Search from the `fromIndex`.\n * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n * // => 1\n */\nfunction lastIndexOf(array, value, fromIndex) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return -1;\n  }\n  var index = length;\n  if (fromIndex !== undefined) {\n    index = toInteger(fromIndex);\n    index = (\n      index < 0\n        ? nativeMax(length + index, 0)\n        : nativeMin(index, length - 1)\n    ) + 1;\n  }\n  if (value !== value) {\n    return indexOfNaN(array, index - 1, true);\n  }\n  while (index--) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default lastIndexOf;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string`, as space separated words, to lower case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the lower cased string.\n * @example\n *\n * _.lowerCase('--Foo-Bar--');\n * // => 'foo bar'\n *\n * _.lowerCase('fooBar');\n * // => 'foo bar'\n *\n * _.lowerCase('__FOO_BAR__');\n * // => 'foo bar'\n */\nvar lowerCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + word.toLowerCase();\n});\n\nexport default lowerCase;\n","import createCaseFirst from './_createCaseFirst.js';\n\n/**\n * Converts the first character of `string` to lower case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.lowerFirst('Fred');\n * // => 'fred'\n *\n * _.lowerFirst('FRED');\n * // => 'fRED'\n */\nvar lowerFirst = createCaseFirst('toLowerCase');\n\nexport default lowerFirst;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments to numbers.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nexport default baseLt;\n","import baseLt from './_baseLt.js';\nimport createRelationalOperation from './_createRelationalOperation.js';\n\n/**\n * Checks if `value` is less than `other`.\n *\n * @static\n * @memberOf _\n * @since 3.9.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n * @see _.gt\n * @example\n *\n * _.lt(1, 3);\n * // => true\n *\n * _.lt(3, 3);\n * // => false\n *\n * _.lt(3, 1);\n * // => false\n */\nvar lt = createRelationalOperation(baseLt);\n\nexport default lt;\n","import createRelationalOperation from './_createRelationalOperation.js';\n\n/**\n * Checks if `value` is less than or equal to `other`.\n *\n * @static\n * @memberOf _\n * @since 3.9.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than or equal to\n *  `other`, else `false`.\n * @see _.gte\n * @example\n *\n * _.lte(1, 3);\n * // => true\n *\n * _.lte(3, 3);\n * // => true\n *\n * _.lte(3, 1);\n * // => false\n */\nvar lte = createRelationalOperation(function(value, other) {\n  return value <= other;\n});\n\nexport default lte;\n","import baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    result[iteratee(value, key, object)] = value;\n  });\n  return result;\n}\n\nexport default mapKeys;\n","import baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    result[key] = iteratee(value, key, object);\n  });\n  return result;\n}\n\nexport default mapValues;\n","import baseClone from './_baseClone.js';\nimport baseMatches from './_baseMatches.js';\n\n/**\n * Creates a function that performs a partial deep comparison between a given\n * object and `source`, returning `true` if the given object has equivalent\n * property values, else `false`. The created function is equivalent to\n * `_.isMatch` with a `source` partially applied.\n *\n * **Note:** This method supports comparing the same values as `_.isEqual`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, _.matches({ 'age': 40, 'active': false }));\n * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\n */\nfunction matches(source) {\n  return baseMatches(baseClone(source, true));\n}\n\nexport default matches;\n","import baseClone from './_baseClone.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\n\n/**\n * Creates a function that performs a partial deep comparison between the\n * value at `path` of a given object to `srcValue`, returning `true` if the\n * object value is equivalent, else `false`.\n *\n * **Note:** This method supports comparing the same values as `_.isEqual`.\n *\n * @static\n * @memberOf _\n * @since 3.2.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n * @example\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * _.find(users, _.matchesProperty('user', 'fred'));\n * // => { 'user': 'fred' }\n */\nfunction matchesProperty(path, srcValue) {\n  return baseMatchesProperty(path, baseClone(srcValue, true));\n}\n\nexport default matchesProperty;\n","import isSymbol from './isSymbol.js';\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nexport default baseExtremum;\n","import baseExtremum from './_baseExtremum.js';\nimport baseGt from './_baseGt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the maximum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * _.max([4, 2, 8, 6]);\n * // => 8\n *\n * _.max([]);\n * // => undefined\n */\nfunction max(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseGt)\n    : undefined;\n}\n\nexport default max;\n","import baseExtremum from './_baseExtremum.js';\nimport baseGt from './_baseGt.js';\nimport baseIteratee from './_baseIteratee.js';\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee), baseGt)\n    : undefined;\n}\n\nexport default maxBy;\n","/**\n * The base implementation of `_.sum` and `_.sumBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the sum.\n */\nfunction baseSum(array, iteratee) {\n  var result,\n      index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var current = iteratee(array[index]);\n    if (current !== undefined) {\n      result = result === undefined ? current : (result + current);\n    }\n  }\n  return result;\n}\n\nexport default baseSum;\n","import baseSum from './_baseSum.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/**\n * The base implementation of `_.mean` and `_.meanBy` without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {number} Returns the mean.\n */\nfunction baseMean(array, iteratee) {\n  var length = array ? array.length : 0;\n  return length ? (baseSum(array, iteratee) / length) : NAN;\n}\n\nexport default baseMean;\n","import baseMean from './_baseMean.js';\nimport identity from './identity.js';\n\n/**\n * Computes the mean of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the mean.\n * @example\n *\n * _.mean([4, 2, 8, 6]);\n * // => 5\n */\nfunction mean(array) {\n  return baseMean(array, identity);\n}\n\nexport default mean;\n","import baseIteratee from './_baseIteratee.js';\nimport baseMean from './_baseMean.js';\n\n/**\n * This method is like `_.mean` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be averaged.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {number} Returns the mean.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.meanBy(objects, function(o) { return o.n; });\n * // => 5\n *\n * // The `_.property` iteratee shorthand.\n * _.meanBy(objects, 'n');\n * // => 5\n */\nfunction meanBy(array, iteratee) {\n  return baseMean(array, baseIteratee(iteratee));\n}\n\nexport default meanBy;\n","import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var users = {\n *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\n * };\n *\n * var ages = {\n *   'data': [{ 'age': 36 }, { 'age': 40 }]\n * };\n *\n * _.merge(users, ages);\n * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n","import baseInvoke from './_baseInvoke.js';\nimport rest from './rest.js';\n\n/**\n * Creates a function that invokes the method at `path` of a given object.\n * Any additional arguments are provided to the invoked method.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Util\n * @param {Array|string} path The path of the method to invoke.\n * @param {...*} [args] The arguments to invoke the method with.\n * @returns {Function} Returns the new invoker function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': _.constant(2) } },\n *   { 'a': { 'b': _.constant(1) } }\n * ];\n *\n * _.map(objects, _.method('a.b'));\n * // => [2, 1]\n *\n * _.map(objects, _.method(['a', 'b']));\n * // => [2, 1]\n */\nvar method = rest(function(path, args) {\n  return function(object) {\n    return baseInvoke(object, path, args);\n  };\n});\n\nexport default method;\n","import baseInvoke from './_baseInvoke.js';\nimport rest from './rest.js';\n\n/**\n * The opposite of `_.method`; this method creates a function that invokes\n * the method at a given path of `object`. Any additional arguments are\n * provided to the invoked method.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Util\n * @param {Object} object The object to query.\n * @param {...*} [args] The arguments to invoke the method with.\n * @returns {Function} Returns the new invoker function.\n * @example\n *\n * var array = _.times(3, _.constant),\n *     object = { 'a': array, 'b': array, 'c': array };\n *\n * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n * // => [2, 0]\n *\n * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n * // => [2, 0]\n */\nvar methodOf = rest(function(object, args) {\n  return function(path) {\n    return baseInvoke(object, path, args);\n  };\n});\n\nexport default methodOf;\n","import baseExtremum from './_baseExtremum.js';\nimport baseLt from './_baseLt.js';\nimport identity from './identity.js';\n\n/**\n * Computes the minimum value of `array`. If `array` is empty or falsey,\n * `undefined` is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * _.min([4, 2, 8, 6]);\n * // => 2\n *\n * _.min([]);\n * // => undefined\n */\nfunction min(array) {\n  return (array && array.length)\n    ? baseExtremum(array, identity, baseLt)\n    : undefined;\n}\n\nexport default min;\n","import baseExtremum from './_baseExtremum.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseLt from './_baseLt.js';\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee), baseLt)\n    : undefined;\n}\n\nexport default minBy;\n","import arrayEach from './_arrayEach.js';\nimport arrayPush from './_arrayPush.js';\nimport baseFunctions from './_baseFunctions.js';\nimport copyArray from './_copyArray.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport keys from './keys.js';\n\n/**\n * Adds all own enumerable string keyed function properties of a source\n * object to the destination object. If `object` is a function, then methods\n * are added to its prototype as well.\n *\n * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n * avoid conflicts caused by modifying the original.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {Function|Object} [object=lodash] The destination object.\n * @param {Object} source The object of functions to add.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n * @returns {Function|Object} Returns `object`.\n * @example\n *\n * function vowels(string) {\n *   return _.filter(string, function(v) {\n *     return /[aeiou]/i.test(v);\n *   });\n * }\n *\n * _.mixin({ 'vowels': vowels });\n * _.vowels('fred');\n * // => ['e']\n *\n * _('fred').vowels().value();\n * // => ['e']\n *\n * _.mixin({ 'vowels': vowels }, { 'chain': false });\n * _('fred').vowels();\n * // => ['e']\n */\nfunction mixin(object, source, options) {\n  var props = keys(source),\n      methodNames = baseFunctions(source, props);\n\n  var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n      isFunc = isFunction(object);\n\n  arrayEach(methodNames, function(methodName) {\n    var func = source[methodName];\n    object[methodName] = func;\n    if (isFunc) {\n      object.prototype[methodName] = function() {\n        var chainAll = this.__chain__;\n        if (chain || chainAll) {\n          var result = object(this.__wrapped__),\n              actions = result.__actions__ = copyArray(this.__actions__);\n\n          actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n          result.__chain__ = chainAll;\n          return result;\n        }\n        return func.apply(object, arrayPush([this.value()], arguments));\n      };\n    }\n  });\n\n  return object;\n}\n\nexport default mixin;\n","import createMathOperation from './_createMathOperation.js';\n\n/**\n * Multiply two numbers.\n *\n * @static\n * @memberOf _\n * @since 4.7.0\n * @category Math\n * @param {number} multiplier The first number in a multiplication.\n * @param {number} multiplicand The second number in a multiplication.\n * @returns {number} Returns the product.\n * @example\n *\n * _.multiply(6, 4);\n * // => 24\n */\nvar multiply = createMathOperation(function(multiplier, multiplicand) {\n  return multiplier * multiplicand;\n});\n\nexport default multiply;\n","/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nexport default negate;\n","import Symbol from './_Symbol.js';\nimport copyArray from './_copyArray.js';\nimport getTag from './_getTag.js';\nimport isArrayLike from './isArrayLike.js';\nimport isString from './isString.js';\nimport iteratorToArray from './_iteratorToArray.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\nimport stringToArray from './_stringToArray.js';\nimport values from './values.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Built-in value references. */\nvar iteratorSymbol = typeof (iteratorSymbol = Symbol && Symbol.iterator) == 'symbol' ? iteratorSymbol : undefined;\n\n/**\n * Converts `value` to an array.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Array} Returns the converted array.\n * @example\n *\n * _.toArray({ 'a': 1, 'b': 2 });\n * // => [1, 2]\n *\n * _.toArray('abc');\n * // => ['a', 'b', 'c']\n *\n * _.toArray(1);\n * // => []\n *\n * _.toArray(null);\n * // => []\n */\nfunction toArray(value) {\n  if (!value) {\n    return [];\n  }\n  if (isArrayLike(value)) {\n    return isString(value) ? stringToArray(value) : copyArray(value);\n  }\n  if (iteratorSymbol && value[iteratorSymbol]) {\n    return iteratorToArray(value[iteratorSymbol]());\n  }\n  var tag = getTag(value),\n      func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n  return func(value);\n}\n\nexport default toArray;\n","import toArray from './toArray.js';\n\n/**\n * Gets the next value on a wrapped object following the\n * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n *\n * @name next\n * @memberOf _\n * @since 4.0.0\n * @category Seq\n * @returns {Object} Returns the next iterator value.\n * @example\n *\n * var wrapped = _([1, 2]);\n *\n * wrapped.next();\n * // => { 'done': false, 'value': 1 }\n *\n * wrapped.next();\n * // => { 'done': false, 'value': 2 }\n *\n * wrapped.next();\n * // => { 'done': true, 'value': undefined }\n */\nfunction wrapperNext() {\n  if (this.__values__ === undefined) {\n    this.__values__ = toArray(this.value());\n  }\n  var done = this.__index__ >= this.__values__.length,\n      value = done ? undefined : this.__values__[this.__index__++];\n\n  return { 'done': done, 'value': value };\n}\n\nexport default wrapperNext;\n","import isIndex from './_isIndex.js';\n\n/**\n * The base implementation of `_.nth` which doesn't coerce `n` to an integer.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {number} n The index of the element to return.\n * @returns {*} Returns the nth element of `array`.\n */\nfunction baseNth(array, n) {\n  var length = array.length;\n  if (!length) {\n    return;\n  }\n  n += n < 0 ? length : 0;\n  return isIndex(n, length) ? array[n] : undefined;\n}\n\nexport default baseNth;\n","import baseNth from './_baseNth.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Gets the element at index `n` of `array`. If `n` is negative, the nth\n * element from the end is returned.\n *\n * @static\n * @memberOf _\n * @since 4.11.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=0] The index of the element to return.\n * @returns {*} Returns the nth element of `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'd'];\n *\n * _.nth(array, 1);\n * // => 'b'\n *\n * _.nth(array, -2);\n * // => 'c';\n */\nfunction nth(array, n) {\n  return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n}\n\nexport default nth;\n","import baseNth from './_baseNth.js';\nimport rest from './rest.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a function that gets the argument at index `n`. If `n` is negative,\n * the nth argument from the end is returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {number} [n=0] The index of the argument to return.\n * @returns {Function} Returns the new pass-thru function.\n * @example\n *\n * var func = _.nthArg(1);\n * func('a', 'b', 'c', 'd');\n * // => 'b'\n *\n * var func = _.nthArg(-2);\n * func('a', 'b', 'c', 'd');\n * // => 'c'\n */\nfunction nthArg(n) {\n  n = toInteger(n);\n  return rest(function(args) {\n    return baseNth(args, n);\n  });\n}\n\nexport default nthArg;\n","import arrayReduce from './_arrayReduce.js';\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} props The property identifiers to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, props) {\n  object = Object(object);\n  return arrayReduce(props, function(result, key) {\n    if (key in object) {\n      result[key] = object[key];\n    }\n    return result;\n  }, {});\n}\n\nexport default basePick;\n","import arrayPush from './_arrayPush.js';\nimport getPrototype from './_getPrototype.js';\nimport getSymbols from './_getSymbols.js';\n\n/** Built-in value references. */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbol properties\n * of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !getOwnPropertySymbols ? getSymbols : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nexport default getSymbolsIn;\n","import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbolsIn from './_getSymbolsIn.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nexport default getAllKeysIn;\n","import arrayMap from './_arrayMap.js';\nimport baseDifference from './_baseDifference.js';\nimport baseFlatten from './_baseFlatten.js';\nimport basePick from './_basePick.js';\nimport getAllKeysIn from './_getAllKeysIn.js';\nimport rest from './rest.js';\nimport toKey from './_toKey.js';\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable string keyed properties of `object` that are\n * not omitted.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = rest(function(object, props) {\n  if (object == null) {\n    return {};\n  }\n  props = arrayMap(baseFlatten(props, 1), toKey);\n  return basePick(object, baseDifference(getAllKeysIn(object), props));\n});\n\nexport default omit;\n","import getAllKeysIn from './_getAllKeysIn.js';\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, predicate) {\n  var index = -1,\n      props = getAllKeysIn(object),\n      length = props.length,\n      result = {};\n\n  while (++index < length) {\n    var key = props[index],\n        value = object[key];\n\n    if (predicate(value, key)) {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\nexport default basePickBy;\n","import baseIteratee from './_baseIteratee.js';\nimport basePickBy from './_basePickBy.js';\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, function(value, key) {\n    return !predicate(value, key);\n  });\n}\n\nexport default omitBy;\n","import before from './before.js';\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // `initialize` invokes `createApplication` once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nexport default once;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nexport default baseSortBy;\n","import isSymbol from './isSymbol.js';\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nexport default compareAscending;\n","import compareAscending from './_compareAscending.js';\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nexport default compareMultiple;\n","import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport baseSortBy from './_baseSortBy.js';\nimport baseUnary from './_baseUnary.js';\nimport compareMultiple from './_compareMultiple.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nexport default baseOrderBy;\n","import baseOrderBy from './_baseOrderBy.js';\nimport isArray from './isArray.js';\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nexport default orderBy;\n","import isArray from './isArray.js';\nimport isFunction from './isFunction.js';\n\n/**\n * Checks if `value` is a flattenable array and not a `_.matchesProperty`\n * iteratee shorthand.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenableIteratee(value) {\n  return isArray(value) && !(value.length == 2 && !isFunction(value[0]));\n}\n\nexport default isFlattenableIteratee;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseUnary from './_baseUnary.js';\nimport isArray from './isArray.js';\nimport isFlattenableIteratee from './_isFlattenableIteratee.js';\nimport rest from './rest.js';\n\n/**\n * Creates a function like `_.over`.\n *\n * @private\n * @param {Function} arrayFunc The function to iterate over iteratees.\n * @returns {Function} Returns the new over function.\n */\nfunction createOver(arrayFunc) {\n  return rest(function(iteratees) {\n    iteratees = (iteratees.length == 1 && isArray(iteratees[0]))\n      ? arrayMap(iteratees[0], baseUnary(baseIteratee))\n      : arrayMap(baseFlatten(iteratees, 1, isFlattenableIteratee), baseUnary(baseIteratee));\n\n    return rest(function(args) {\n      var thisArg = this;\n      return arrayFunc(iteratees, function(iteratee) {\n        return apply(iteratee, thisArg, args);\n      });\n    });\n  });\n}\n\nexport default createOver;\n","import arrayMap from './_arrayMap.js';\nimport createOver from './_createOver.js';\n\n/**\n * Creates a function that invokes `iteratees` with the arguments it receives\n * and returns their results.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {...(Array|Array[]|Function|Function[]|Object|Object[]|string|string[])}\n *  [iteratees=[_.identity]] The iteratees to invoke.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var func = _.over([Math.max, Math.min]);\n *\n * func(1, 2, 3, 4);\n * // => [4, 1]\n */\nvar over = createOver(arrayMap);\n\nexport default over;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport baseFlatten from './_baseFlatten.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseUnary from './_baseUnary.js';\nimport isArray from './isArray.js';\nimport isFlattenableIteratee from './_isFlattenableIteratee.js';\nimport rest from './rest.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Creates a function that invokes `func` with arguments transformed by\n * corresponding `transforms`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Function\n * @param {Function} func The function to wrap.\n * @param {...(Array|Array[]|Function|Function[]|Object|Object[]|string|string[])}\n *  [transforms[_.identity]] The functions to transform.\n * @returns {Function} Returns the new function.\n * @example\n *\n * function doubled(n) {\n *   return n * 2;\n * }\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var func = _.overArgs(function(x, y) {\n *   return [x, y];\n * }, [square, doubled]);\n *\n * func(9, 3);\n * // => [81, 6]\n *\n * func(10, 5);\n * // => [100, 10]\n */\nvar overArgs = rest(function(func, transforms) {\n  transforms = (transforms.length == 1 && isArray(transforms[0]))\n    ? arrayMap(transforms[0], baseUnary(baseIteratee))\n    : arrayMap(baseFlatten(transforms, 1, isFlattenableIteratee), baseUnary(baseIteratee));\n\n  var funcsLength = transforms.length;\n  return rest(function(args) {\n    var index = -1,\n        length = nativeMin(args.length, funcsLength);\n\n    while (++index < length) {\n      args[index] = transforms[index].call(this, args[index]);\n    }\n    return apply(func, this, args);\n  });\n});\n\nexport default overArgs;\n","import arrayEvery from './_arrayEvery.js';\nimport createOver from './_createOver.js';\n\n/**\n * Creates a function that checks if **all** of the `predicates` return\n * truthy when invoked with the arguments it receives.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {...(Array|Array[]|Function|Function[]|Object|Object[]|string|string[])}\n *  [predicates=[_.identity]] The predicates to check.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var func = _.overEvery([Boolean, isFinite]);\n *\n * func('1');\n * // => true\n *\n * func(null);\n * // => false\n *\n * func(NaN);\n * // => false\n */\nvar overEvery = createOver(arrayEvery);\n\nexport default overEvery;\n","import arraySome from './_arraySome.js';\nimport createOver from './_createOver.js';\n\n/**\n * Creates a function that checks if **any** of the `predicates` return\n * truthy when invoked with the arguments it receives.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {...(Array|Array[]|Function|Function[]|Object|Object[]|string|string[])}\n *  [predicates=[_.identity]] The predicates to check.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var func = _.overSome([Boolean, isFinite]);\n *\n * func('1');\n * // => true\n *\n * func(null);\n * // => true\n *\n * func(NaN);\n * // => false\n */\nvar overSome = createOver(arraySome);\n\nexport default overSome;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor;\n\n/**\n * The base implementation of `_.repeat` which doesn't coerce arguments.\n *\n * @private\n * @param {string} string The string to repeat.\n * @param {number} n The number of times to repeat the string.\n * @returns {string} Returns the repeated string.\n */\nfunction baseRepeat(string, n) {\n  var result = '';\n  if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n    return result;\n  }\n  // Leverage the exponentiation by squaring algorithm for a faster repeat.\n  // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n  do {\n    if (n % 2) {\n      result += string;\n    }\n    n = nativeFloor(n / 2);\n    if (n) {\n      string += string;\n    }\n  } while (n);\n\n  return result;\n}\n\nexport default baseRepeat;\n","import reHasComplexSymbol from './_reHasComplexSymbol.js';\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reComplexSymbol = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  if (!(string && reHasComplexSymbol.test(string))) {\n    return string.length;\n  }\n  var result = reComplexSymbol.lastIndex = 0;\n  while (reComplexSymbol.test(string)) {\n    result++;\n  }\n  return result;\n}\n\nexport default stringSize;\n","import baseRepeat from './_baseRepeat.js';\nimport baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport reHasComplexSymbol from './_reHasComplexSymbol.js';\nimport stringSize from './_stringSize.js';\nimport stringToArray from './_stringToArray.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil;\n\n/**\n * Creates the padding for `string` based on `length`. The `chars` string\n * is truncated if the number of characters exceeds `length`.\n *\n * @private\n * @param {number} length The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padding for `string`.\n */\nfunction createPadding(length, chars) {\n  chars = chars === undefined ? ' ' : baseToString(chars);\n\n  var charsLength = chars.length;\n  if (charsLength < 2) {\n    return charsLength ? baseRepeat(chars, length) : chars;\n  }\n  var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n  return reHasComplexSymbol.test(chars)\n    ? castSlice(stringToArray(result), 0, length).join('')\n    : result.slice(0, length);\n}\n\nexport default createPadding;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeFloor = Math.floor;\n\n/**\n * Pads `string` on the left and right sides if it's shorter than `length`.\n * Padding characters are truncated if they can't be evenly divided by `length`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.pad('abc', 8);\n * // => '  abc   '\n *\n * _.pad('abc', 8, '_-');\n * // => '_-abc_-_'\n *\n * _.pad('abc', 3);\n * // => 'abc'\n */\nfunction pad(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  if (!length || strLength >= length) {\n    return string;\n  }\n  var mid = (length - strLength) / 2;\n  return (\n    createPadding(nativeFloor(mid), chars) +\n    string +\n    createPadding(nativeCeil(mid), chars)\n  );\n}\n\nexport default pad;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the right side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padEnd('abc', 6);\n * // => 'abc   '\n *\n * _.padEnd('abc', 6, '_-');\n * // => 'abc_-_'\n *\n * _.padEnd('abc', 3);\n * // => 'abc'\n */\nfunction padEnd(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (string + createPadding(length - strLength, chars))\n    : string;\n}\n\nexport default padEnd;\n","import createPadding from './_createPadding.js';\nimport stringSize from './_stringSize.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Pads `string` on the left side if it's shorter than `length`. Padding\n * characters are truncated if they exceed `length`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to pad.\n * @param {number} [length=0] The padding length.\n * @param {string} [chars=' '] The string used as padding.\n * @returns {string} Returns the padded string.\n * @example\n *\n * _.padStart('abc', 6);\n * // => '   abc'\n *\n * _.padStart('abc', 6, '_-');\n * // => '_-_abc'\n *\n * _.padStart('abc', 3);\n * // => 'abc'\n */\nfunction padStart(string, length, chars) {\n  string = toString(string);\n  length = toInteger(length);\n\n  var strLength = length ? stringSize(string) : 0;\n  return (length && strLength < length)\n    ? (createPadding(length - strLength, chars) + string)\n    : string;\n}\n\nexport default padStart;\n","import root from './_root.js';\nimport toString from './toString.js';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect hexadecimal string values. */\nvar reHasHexPrefix = /^0x/i;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeParseInt = root.parseInt;\n\n/**\n * Converts `string` to an integer of the specified radix. If `radix` is\n * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n * hexadecimal, in which case a `radix` of `16` is used.\n *\n * **Note:** This method aligns with the\n * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n *\n * @static\n * @memberOf _\n * @since 1.1.0\n * @category String\n * @param {string} string The string to convert.\n * @param {number} [radix=10] The radix to interpret `value` by.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.parseInt('08');\n * // => 8\n *\n * _.map(['6', '08', '10'], _.parseInt);\n * // => [6, 8, 10]\n */\nfunction parseInt(string, radix, guard) {\n  // Chrome fails to trim leading <BOM> whitespace characters.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=3109 for more details.\n  if (guard || radix == null) {\n    radix = 0;\n  } else if (radix) {\n    radix = +radix;\n  }\n  string = toString(string).replace(reTrim, '');\n  return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\n}\n\nexport default parseInt;\n","import createWrapper from './_createWrapper.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport rest from './rest.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar PARTIAL_FLAG = 32;\n\n/**\n * Creates a function that invokes `func` with `partials` prepended to the\n * arguments it receives. This method is like `_.bind` except it does **not**\n * alter the `this` binding.\n *\n * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for partially applied arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of partially\n * applied functions.\n *\n * @static\n * @memberOf _\n * @since 0.2.0\n * @category Function\n * @param {Function} func The function to partially apply arguments to.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new partially applied function.\n * @example\n *\n * var greet = function(greeting, name) {\n *   return greeting + ' ' + name;\n * };\n *\n * var sayHelloTo = _.partial(greet, 'hello');\n * sayHelloTo('fred');\n * // => 'hello fred'\n *\n * // Partially applied with placeholders.\n * var greetFred = _.partial(greet, _, 'fred');\n * greetFred('hi');\n * // => 'hi fred'\n */\nvar partial = rest(function(func, partials) {\n  var holders = replaceHolders(partials, getHolder(partial));\n  return createWrapper(func, PARTIAL_FLAG, undefined, partials, holders);\n});\n\n// Assign default placeholders.\npartial.placeholder = {};\n\nexport default partial;\n","import createWrapper from './_createWrapper.js';\nimport getHolder from './_getHolder.js';\nimport replaceHolders from './_replaceHolders.js';\nimport rest from './rest.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * This method is like `_.partial` except that partially applied arguments\n * are appended to the arguments it receives.\n *\n * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for partially applied arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of partially\n * applied functions.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Function\n * @param {Function} func The function to partially apply arguments to.\n * @param {...*} [partials] The arguments to be partially applied.\n * @returns {Function} Returns the new partially applied function.\n * @example\n *\n * var greet = function(greeting, name) {\n *   return greeting + ' ' + name;\n * };\n *\n * var greetFred = _.partialRight(greet, 'fred');\n * greetFred('hi');\n * // => 'hi fred'\n *\n * // Partially applied with placeholders.\n * var sayHelloTo = _.partialRight(greet, 'hello', _);\n * sayHelloTo('fred');\n * // => 'hello fred'\n */\nvar partialRight = rest(function(func, partials) {\n  var holders = replaceHolders(partials, getHolder(partialRight));\n  return createWrapper(func, PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n});\n\n// Assign default placeholders.\npartialRight.placeholder = {};\n\nexport default partialRight;\n","import createAggregator from './_createAggregator.js';\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nexport default partition;\n","import arrayMap from './_arrayMap.js';\nimport baseFlatten from './_baseFlatten.js';\nimport basePick from './_basePick.js';\nimport rest from './rest.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [props] The property identifiers to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = rest(function(object, props) {\n  return object == null ? {} : basePick(object, arrayMap(baseFlatten(props, 1), toKey));\n});\n\nexport default pick;\n","import baseIteratee from './_baseIteratee.js';\nimport basePickBy from './_basePickBy.js';\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  return object == null ? {} : basePickBy(object, baseIteratee(predicate));\n}\n\nexport default pickBy;\n","import baseLodash from './_baseLodash.js';\nimport wrapperClone from './_wrapperClone.js';\n\n/**\n * Creates a clone of the chain sequence planting `value` as the wrapped value.\n *\n * @name plant\n * @memberOf _\n * @since 3.2.0\n * @category Seq\n * @param {*} value The value to plant.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var wrapped = _([1, 2]).map(square);\n * var other = wrapped.plant([3, 4]);\n *\n * other.value();\n * // => [9, 16]\n *\n * wrapped.value();\n * // => [1, 4]\n */\nfunction wrapperPlant(value) {\n  var result,\n      parent = this;\n\n  while (parent instanceof baseLodash) {\n    var clone = wrapperClone(parent);\n    clone.__index__ = 0;\n    clone.__values__ = undefined;\n    if (result) {\n      previous.__wrapped__ = clone;\n    } else {\n      result = clone;\n    }\n    var previous = clone;\n    parent = parent.__wrapped__;\n  }\n  previous.__wrapped__ = value;\n  return result;\n}\n\nexport default wrapperPlant;\n","import baseGet from './_baseGet.js';\n\n/**\n * The opposite of `_.property`; this method creates a function that returns\n * the value at a given path of `object`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var array = [0, 1, 2],\n *     object = { 'a': array, 'b': array, 'c': array };\n *\n * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n * // => [2, 0]\n *\n * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n * // => [2, 0]\n */\nfunction propertyOf(object) {\n  return function(path) {\n    return object == null ? undefined : baseGet(object, path);\n  };\n}\n\nexport default propertyOf;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default baseIndexOfWith;\n","import arrayMap from './_arrayMap.js';\nimport baseIndexOf from './_baseIndexOf.js';\nimport baseIndexOfWith from './_baseIndexOfWith.js';\nimport baseUnary from './_baseUnary.js';\nimport copyArray from './_copyArray.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nexport default basePullAll;\n","import basePullAll from './_basePullAll.js';\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nexport default pullAll;\n","import pullAll from './pullAll.js';\nimport rest from './rest.js';\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = rest(pullAll);\n\nexport default pull;\n","import baseIteratee from './_baseIteratee.js';\nimport basePullAll from './_basePullAll.js';\n\n/**\n * This method is like `_.pullAll` except that it accepts `iteratee` which is\n * invoked for each element of `array` and `values` to generate the criterion\n * by which they're compared. The iteratee is invoked with one argument: (value).\n *\n * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n *\n * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n * console.log(array);\n * // => [{ 'x': 2 }]\n */\nfunction pullAllBy(array, values, iteratee) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values, baseIteratee(iteratee))\n    : array;\n}\n\nexport default pullAllBy;\n","import basePullAll from './_basePullAll.js';\n\n/**\n * This method is like `_.pullAll` except that it accepts `comparator` which\n * is invoked to compare elements of `array` to `values`. The comparator is\n * invoked with two arguments: (arrVal, othVal).\n *\n * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.6.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n *\n * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n * console.log(array);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n */\nfunction pullAllWith(array, values, comparator) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values, undefined, comparator)\n    : array;\n}\n\nexport default pullAllWith;\n","import castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isKey from './_isKey.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      }\n      else if (!isKey(index, array)) {\n        var path = castPath(index),\n            object = parent(array, path);\n\n        if (object != null) {\n          delete object[toKey(last(path))];\n        }\n      }\n      else {\n        delete array[toKey(index)];\n      }\n    }\n  }\n  return array;\n}\n\nexport default basePullAt;\n","import arrayMap from './_arrayMap.js';\nimport baseAt from './_baseAt.js';\nimport baseFlatten from './_baseFlatten.js';\nimport basePullAt from './_basePullAt.js';\nimport compareAscending from './_compareAscending.js';\nimport isIndex from './_isIndex.js';\nimport rest from './rest.js';\n\n/**\n * Removes elements from `array` corresponding to `indexes` and returns an\n * array of removed elements.\n *\n * **Note:** Unlike `_.at`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = ['a', 'b', 'c', 'd'];\n * var pulled = _.pullAt(array, [1, 3]);\n *\n * console.log(array);\n * // => ['a', 'c']\n *\n * console.log(pulled);\n * // => ['b', 'd']\n */\nvar pullAt = rest(function(array, indexes) {\n  indexes = baseFlatten(indexes, 1);\n\n  var length = array ? array.length : 0,\n      result = baseAt(array, indexes);\n\n  basePullAt(array, arrayMap(indexes, function(index) {\n    return isIndex(index, length) ? +index : index;\n  }).sort(compareAscending));\n\n  return result;\n});\n\nexport default pullAt;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nexport default baseRandom;\n","import baseRandom from './_baseRandom.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toNumber from './toNumber.js';\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toNumber(lower) || 0;\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toNumber(upper) || 0;\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nexport default random;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments to numbers.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nexport default baseRange;\n","import baseRange from './_baseRange.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toNumber from './toNumber.js';\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toNumber(start);\n    start = start === start ? start : 0;\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toNumber(end) || 0;\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : (toNumber(step) || 0);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nexport default createRange;\n","import createRange from './_createRange.js';\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nexport default range;\n","import createRange from './_createRange.js';\n\n/**\n * This method is like `_.range` except that it populates values in\n * descending order.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.range\n * @example\n *\n * _.rangeRight(4);\n * // => [3, 2, 1, 0]\n *\n * _.rangeRight(-4);\n * // => [-3, -2, -1, 0]\n *\n * _.rangeRight(1, 5);\n * // => [4, 3, 2, 1]\n *\n * _.rangeRight(0, 20, 5);\n * // => [15, 10, 5, 0]\n *\n * _.rangeRight(0, -4, -1);\n * // => [-3, -2, -1, 0]\n *\n * _.rangeRight(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.rangeRight(0);\n * // => []\n */\nvar rangeRight = createRange(true);\n\nexport default rangeRight;\n","import baseFlatten from './_baseFlatten.js';\nimport createWrapper from './_createWrapper.js';\nimport rest from './rest.js';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = rest(function(func, indexes) {\n  return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes, 1));\n});\n\nexport default rearg;\n","/**\n * The base implementation of `_.reduce` and `_.reduceRight`, without support\n * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} accumulator The initial value.\n * @param {boolean} initAccum Specify using the first or last element of\n *  `collection` as the initial value.\n * @param {Function} eachFunc The function to iterate over `collection`.\n * @returns {*} Returns the accumulated value.\n */\nfunction baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n  eachFunc(collection, function(value, index, collection) {\n    accumulator = initAccum\n      ? (initAccum = false, value)\n      : iteratee(accumulator, value, index, collection);\n  });\n  return accumulator;\n}\n\nexport default baseReduce;\n","import arrayReduce from './_arrayReduce.js';\nimport baseEach from './_baseEach.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseReduce from './_baseReduce.js';\nimport isArray from './isArray.js';\n\n/**\n * Reduces `collection` to a value which is the accumulated result of running\n * each element in `collection` thru `iteratee`, where each successive\n * invocation is supplied the return value of the previous. If `accumulator`\n * is not given, the first element of `collection` is used as the initial\n * value. The iteratee is invoked with four arguments:\n * (accumulator, value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.reduce`, `_.reduceRight`, and `_.transform`.\n *\n * The guarded methods are:\n * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n * and `sortBy`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduceRight\n * @example\n *\n * _.reduce([1, 2], function(sum, n) {\n *   return sum + n;\n * }, 0);\n * // => 3\n *\n * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n *   return result;\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n */\nfunction reduce(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduce : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n}\n\nexport default reduce;\n","/**\n * A specialized version of `_.reduceRight` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the last element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduceRight(array, iteratee, accumulator, initAccum) {\n  var length = array ? array.length : 0;\n  if (initAccum && length) {\n    accumulator = array[--length];\n  }\n  while (length--) {\n    accumulator = iteratee(accumulator, array[length], length, array);\n  }\n  return accumulator;\n}\n\nexport default arrayReduceRight;\n","import arrayReduceRight from './_arrayReduceRight.js';\nimport baseEachRight from './_baseEachRight.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseReduce from './_baseReduce.js';\nimport isArray from './isArray.js';\n\n/**\n * This method is like `_.reduce` except that it iterates over elements of\n * `collection` from right to left.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @returns {*} Returns the accumulated value.\n * @see _.reduce\n * @example\n *\n * var array = [[0, 1], [2, 3], [4, 5]];\n *\n * _.reduceRight(array, function(flattened, other) {\n *   return flattened.concat(other);\n * }, []);\n * // => [4, 5, 2, 3, 0, 1]\n */\nfunction reduceRight(collection, iteratee, accumulator) {\n  var func = isArray(collection) ? arrayReduceRight : baseReduce,\n      initAccum = arguments.length < 3;\n\n  return func(collection, baseIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n}\n\nexport default reduceRight;\n","import arrayFilter from './_arrayFilter.js';\nimport baseFilter from './_baseFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport isArray from './isArray.js';\n\n/**\n * The opposite of `_.filter`; this method returns the elements of `collection`\n * that `predicate` does **not** return truthy for.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.filter\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': false },\n *   { 'user': 'fred',   'age': 40, 'active': true }\n * ];\n *\n * _.reject(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.reject(users, { 'age': 40, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.reject(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.reject(users, 'active');\n * // => objects for ['barney']\n */\nfunction reject(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  predicate = baseIteratee(predicate, 3);\n  return func(collection, function(value, index, collection) {\n    return !predicate(value, index, collection);\n  });\n}\n\nexport default reject;\n","import baseIteratee from './_baseIteratee.js';\nimport basePullAt from './_basePullAt.js';\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nexport default remove;\n","import baseRepeat from './_baseRepeat.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Repeats the given string `n` times.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to repeat.\n * @param {number} [n=1] The number of times to repeat the string.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the repeated string.\n * @example\n *\n * _.repeat('*', 3);\n * // => '***'\n *\n * _.repeat('abc', 2);\n * // => 'abcabc'\n *\n * _.repeat('abc', 0);\n * // => ''\n */\nfunction repeat(string, n, guard) {\n  if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n    n = 1;\n  } else {\n    n = toInteger(n);\n  }\n  return baseRepeat(toString(string), n);\n}\n\nexport default repeat;\n","import toString from './toString.js';\n\n/** Used for built-in method references. */\nvar stringProto = String.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeReplace = stringProto.replace;\n\n/**\n * Replaces matches for `pattern` in `string` with `replacement`.\n *\n * **Note:** This method is based on\n * [`String#replace`](https://mdn.io/String/replace).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to modify.\n * @param {RegExp|string} pattern The pattern to replace.\n * @param {Function|string} replacement The match replacement.\n * @returns {string} Returns the modified string.\n * @example\n *\n * _.replace('Hi Fred', 'Fred', 'Barney');\n * // => 'Hi Barney'\n */\nfunction replace() {\n  var args = arguments,\n      string = toString(args[0]);\n\n  return args.length < 3 ? string : nativeReplace.call(string, args[1], args[2]);\n}\n\nexport default replace;\n","import castPath from './_castPath.js';\nimport isFunction from './isFunction.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * This method is like `_.get` except that if the resolved value is a\n * function it's invoked with the `this` binding of its parent object and\n * its result is returned.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to resolve.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n *\n * _.result(object, 'a[0].b.c1');\n * // => 3\n *\n * _.result(object, 'a[0].b.c2');\n * // => 4\n *\n * _.result(object, 'a[0].b.c3', 'default');\n * // => 'default'\n *\n * _.result(object, 'a[0].b.c3', _.constant('default'));\n * // => 'default'\n */\nfunction result(object, path, defaultValue) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = -1,\n      length = path.length;\n\n  // Ensure the loop is entered when path is empty.\n  if (!length) {\n    object = undefined;\n    length = 1;\n  }\n  while (++index < length) {\n    var value = object == null ? undefined : object[toKey(path[index])];\n    if (value === undefined) {\n      index = length;\n      value = defaultValue;\n    }\n    object = isFunction(value) ? value.call(object) : value;\n  }\n  return object;\n}\n\nexport default result;\n","/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeReverse = arrayProto.reverse;\n\n/**\n * Reverses `array` so that the first element becomes the last, the second\n * element becomes the second to last, and so on.\n *\n * **Note:** This method mutates `array` and is based on\n * [`Array#reverse`](https://mdn.io/Array/reverse).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _.reverse(array);\n * // => [3, 2, 1]\n *\n * console.log(array);\n * // => [3, 2, 1]\n */\nfunction reverse(array) {\n  return array ? nativeReverse.call(array) : array;\n}\n\nexport default reverse;\n","import createRound from './_createRound.js';\n\n/**\n * Computes `number` rounded to `precision`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Math\n * @param {number} number The number to round.\n * @param {number} [precision=0] The precision to round to.\n * @returns {number} Returns the rounded number.\n * @example\n *\n * _.round(4.006);\n * // => 4\n *\n * _.round(4.006, 2);\n * // => 4.01\n *\n * _.round(4060, -2);\n * // => 4100\n */\nvar round = createRound('round');\n\nexport default round;\n","import baseRandom from './_baseRandom.js';\nimport isArrayLike from './isArrayLike.js';\nimport values from './values.js';\n\n/**\n * Gets a random element from `collection`.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @returns {*} Returns the random element.\n * @example\n *\n * _.sample([1, 2, 3, 4]);\n * // => 2\n */\nfunction sample(collection) {\n  var array = isArrayLike(collection) ? collection : values(collection),\n      length = array.length;\n\n  return length > 0 ? array[baseRandom(0, length - 1)] : undefined;\n}\n\nexport default sample;\n","import baseClamp from './_baseClamp.js';\nimport baseRandom from './_baseRandom.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toArray from './toArray.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Gets `n` random elements at unique keys from `collection` up to the\n * size of `collection`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to sample.\n * @param {number} [n=1] The number of elements to sample.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the random elements.\n * @example\n *\n * _.sampleSize([1, 2, 3], 2);\n * // => [3, 1]\n *\n * _.sampleSize([1, 2, 3], 4);\n * // => [2, 3, 1]\n */\nfunction sampleSize(collection, n, guard) {\n  var index = -1,\n      result = toArray(collection),\n      length = result.length,\n      lastIndex = length - 1;\n\n  if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n    n = 1;\n  } else {\n    n = baseClamp(toInteger(n), 0, length);\n  }\n  while (++index < n) {\n    var rand = baseRandom(index, lastIndex),\n        value = result[rand];\n\n    result[rand] = result[index];\n    result[index] = value;\n  }\n  result.length = n;\n  return result;\n}\n\nexport default sampleSize;\n","import assignValue from './_assignValue.js';\nimport castPath from './_castPath.js';\nimport isIndex from './_isIndex.js';\nimport isKey from './_isKey.js';\nimport isObject from './isObject.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]);\n    if (isObject(nested)) {\n      var newValue = value;\n      if (index != lastIndex) {\n        var objValue = nested[key];\n        newValue = customizer ? customizer(objValue, key, nested) : undefined;\n        if (newValue === undefined) {\n          newValue = objValue == null\n            ? (isIndex(path[index + 1]) ? [] : {})\n            : objValue;\n        }\n      }\n      assignValue(nested, key, newValue);\n    }\n    nested = nested[key];\n  }\n  return object;\n}\n\nexport default baseSet;\n","import baseSet from './_baseSet.js';\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nexport default set;\n","import baseSet from './_baseSet.js';\n\n/**\n * This method is like `_.set` except that it accepts `customizer` which is\n * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n * path creation is handled by the method instead. The `customizer` is invoked\n * with three arguments: (nsValue, key, nsObject).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {};\n *\n * _.setWith(object, '[0][1]', 'a', Object);\n * // => { '0': { '1': 'a' } }\n */\nfunction setWith(object, path, value, customizer) {\n  customizer = typeof customizer == 'function' ? customizer : undefined;\n  return object == null ? object : baseSet(object, path, value, customizer);\n}\n\nexport default setWith;\n","import sampleSize from './sampleSize.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/**\n * Creates an array of shuffled values, using a version of the\n * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to shuffle.\n * @returns {Array} Returns the new shuffled array.\n * @example\n *\n * _.shuffle([1, 2, 3, 4]);\n * // => [4, 1, 3, 2]\n */\nfunction shuffle(collection) {\n  return sampleSize(collection, MAX_ARRAY_LENGTH);\n}\n\nexport default shuffle;\n","import getTag from './_getTag.js';\nimport isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\nimport isString from './isString.js';\nimport keys from './keys.js';\nimport stringSize from './_stringSize.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    var result = collection.length;\n    return (result && isString(collection)) ? stringSize(collection) : result;\n  }\n  if (isObjectLike(collection)) {\n    var tag = getTag(collection);\n    if (tag == mapTag || tag == setTag) {\n      return collection.size;\n    }\n  }\n  return keys(collection).length;\n}\n\nexport default size;\n","import baseSlice from './_baseSlice.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` from `start` up to, but not including, `end`.\n *\n * **Note:** This method is used instead of\n * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n * returned.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction slice(array, start, end) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n    start = 0;\n    end = length;\n  }\n  else {\n    start = start == null ? 0 : toInteger(start);\n    end = end === undefined ? length : toInteger(end);\n  }\n  return baseSlice(array, start, end);\n}\n\nexport default slice;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nexport default snakeCase;\n","import baseEach from './_baseEach.js';\n\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction baseSome(collection, predicate) {\n  var result;\n\n  baseEach(collection, function(value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nexport default baseSome;\n","import arraySome from './_arraySome.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseSome from './_baseSome.js';\nimport isArray from './isArray.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nexport default some;\n","import baseFlatten from './_baseFlatten.js';\nimport baseOrderBy from './_baseOrderBy.js';\nimport isArray from './isArray.js';\nimport isFlattenableIteratee from './_isFlattenableIteratee.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Array|Array[]|Function|Function[]|Object|Object[]|string|string[])}\n *  [iteratees=[_.identity]] The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, function(o) { return o.user; });\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n *\n * _.sortBy(users, 'user', function(o) {\n *   return Math.floor(o.age / 10);\n * });\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nvar sortBy = rest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  iteratees = (iteratees.length == 1 && isArray(iteratees[0]))\n    ? iteratees[0]\n    : baseFlatten(iteratees, 1, isFlattenableIteratee);\n\n  return baseOrderBy(collection, iteratees, []);\n});\n\nexport default sortBy;\n","import isSymbol from './isSymbol.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295,\n    MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeMin = Math.min;\n\n/**\n * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n * which invokes `iteratee` for `value` and each element of `array` to compute\n * their sort ranking. The iteratee is invoked with one argument; (value).\n *\n * @private\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {Function} iteratee The iteratee invoked per element.\n * @param {boolean} [retHighest] Specify returning the highest qualified index.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n */\nfunction baseSortedIndexBy(array, value, iteratee, retHighest) {\n  value = iteratee(value);\n\n  var low = 0,\n      high = array ? array.length : 0,\n      valIsNaN = value !== value,\n      valIsNull = value === null,\n      valIsSymbol = isSymbol(value),\n      valIsUndefined = value === undefined;\n\n  while (low < high) {\n    var mid = nativeFloor((low + high) / 2),\n        computed = iteratee(array[mid]),\n        othIsDefined = computed !== undefined,\n        othIsNull = computed === null,\n        othIsReflexive = computed === computed,\n        othIsSymbol = isSymbol(computed);\n\n    if (valIsNaN) {\n      var setLow = retHighest || othIsReflexive;\n    } else if (valIsUndefined) {\n      setLow = othIsReflexive && (retHighest || othIsDefined);\n    } else if (valIsNull) {\n      setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n    } else if (valIsSymbol) {\n      setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n    } else if (othIsNull || othIsSymbol) {\n      setLow = false;\n    } else {\n      setLow = retHighest ? (computed <= value) : (computed < value);\n    }\n    if (setLow) {\n      low = mid + 1;\n    } else {\n      high = mid;\n    }\n  }\n  return nativeMin(high, MAX_ARRAY_INDEX);\n}\n\nexport default baseSortedIndexBy;\n","import baseSortedIndexBy from './_baseSortedIndexBy.js';\nimport identity from './identity.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295,\n    HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n/**\n * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n * performs a binary search of `array` to determine the index at which `value`\n * should be inserted into `array` in order to maintain its sort order.\n *\n * @private\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {boolean} [retHighest] Specify returning the highest qualified index.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n */\nfunction baseSortedIndex(array, value, retHighest) {\n  var low = 0,\n      high = array ? array.length : low;\n\n  if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n    while (low < high) {\n      var mid = (low + high) >>> 1,\n          computed = array[mid];\n\n      if (computed !== null && !isSymbol(computed) &&\n          (retHighest ? (computed <= value) : (computed < value))) {\n        low = mid + 1;\n      } else {\n        high = mid;\n      }\n    }\n    return high;\n  }\n  return baseSortedIndexBy(array, value, identity, retHighest);\n}\n\nexport default baseSortedIndex;\n","import baseSortedIndex from './_baseSortedIndex.js';\n\n/**\n * Uses a binary search to determine the lowest index at which `value`\n * should be inserted into `array` in order to maintain its sort order.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n * @example\n *\n * _.sortedIndex([30, 50], 40);\n * // => 1\n */\nfunction sortedIndex(array, value) {\n  return baseSortedIndex(array, value);\n}\n\nexport default sortedIndex;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSortedIndexBy from './_baseSortedIndexBy.js';\n\n/**\n * This method is like `_.sortedIndex` except that it accepts `iteratee`\n * which is invoked for `value` and each element of `array` to compute their\n * sort ranking. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n * @example\n *\n * var objects = [{ 'x': 4 }, { 'x': 5 }];\n *\n * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n * // => 0\n *\n * // The `_.property` iteratee shorthand.\n * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n * // => 0\n */\nfunction sortedIndexBy(array, value, iteratee) {\n  return baseSortedIndexBy(array, value, baseIteratee(iteratee));\n}\n\nexport default sortedIndexBy;\n","import baseSortedIndex from './_baseSortedIndex.js';\nimport eq from './eq.js';\n\n/**\n * This method is like `_.indexOf` except that it performs a binary\n * search on a sorted `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n * // => 1\n */\nfunction sortedIndexOf(array, value) {\n  var length = array ? array.length : 0;\n  if (length) {\n    var index = baseSortedIndex(array, value);\n    if (index < length && eq(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default sortedIndexOf;\n","import baseSortedIndex from './_baseSortedIndex.js';\n\n/**\n * This method is like `_.sortedIndex` except that it returns the highest\n * index at which `value` should be inserted into `array` in order to\n * maintain its sort order.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n * @example\n *\n * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n * // => 4\n */\nfunction sortedLastIndex(array, value) {\n  return baseSortedIndex(array, value, true);\n}\n\nexport default sortedLastIndex;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSortedIndexBy from './_baseSortedIndexBy.js';\n\n/**\n * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n * which is invoked for `value` and each element of `array` to compute their\n * sort ranking. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The sorted array to inspect.\n * @param {*} value The value to evaluate.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {number} Returns the index at which `value` should be inserted\n *  into `array`.\n * @example\n *\n * var objects = [{ 'x': 4 }, { 'x': 5 }];\n *\n * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n * // => 1\n *\n * // The `_.property` iteratee shorthand.\n * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n * // => 1\n */\nfunction sortedLastIndexBy(array, value, iteratee) {\n  return baseSortedIndexBy(array, value, baseIteratee(iteratee), true);\n}\n\nexport default sortedLastIndexBy;\n","import baseSortedIndex from './_baseSortedIndex.js';\nimport eq from './eq.js';\n\n/**\n * This method is like `_.lastIndexOf` except that it performs a binary\n * search on a sorted `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to search.\n * @param {*} value The value to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n * @example\n *\n * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n * // => 3\n */\nfunction sortedLastIndexOf(array, value) {\n  var length = array ? array.length : 0;\n  if (length) {\n    var index = baseSortedIndex(array, value, true) - 1;\n    if (eq(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nexport default sortedLastIndexOf;\n","import eq from './eq.js';\n\n/**\n * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseSortedUniq(array, iteratee) {\n  var index = -1,\n      length = array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    if (!index || !eq(computed, seen)) {\n      var seen = computed;\n      result[resIndex++] = value === 0 ? 0 : value;\n    }\n  }\n  return result;\n}\n\nexport default baseSortedUniq;\n","import baseSortedUniq from './_baseSortedUniq.js';\n\n/**\n * This method is like `_.uniq` except that it's designed and optimized\n * for sorted arrays.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.sortedUniq([1, 1, 2]);\n * // => [1, 2]\n */\nfunction sortedUniq(array) {\n  return (array && array.length)\n    ? baseSortedUniq(array)\n    : [];\n}\n\nexport default sortedUniq;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSortedUniq from './_baseSortedUniq.js';\n\n/**\n * This method is like `_.uniqBy` except that it's designed and optimized\n * for sorted arrays.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n * // => [1.1, 2.3]\n */\nfunction sortedUniqBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSortedUniq(array, baseIteratee(iteratee))\n    : [];\n}\n\nexport default sortedUniqBy;\n","import baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport isRegExp from './isRegExp.js';\nimport reHasComplexSymbol from './_reHasComplexSymbol.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/** Used for built-in method references. */\nvar stringProto = String.prototype;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeSplit = stringProto.split;\n\n/**\n * Splits `string` by `separator`.\n *\n * **Note:** This method is based on\n * [`String#split`](https://mdn.io/String/split).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to split.\n * @param {RegExp|string} separator The separator pattern to split by.\n * @param {number} [limit] The length to truncate results to.\n * @returns {Array} Returns the string segments.\n * @example\n *\n * _.split('a-b-c', '-', 2);\n * // => ['a', 'b']\n */\nfunction split(string, separator, limit) {\n  if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n    separator = limit = undefined;\n  }\n  limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n  if (!limit) {\n    return [];\n  }\n  string = toString(string);\n  if (string && (\n        typeof separator == 'string' ||\n        (separator != null && !isRegExp(separator))\n      )) {\n    separator = baseToString(separator);\n    if (separator == '' && reHasComplexSymbol.test(string)) {\n      return castSlice(stringToArray(string), 0, limit);\n    }\n  }\n  return nativeSplit.call(string, separator, limit);\n}\n\nexport default split;\n","import apply from './_apply.js';\nimport arrayPush from './_arrayPush.js';\nimport castSlice from './_castSlice.js';\nimport rest from './rest.js';\nimport toInteger from './toInteger.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that invokes `func` with the `this` binding of the\n * create function and an array of arguments much like\n * [`Function#apply`](http://www.ecma-international.org/ecma-262/6.0/#sec-function.prototype.apply).\n *\n * **Note:** This method is based on the\n * [spread operator](https://mdn.io/spread_operator).\n *\n * @static\n * @memberOf _\n * @since 3.2.0\n * @category Function\n * @param {Function} func The function to spread arguments over.\n * @param {number} [start=0] The start position of the spread.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var say = _.spread(function(who, what) {\n *   return who + ' says ' + what;\n * });\n *\n * say(['fred', 'hello']);\n * // => 'fred says hello'\n *\n * var numbers = Promise.all([\n *   Promise.resolve(40),\n *   Promise.resolve(36)\n * ]);\n *\n * numbers.then(_.spread(function(x, y) {\n *   return x + y;\n * }));\n * // => a Promise of 76\n */\nfunction spread(func, start) {\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  start = start === undefined ? 0 : nativeMax(toInteger(start), 0);\n  return rest(function(args) {\n    var array = args[start],\n        otherArgs = castSlice(args, 0, start);\n\n    if (array) {\n      arrayPush(otherArgs, array);\n    }\n    return apply(func, this, otherArgs);\n  });\n}\n\nexport default spread;\n","import createCompounder from './_createCompounder.js';\nimport upperFirst from './upperFirst.js';\n\n/**\n * Converts `string` to\n * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n *\n * @static\n * @memberOf _\n * @since 3.1.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the start cased string.\n * @example\n *\n * _.startCase('--foo-bar--');\n * // => 'Foo Bar'\n *\n * _.startCase('fooBar');\n * // => 'Foo Bar'\n *\n * _.startCase('__FOO_BAR__');\n * // => 'FOO BAR'\n */\nvar startCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + upperFirst(word);\n});\n\nexport default startCase;\n","import baseClamp from './_baseClamp.js';\nimport baseToString from './_baseToString.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to search.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = baseClamp(toInteger(position), 0, string.length);\n  return string.lastIndexOf(baseToString(target), position) == position;\n}\n\nexport default startsWith;\n","/**\n * A method that returns a new empty object.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Object} Returns the new empty object.\n * @example\n *\n * var objects = _.times(2, _.stubObject);\n *\n * console.log(objects);\n * // => [{}, {}]\n *\n * console.log(objects[0] === objects[1]);\n * // => false\n */\nfunction stubObject() {\n  return {};\n}\n\nexport default stubObject;\n","/**\n * A method that returns an empty string.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {string} Returns the empty string.\n * @example\n *\n * _.times(2, _.stubString);\n * // => ['', '']\n */\nfunction stubString() {\n  return '';\n}\n\nexport default stubString;\n","/**\n * A method that returns `true`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `true`.\n * @example\n *\n * _.times(2, _.stubTrue);\n * // => [true, true]\n */\nfunction stubTrue() {\n  return true;\n}\n\nexport default stubTrue;\n","import createMathOperation from './_createMathOperation.js';\n\n/**\n * Subtract two numbers.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {number} minuend The first number in a subtraction.\n * @param {number} subtrahend The second number in a subtraction.\n * @returns {number} Returns the difference.\n * @example\n *\n * _.subtract(6, 4);\n * // => 2\n */\nvar subtract = createMathOperation(function(minuend, subtrahend) {\n  return minuend - subtrahend;\n});\n\nexport default subtract;\n","import baseSum from './_baseSum.js';\nimport identity from './identity.js';\n\n/**\n * Computes the sum of the values in `array`.\n *\n * @static\n * @memberOf _\n * @since 3.4.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @returns {number} Returns the sum.\n * @example\n *\n * _.sum([4, 2, 8, 6]);\n * // => 20\n */\nfunction sum(array) {\n  return (array && array.length)\n    ? baseSum(array, identity)\n    : 0;\n}\n\nexport default sum;\n","import baseIteratee from './_baseIteratee.js';\nimport baseSum from './_baseSum.js';\n\n/**\n * This method is like `_.sum` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the value to be summed.\n * The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {number} Returns the sum.\n * @example\n *\n * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n *\n * _.sumBy(objects, function(o) { return o.n; });\n * // => 20\n *\n * // The `_.property` iteratee shorthand.\n * _.sumBy(objects, 'n');\n * // => 20\n */\nfunction sumBy(array, iteratee) {\n  return (array && array.length)\n    ? baseSum(array, baseIteratee(iteratee))\n    : 0;\n}\n\nexport default sumBy;\n","import drop from './drop.js';\n\n/**\n * Gets all but the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.tail([1, 2, 3]);\n * // => [2, 3]\n */\nfunction tail(array) {\n  return drop(array, 1);\n}\n\nexport default tail;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements taken from the beginning.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.take([1, 2, 3]);\n * // => [1]\n *\n * _.take([1, 2, 3], 2);\n * // => [1, 2]\n *\n * _.take([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.take([1, 2, 3], 0);\n * // => []\n */\nfunction take(array, n, guard) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  return baseSlice(array, 0, n < 0 ? 0 : n);\n}\n\nexport default take;\n","import baseSlice from './_baseSlice.js';\nimport toInteger from './toInteger.js';\n\n/**\n * Creates a slice of `array` with `n` elements taken from the end.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {number} [n=1] The number of elements to take.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * _.takeRight([1, 2, 3]);\n * // => [3]\n *\n * _.takeRight([1, 2, 3], 2);\n * // => [2, 3]\n *\n * _.takeRight([1, 2, 3], 5);\n * // => [1, 2, 3]\n *\n * _.takeRight([1, 2, 3], 0);\n * // => []\n */\nfunction takeRight(array, n, guard) {\n  var length = array ? array.length : 0;\n  if (!length) {\n    return [];\n  }\n  n = (guard || n === undefined) ? 1 : toInteger(n);\n  n = length - n;\n  return baseSlice(array, n < 0 ? 0 : n, length);\n}\n\nexport default takeRight;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` with elements taken from the end. Elements are\n * taken until `predicate` returns falsey. The predicate is invoked with\n * three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': true },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': false }\n * ];\n *\n * _.takeRightWhile(users, function(o) { return !o.active; });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n * // => objects for ['pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.takeRightWhile(users, ['active', false]);\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.takeRightWhile(users, 'active');\n * // => []\n */\nfunction takeRightWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), false, true)\n    : [];\n}\n\nexport default takeRightWhile;\n","import baseIteratee from './_baseIteratee.js';\nimport baseWhile from './_baseWhile.js';\n\n/**\n * Creates a slice of `array` with elements taken from the beginning. Elements\n * are taken until `predicate` returns falsey. The predicate is invoked with\n * three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Array|Function|Object|string} [predicate=_.identity]\n *  The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false},\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.takeWhile(users, function(o) { return !o.active; });\n * // => objects for ['barney', 'fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.takeWhile(users, { 'user': 'barney', 'active': false });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.takeWhile(users, ['active', false]);\n * // => objects for ['barney', 'fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.takeWhile(users, 'active');\n * // => []\n */\nfunction takeWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3))\n    : [];\n}\n\nexport default takeWhile;\n","/**\n * This method invokes `interceptor` and returns `value`. The interceptor\n * is invoked with one argument; (value). The purpose of this method is to\n * \"tap into\" a method chain sequence in order to modify intermediate results.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Seq\n * @param {*} value The value to provide to `interceptor`.\n * @param {Function} interceptor The function to invoke.\n * @returns {*} Returns `value`.\n * @example\n *\n * _([1, 2, 3])\n *  .tap(function(array) {\n *    // Mutate input array.\n *    array.pop();\n *  })\n *  .reverse()\n *  .value();\n * // => [2, 1]\n */\nfunction tap(value, interceptor) {\n  interceptor(value);\n  return value;\n}\n\nexport default tap;\n","/** Used to escape characters for inclusion in compiled string literals. */\nvar stringEscapes = {\n  '\\\\': '\\\\',\n  \"'\": \"'\",\n  '\\n': 'n',\n  '\\r': 'r',\n  '\\u2028': 'u2028',\n  '\\u2029': 'u2029'\n};\n\n/**\n * Used by `_.template` to escape characters for inclusion in compiled string literals.\n *\n * @private\n * @param {string} chr The matched character to escape.\n * @returns {string} Returns the escaped character.\n */\nfunction escapeStringChar(chr) {\n  return '\\\\' + stringEscapes[chr];\n}\n\nexport default escapeStringChar;\n","/** Used to match template delimiters. */\nvar reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\nexport default reInterpolate;\n","/** Used to match template delimiters. */\nvar reEscape = /<%-([\\s\\S]+?)%>/g;\n\nexport default reEscape;\n","/** Used to match template delimiters. */\nvar reEvaluate = /<%([\\s\\S]+?)%>/g;\n\nexport default reEvaluate;\n","import escape from './escape.js';\nimport reEscape from './_reEscape.js';\nimport reEvaluate from './_reEvaluate.js';\nimport reInterpolate from './_reInterpolate.js';\n\n/**\n * By default, the template delimiters used by lodash are like those in\n * embedded Ruby (ERB). Change the following template settings to use\n * alternative delimiters.\n *\n * @static\n * @memberOf _\n * @type {Object}\n */\nvar templateSettings = {\n\n  /**\n   * Used to detect `data` property values to be HTML-escaped.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'escape': reEscape,\n\n  /**\n   * Used to detect code to be evaluated.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'evaluate': reEvaluate,\n\n  /**\n   * Used to detect `data` property values to inject.\n   *\n   * @memberOf _.templateSettings\n   * @type {RegExp}\n   */\n  'interpolate': reInterpolate,\n\n  /**\n   * Used to reference the data object in the template text.\n   *\n   * @memberOf _.templateSettings\n   * @type {string}\n   */\n  'variable': '',\n\n  /**\n   * Used to import variables into the compiled template.\n   *\n   * @memberOf _.templateSettings\n   * @type {Object}\n   */\n  'imports': {\n\n    /**\n     * A reference to the `lodash` function.\n     *\n     * @memberOf _.templateSettings.imports\n     * @type {Function}\n     */\n    '_': { 'escape': escape }\n  }\n};\n\nexport default templateSettings;\n","import assignInDefaults from './_assignInDefaults.js';\nimport assignInWith from './assignInWith.js';\nimport attempt from './attempt.js';\nimport baseValues from './_baseValues.js';\nimport escapeStringChar from './_escapeStringChar.js';\nimport isError from './isError.js';\nimport isIterateeCall from './_isIterateeCall.js';\nimport keys from './keys.js';\nimport reInterpolate from './_reInterpolate.js';\nimport templateSettings from './templateSettings.js';\nimport toString from './toString.js';\n\n/** Used to match empty string literals in compiled template source. */\nvar reEmptyStringLeading = /\\b__p \\+= '';/g,\n    reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n    reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n/**\n * Used to match\n * [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components).\n */\nvar reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n/** Used to ensure capturing order of template delimiters. */\nvar reNoMatch = /($^)/;\n\n/** Used to match unescaped characters in compiled string literals. */\nvar reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n/**\n * Creates a compiled template function that can interpolate data properties\n * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n * properties may be accessed as free variables in the template. If a setting\n * object is given, it takes precedence over `_.templateSettings` values.\n *\n * **Note:** In the development build `_.template` utilizes\n * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n * for easier debugging.\n *\n * For more information on precompiling templates see\n * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n *\n * For more information on Chrome extension sandboxes see\n * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category String\n * @param {string} [string=''] The template string.\n * @param {Object} [options={}] The options object.\n * @param {RegExp} [options.escape=_.templateSettings.escape]\n *  The HTML \"escape\" delimiter.\n * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n *  The \"evaluate\" delimiter.\n * @param {Object} [options.imports=_.templateSettings.imports]\n *  An object to import into the template as free variables.\n * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n *  The \"interpolate\" delimiter.\n * @param {string} [options.sourceURL='templateSources[n]']\n *  The sourceURL of the compiled template.\n * @param {string} [options.variable='obj']\n *  The data object variable name.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the compiled template function.\n * @example\n *\n * // Use the \"interpolate\" delimiter to create a compiled template.\n * var compiled = _.template('hello <%= user %>!');\n * compiled({ 'user': 'fred' });\n * // => 'hello fred!'\n *\n * // Use the HTML \"escape\" delimiter to escape data property values.\n * var compiled = _.template('<b><%- value %></b>');\n * compiled({ 'value': '<script>' });\n * // => '<b>&lt;script&gt;</b>'\n *\n * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the internal `print` function in \"evaluate\" delimiters.\n * var compiled = _.template('<% print(\"hello \" + user); %>!');\n * compiled({ 'user': 'barney' });\n * // => 'hello barney!'\n *\n * // Use the ES delimiter as an alternative to the default \"interpolate\" delimiter.\n * var compiled = _.template('hello ${ user }!');\n * compiled({ 'user': 'pebbles' });\n * // => 'hello pebbles!'\n *\n * // Use backslashes to treat delimiters as plain text.\n * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n * compiled({ 'value': 'ignored' });\n * // => '<%- value %>'\n *\n * // Use the `imports` option to import `jQuery` as `jq`.\n * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n * compiled({ 'users': ['fred', 'barney'] });\n * // => '<li>fred</li><li>barney</li>'\n *\n * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n * compiled(data);\n * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n *\n * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n * compiled.source;\n * // => function(data) {\n * //   var __t, __p = '';\n * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n * //   return __p;\n * // }\n *\n * // Use custom template delimiters.\n * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n * var compiled = _.template('hello {{ user }}!');\n * compiled({ 'user': 'mustache' });\n * // => 'hello mustache!'\n *\n * // Use the `source` property to inline compiled templates for meaningful\n * // line numbers in error messages and stack traces.\n * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n *   var JST = {\\\n *     \"main\": ' + _.template(mainText).source + '\\\n *   };\\\n * ');\n */\nfunction template(string, options, guard) {\n  // Based on John Resig's `tmpl` implementation\n  // (http://ejohn.org/blog/javascript-micro-templating/)\n  // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n  var settings = templateSettings.imports._.templateSettings || templateSettings;\n\n  if (guard && isIterateeCall(string, options, guard)) {\n    options = undefined;\n  }\n  string = toString(string);\n  options = assignInWith({}, options, settings, assignInDefaults);\n\n  var imports = assignInWith({}, options.imports, settings.imports, assignInDefaults),\n      importsKeys = keys(imports),\n      importsValues = baseValues(imports, importsKeys);\n\n  var isEscaping,\n      isEvaluating,\n      index = 0,\n      interpolate = options.interpolate || reNoMatch,\n      source = \"__p += '\";\n\n  // Compile the regexp to match each delimiter.\n  var reDelimiters = RegExp(\n    (options.escape || reNoMatch).source + '|' +\n    interpolate.source + '|' +\n    (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n    (options.evaluate || reNoMatch).source + '|$'\n  , 'g');\n\n  // Use a sourceURL for easier debugging.\n  var sourceURL = 'sourceURL' in options ? '//# sourceURL=' + options.sourceURL + '\\n' : '';\n\n  string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n    interpolateValue || (interpolateValue = esTemplateValue);\n\n    // Escape characters that can't be included in string literals.\n    source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n    // Replace delimiters with snippets.\n    if (escapeValue) {\n      isEscaping = true;\n      source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n    }\n    if (evaluateValue) {\n      isEvaluating = true;\n      source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n    }\n    if (interpolateValue) {\n      source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n    }\n    index = offset + match.length;\n\n    // The JS engine embedded in Adobe products needs `match` returned in\n    // order to produce the correct `offset` value.\n    return match;\n  });\n\n  source += \"';\\n\";\n\n  // If `variable` is not specified wrap a with-statement around the generated\n  // code to add the data object to the top of the scope chain.\n  var variable = options.variable;\n  if (!variable) {\n    source = 'with (obj) {\\n' + source + '\\n}\\n';\n  }\n  // Cleanup code by stripping empty strings.\n  source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n    .replace(reEmptyStringMiddle, '$1')\n    .replace(reEmptyStringTrailing, '$1;');\n\n  // Frame code as the function body.\n  source = 'function(' + (variable || 'obj') + ') {\\n' +\n    (variable\n      ? ''\n      : 'obj || (obj = {});\\n'\n    ) +\n    \"var __t, __p = ''\" +\n    (isEscaping\n       ? ', __e = _.escape'\n       : ''\n    ) +\n    (isEvaluating\n      ? ', __j = Array.prototype.join;\\n' +\n        \"function print() { __p += __j.call(arguments, '') }\\n\"\n      : ';\\n'\n    ) +\n    source +\n    'return __p\\n}';\n\n  var result = attempt(function() {\n    return Function(importsKeys, sourceURL + 'return ' + source)\n      .apply(undefined, importsValues);\n  });\n\n  // Provide the compiled function's source by its `toString` method or\n  // the `source` property as a convenience for inlining compiled templates.\n  result.source = source;\n  if (isError(result)) {\n    throw result;\n  }\n  return result;\n}\n\nexport default template;\n","import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide an options object to indicate whether\n * `func` should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n","/**\n * This method is like `_.tap` except that it returns the result of `interceptor`.\n * The purpose of this method is to \"pass thru\" values replacing intermediate\n * results in a method chain sequence.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Seq\n * @param {*} value The value to provide to `interceptor`.\n * @param {Function} interceptor The function to invoke.\n * @returns {*} Returns the result of `interceptor`.\n * @example\n *\n * _('  abc  ')\n *  .chain()\n *  .trim()\n *  .thru(function(value) {\n *    return [value];\n *  })\n *  .value();\n * // => ['abc']\n */\nfunction thru(value, interceptor) {\n  return interceptor(value);\n}\n\nexport default thru;\n","import baseIteratee from './_baseIteratee.js';\nimport baseTimes from './_baseTimes.js';\nimport toInteger from './toInteger.js';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Invokes the iteratee `n` times, returning an array of the results of\n * each invocation. The iteratee is invoked with one argument; (index).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n * @example\n *\n * _.times(3, String);\n * // => ['0', '1', '2']\n *\n *  _.times(4, _.constant(0));\n * // => [0, 0, 0, 0]\n */\nfunction times(n, iteratee) {\n  n = toInteger(n);\n  if (n < 1 || n > MAX_SAFE_INTEGER) {\n    return [];\n  }\n  var index = MAX_ARRAY_LENGTH,\n      length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n  iteratee = baseIteratee(iteratee);\n  n -= MAX_ARRAY_LENGTH;\n\n  var result = baseTimes(length, iteratee);\n  while (++index < n) {\n    iteratee(index);\n  }\n  return result;\n}\n\nexport default times;\n","/**\n * Enables the wrapper to be iterable.\n *\n * @name Symbol.iterator\n * @memberOf _\n * @since 4.0.0\n * @category Seq\n * @returns {Object} Returns the wrapper object.\n * @example\n *\n * var wrapped = _([1, 2]);\n *\n * wrapped[Symbol.iterator]() === wrapped;\n * // => true\n *\n * Array.from(wrapped);\n * // => [1, 2]\n */\nfunction wrapperToIterator() {\n  return this;\n}\n\nexport default wrapperToIterator;\n","import LazyWrapper from './_LazyWrapper.js';\nimport arrayPush from './_arrayPush.js';\nimport arrayReduce from './_arrayReduce.js';\n\n/**\n * The base implementation of `wrapperValue` which returns the result of\n * performing a sequence of actions on the unwrapped `value`, where each\n * successive action is supplied the return value of the previous.\n *\n * @private\n * @param {*} value The unwrapped value.\n * @param {Array} actions Actions to perform to resolve the unwrapped value.\n * @returns {*} Returns the resolved value.\n */\nfunction baseWrapperValue(value, actions) {\n  var result = value;\n  if (result instanceof LazyWrapper) {\n    result = result.value();\n  }\n  return arrayReduce(actions, function(result, action) {\n    return action.func.apply(action.thisArg, arrayPush([result], action.args));\n  }, result);\n}\n\nexport default baseWrapperValue;\n","import baseWrapperValue from './_baseWrapperValue.js';\n\n/**\n * Executes the chain sequence to resolve the unwrapped value.\n *\n * @name value\n * @memberOf _\n * @since 0.1.0\n * @alias toJSON, valueOf\n * @category Seq\n * @returns {*} Returns the resolved unwrapped value.\n * @example\n *\n * _([1, 2, 3]).value();\n * // => [1, 2, 3]\n */\nfunction wrapperValue() {\n  return baseWrapperValue(this.__wrapped__, this.__actions__);\n}\n\nexport default wrapperValue;\n","import toString from './toString.js';\n\n/**\n * Converts `string`, as a whole, to lower case just like\n * [String#toLowerCase](https://mdn.io/toLowerCase).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the lower cased string.\n * @example\n *\n * _.toLower('--Foo-Bar--');\n * // => '--foo-bar--'\n *\n * _.toLower('fooBar');\n * // => 'foobar'\n *\n * _.toLower('__FOO_BAR__');\n * // => '__foo_bar__'\n */\nfunction toLower(value) {\n  return toString(value).toLowerCase();\n}\n\nexport default toLower;\n","import arrayMap from './_arrayMap.js';\nimport copyArray from './_copyArray.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\nimport stringToPath from './_stringToPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(value));\n}\n\nexport default toPath;\n","import baseClamp from './_baseClamp.js';\nimport toInteger from './toInteger.js';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Converts `value` to a safe integer. A safe integer can be compared and\n * represented correctly.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toSafeInteger(3.2);\n * // => 3\n *\n * _.toSafeInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toSafeInteger(Infinity);\n * // => 9007199254740991\n *\n * _.toSafeInteger('3.2');\n * // => 3\n */\nfunction toSafeInteger(value) {\n  return baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\n}\n\nexport default toSafeInteger;\n","import toString from './toString.js';\n\n/**\n * Converts `string`, as a whole, to upper case just like\n * [String#toUpperCase](https://mdn.io/toUpperCase).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the upper cased string.\n * @example\n *\n * _.toUpper('--foo-bar--');\n * // => '--FOO-BAR--'\n *\n * _.toUpper('fooBar');\n * // => 'FOOBAR'\n *\n * _.toUpper('__foo_bar__');\n * // => '__FOO_BAR__'\n */\nfunction toUpper(value) {\n  return toString(value).toUpperCase();\n}\n\nexport default toUpper;\n","import arrayEach from './_arrayEach.js';\nimport baseCreate from './_baseCreate.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseIteratee from './_baseIteratee.js';\nimport getPrototype from './_getPrototype.js';\nimport isArray from './isArray.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isTypedArray from './isTypedArray.js';\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object) || isTypedArray(object);\n  iteratee = baseIteratee(iteratee, 4);\n\n  if (accumulator == null) {\n    if (isArr || isObject(object)) {\n      var Ctor = object.constructor;\n      if (isArr) {\n        accumulator = isArray(object) ? new Ctor : [];\n      } else {\n        accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n      }\n    } else {\n      accumulator = {};\n    }\n  }\n  (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nexport default transform;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nexport default charsEndIndex;\n","import baseIndexOf from './_baseIndexOf.js';\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nexport default charsStartIndex;\n","import baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport charsEndIndex from './_charsEndIndex.js';\nimport charsStartIndex from './_charsStartIndex.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nexport default trim;\n","import baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport charsEndIndex from './_charsEndIndex.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrimEnd = /\\s+$/;\n\n/**\n * Removes trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trimEnd('  abc  ');\n * // => '  abc'\n *\n * _.trimEnd('-_-abc-_-', '_-');\n * // => '-_-abc'\n */\nfunction trimEnd(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrimEnd, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n  return castSlice(strSymbols, 0, end).join('');\n}\n\nexport default trimEnd;\n","import baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport charsStartIndex from './_charsStartIndex.js';\nimport stringToArray from './_stringToArray.js';\nimport toString from './toString.js';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * Removes leading whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trimStart('  abc  ');\n * // => 'abc  '\n *\n * _.trimStart('-_-abc-_-', '_-');\n * // => 'abc-_-'\n */\nfunction trimStart(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrimStart, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      start = charsStartIndex(strSymbols, stringToArray(chars));\n\n  return castSlice(strSymbols, start).join('');\n}\n\nexport default trimStart;\n","import baseToString from './_baseToString.js';\nimport castSlice from './_castSlice.js';\nimport isObject from './isObject.js';\nimport isRegExp from './isRegExp.js';\nimport reHasComplexSymbol from './_reHasComplexSymbol.js';\nimport stringSize from './_stringSize.js';\nimport stringToArray from './_stringToArray.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/** Used as default options for `_.truncate`. */\nvar DEFAULT_TRUNC_LENGTH = 30,\n    DEFAULT_TRUNC_OMISSION = '...';\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Truncates `string` if it's longer than the given maximum string length.\n * The last characters of the truncated string are replaced with the omission\n * string which defaults to \"...\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to truncate.\n * @param {Object} [options={}] The options object.\n * @param {number} [options.length=30] The maximum string length.\n * @param {string} [options.omission='...'] The string to indicate text is omitted.\n * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n * @returns {string} Returns the truncated string.\n * @example\n *\n * _.truncate('hi-diddly-ho there, neighborino');\n * // => 'hi-diddly-ho there, neighbo...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'length': 24,\n *   'separator': ' '\n * });\n * // => 'hi-diddly-ho there,...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'length': 24,\n *   'separator': /,? +/\n * });\n * // => 'hi-diddly-ho there...'\n *\n * _.truncate('hi-diddly-ho there, neighborino', {\n *   'omission': ' [...]'\n * });\n * // => 'hi-diddly-ho there, neig [...]'\n */\nfunction truncate(string, options) {\n  var length = DEFAULT_TRUNC_LENGTH,\n      omission = DEFAULT_TRUNC_OMISSION;\n\n  if (isObject(options)) {\n    var separator = 'separator' in options ? options.separator : separator;\n    length = 'length' in options ? toInteger(options.length) : length;\n    omission = 'omission' in options ? baseToString(options.omission) : omission;\n  }\n  string = toString(string);\n\n  var strLength = string.length;\n  if (reHasComplexSymbol.test(string)) {\n    var strSymbols = stringToArray(string);\n    strLength = strSymbols.length;\n  }\n  if (length >= strLength) {\n    return string;\n  }\n  var end = length - stringSize(omission);\n  if (end < 1) {\n    return omission;\n  }\n  var result = strSymbols\n    ? castSlice(strSymbols, 0, end).join('')\n    : string.slice(0, end);\n\n  if (separator === undefined) {\n    return result + omission;\n  }\n  if (strSymbols) {\n    end += (result.length - end);\n  }\n  if (isRegExp(separator)) {\n    if (string.slice(end).search(separator)) {\n      var match,\n          substring = result;\n\n      if (!separator.global) {\n        separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n      }\n      separator.lastIndex = 0;\n      while ((match = separator.exec(substring))) {\n        var newEnd = match.index;\n      }\n      result = result.slice(0, newEnd === undefined ? end : newEnd);\n    }\n  } else if (string.indexOf(baseToString(separator), end) != end) {\n    var index = result.lastIndexOf(separator);\n    if (index > -1) {\n      result = result.slice(0, index);\n    }\n  }\n  return result + omission;\n}\n\nexport default truncate;\n","import ary from './ary.js';\n\n/**\n * Creates a function that accepts up to one argument, ignoring any\n * additional arguments.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.unary(parseInt));\n * // => [6, 8, 10]\n */\nfunction unary(func) {\n  return ary(func, 1);\n}\n\nexport default unary;\n","/** Used to map HTML entities to characters. */\nvar htmlUnescapes = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\",\n  '&#96;': '`'\n};\n\n/**\n * Used by `_.unescape` to convert HTML entities to characters.\n *\n * @private\n * @param {string} chr The matched character to unescape.\n * @returns {string} Returns the unescaped character.\n */\nfunction unescapeHtmlChar(chr) {\n  return htmlUnescapes[chr];\n}\n\nexport default unescapeHtmlChar;\n","import toString from './toString.js';\nimport unescapeHtmlChar from './_unescapeHtmlChar.js';\n\n/** Used to match HTML entities and HTML characters. */\nvar reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\n    reHasEscapedHtml = RegExp(reEscapedHtml.source);\n\n/**\n * The inverse of `_.escape`; this method converts the HTML entities\n * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to\n * their corresponding characters.\n *\n * **Note:** No other HTML entities are unescaped. To unescape additional\n * HTML entities use a third-party library like [_he_](https://mths.be/he).\n *\n * @static\n * @memberOf _\n * @since 0.6.0\n * @category String\n * @param {string} [string=''] The string to unescape.\n * @returns {string} Returns the unescaped string.\n * @example\n *\n * _.unescape('fred, barney, &amp; pebbles');\n * // => 'fred, barney, & pebbles'\n */\nfunction unescape(string) {\n  string = toString(string);\n  return (string && reHasEscapedHtml.test(string))\n    ? string.replace(reEscapedHtml, unescapeHtmlChar)\n    : string;\n}\n\nexport default unescape;\n","import Set from './_Set.js';\nimport noop from './noop.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nexport default createSet;\n","import SetCache from './_SetCache.js';\nimport arrayIncludes from './_arrayIncludes.js';\nimport arrayIncludesWith from './_arrayIncludesWith.js';\nimport cacheHas from './_cacheHas.js';\nimport createSet from './_createSet.js';\nimport setToArray from './_setToArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nexport default baseUniq;\n","import baseFlatten from './_baseFlatten.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = rest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nexport default union;\n","import baseFlatten from './_baseFlatten.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.union` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which uniqueness is computed. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nvar unionBy = rest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), baseIteratee(iteratee));\n});\n\nexport default unionBy;\n","import baseFlatten from './_baseFlatten.js';\nimport baseUniq from './_baseUniq.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.union` except that it accepts `comparator` which\n * is invoked to compare elements of `arrays`. The comparator is invoked\n * with two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.unionWith(objects, others, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n */\nvar unionWith = rest(function(arrays) {\n  var comparator = last(arrays);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n});\n\nexport default unionWith;\n","import baseUniq from './_baseUniq.js';\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each\n * element is kept.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length)\n    ? baseUniq(array)\n    : [];\n}\n\nexport default uniq;\n","import baseIteratee from './_baseIteratee.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length)\n    ? baseUniq(array, baseIteratee(iteratee))\n    : [];\n}\n\nexport default uniqBy;\n","import baseUniq from './_baseUniq.js';\n\n/**\n * This method is like `_.uniq` except that it accepts `comparator` which\n * is invoked to compare elements of `array`. The comparator is invoked with\n * two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.uniqWith(objects, _.isEqual);\n * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n */\nfunction uniqWith(array, comparator) {\n  return (array && array.length)\n    ? baseUniq(array, undefined, comparator)\n    : [];\n}\n\nexport default uniqWith;\n","import toString from './toString.js';\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nexport default uniqueId;\n","import baseHas from './_baseHas.js';\nimport castPath from './_castPath.js';\nimport isKey from './_isKey.js';\nimport last from './last.js';\nimport parent from './_parent.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n  object = parent(object, path);\n\n  var key = toKey(last(path));\n  return !(object != null && baseHas(object, key)) || delete object[key];\n}\n\nexport default baseUnset;\n","import baseUnset from './_baseUnset.js';\n\n/**\n * Removes the property at `path` of `object`.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n * _.unset(object, 'a[0].b.c');\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n *\n * _.unset(object, ['a', '0', 'b', 'c']);\n * // => true\n *\n * console.log(object);\n * // => { 'a': [{ 'b': {} }] };\n */\nfunction unset(object, path) {\n  return object == null ? true : baseUnset(object, path);\n}\n\nexport default unset;\n","import arrayFilter from './_arrayFilter.js';\nimport arrayMap from './_arrayMap.js';\nimport baseProperty from './_baseProperty.js';\nimport baseTimes from './_baseTimes.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\n * // => [['fred', 30, true], ['barney', 40, false]]\n *\n * _.unzip(zipped);\n * // => [['fred', 'barney'], [30, 40], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nexport default unzip;\n","import apply from './_apply.js';\nimport arrayMap from './_arrayMap.js';\nimport unzip from './unzip.js';\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nexport default unzipWith;\n","import baseGet from './_baseGet.js';\nimport baseSet from './_baseSet.js';\n\n/**\n * The base implementation of `_.update`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to update.\n * @param {Function} updater The function to produce the updated value.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseUpdate(object, path, updater, customizer) {\n  return baseSet(object, path, updater(baseGet(object, path)), customizer);\n}\n\nexport default baseUpdate;\n","import identity from './identity.js';\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nexport default castFunction;\n","import baseUpdate from './_baseUpdate.js';\nimport castFunction from './_castFunction.js';\n\n/**\n * This method is like `_.set` except that accepts `updater` to produce the\n * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n * is invoked with one argument: (value).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.6.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {Function} updater The function to produce the updated value.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n * console.log(object.a[0].b.c);\n * // => 9\n *\n * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n * console.log(object.x[0].y.z);\n * // => 0\n */\nfunction update(object, path, updater) {\n  return object == null ? object : baseUpdate(object, path, castFunction(updater));\n}\n\nexport default update;\n","import baseUpdate from './_baseUpdate.js';\nimport castFunction from './_castFunction.js';\n\n/**\n * This method is like `_.update` except that it accepts `customizer` which is\n * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n * path creation is handled by the method instead. The `customizer` is invoked\n * with three arguments: (nsValue, key, nsObject).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.6.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {Function} updater The function to produce the updated value.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {};\n *\n * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n * // => { '0': { '1': 'a' } }\n */\nfunction updateWith(object, path, updater, customizer) {\n  customizer = typeof customizer == 'function' ? customizer : undefined;\n  return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n}\n\nexport default updateWith;\n","import createCompounder from './_createCompounder.js';\n\n/**\n * Converts `string`, as space separated words, to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the upper cased string.\n * @example\n *\n * _.upperCase('--foo-bar');\n * // => 'FOO BAR'\n *\n * _.upperCase('fooBar');\n * // => 'FOO BAR'\n *\n * _.upperCase('__foo_bar__');\n * // => 'FOO BAR'\n */\nvar upperCase = createCompounder(function(result, word, index) {\n  return result + (index ? ' ' : '') + word.toUpperCase();\n});\n\nexport default upperCase;\n","import baseValues from './_baseValues.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Creates an array of the own and inherited enumerable string keyed property\n * values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.valuesIn(new Foo);\n * // => [1, 2, 3] (iteration order is not guaranteed)\n */\nfunction valuesIn(object) {\n  return object == null ? [] : baseValues(object, keysIn(object));\n}\n\nexport default valuesIn;\n","import baseDifference from './_baseDifference.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = rest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nexport default without;\n","import identity from './identity.js';\nimport partial from './partial.js';\n\n/**\n * Creates a function that provides `value` to the wrapper function as its\n * first argument. Any additional arguments provided to the function are\n * appended to those provided to the wrapper function. The wrapper is invoked\n * with the `this` binding of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {*} value The value to wrap.\n * @param {Function} [wrapper=identity] The wrapper function.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var p = _.wrap(_.escape, function(func, text) {\n *   return '<p>' + func(text) + '</p>';\n * });\n *\n * p('fred, barney, & pebbles');\n * // => '<p>fred, barney, &amp; pebbles</p>'\n */\nfunction wrap(value, wrapper) {\n  wrapper = wrapper == null ? identity : wrapper;\n  return partial(wrapper, value);\n}\n\nexport default wrap;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport baseAt from './_baseAt.js';\nimport baseFlatten from './_baseFlatten.js';\nimport isIndex from './_isIndex.js';\nimport rest from './rest.js';\nimport thru from './thru.js';\n\n/**\n * This method is the wrapper version of `_.at`.\n *\n * @name at\n * @memberOf _\n * @since 1.0.0\n * @category Seq\n * @param {...(string|string[])} [paths] The property paths of elements to pick.\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n *\n * _(object).at(['a[0].b.c', 'a[1]']).value();\n * // => [3, 4]\n */\nvar wrapperAt = rest(function(paths) {\n  paths = baseFlatten(paths, 1);\n  var length = paths.length,\n      start = length ? paths[0] : 0,\n      value = this.__wrapped__,\n      interceptor = function(object) { return baseAt(object, paths); };\n\n  if (length > 1 || this.__actions__.length ||\n      !(value instanceof LazyWrapper) || !isIndex(start)) {\n    return this.thru(interceptor);\n  }\n  value = value.slice(start, +start + (length ? 1 : 0));\n  value.__actions__.push({\n    'func': thru,\n    'args': [interceptor],\n    'thisArg': undefined\n  });\n  return new LodashWrapper(value, this.__chain__).thru(function(array) {\n    if (length && !array.length) {\n      array.push(undefined);\n    }\n    return array;\n  });\n});\n\nexport default wrapperAt;\n","import chain from './chain.js';\n\n/**\n * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n *\n * @name chain\n * @memberOf _\n * @since 0.1.0\n * @category Seq\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 }\n * ];\n *\n * // A sequence without explicit chaining.\n * _(users).head();\n * // => { 'user': 'barney', 'age': 36 }\n *\n * // A sequence with explicit chaining.\n * _(users)\n *   .chain()\n *   .head()\n *   .pick('user')\n *   .value();\n * // => { 'user': 'barney' }\n */\nfunction wrapperChain() {\n  return chain(this);\n}\n\nexport default wrapperChain;\n","import LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport reverse from './reverse.js';\nimport thru from './thru.js';\n\n/**\n * This method is the wrapper version of `_.reverse`.\n *\n * **Note:** This method mutates the wrapped array.\n *\n * @name reverse\n * @memberOf _\n * @since 0.1.0\n * @category Seq\n * @returns {Object} Returns the new `lodash` wrapper instance.\n * @example\n *\n * var array = [1, 2, 3];\n *\n * _(array).reverse().value()\n * // => [3, 2, 1]\n *\n * console.log(array);\n * // => [3, 2, 1]\n */\nfunction wrapperReverse() {\n  var value = this.__wrapped__;\n  if (value instanceof LazyWrapper) {\n    var wrapped = value;\n    if (this.__actions__.length) {\n      wrapped = new LazyWrapper(this);\n    }\n    wrapped = wrapped.reverse();\n    wrapped.__actions__.push({\n      'func': thru,\n      'args': [reverse],\n      'thisArg': undefined\n    });\n    return new LodashWrapper(wrapped, this.__chain__);\n  }\n  return this.thru(reverse);\n}\n\nexport default wrapperReverse;\n","import arrayPush from './_arrayPush.js';\nimport baseDifference from './_baseDifference.js';\nimport baseUniq from './_baseUniq.js';\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var index = -1,\n      length = arrays.length;\n\n  while (++index < length) {\n    var result = result\n      ? arrayPush(\n          baseDifference(result, arrays[index], iteratee, comparator),\n          baseDifference(arrays[index], result, iteratee, comparator)\n        )\n      : arrays[index];\n  }\n  return (result && result.length) ? baseUniq(result, iteratee, comparator) : [];\n}\n\nexport default baseXor;\n","import arrayFilter from './_arrayFilter.js';\nimport baseXor from './_baseXor.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport rest from './rest.js';\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = rest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nexport default xor;\n","import arrayFilter from './_arrayFilter.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseXor from './_baseXor.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.xor` except that it accepts `iteratee` which is\n * invoked for each element of each `arrays` to generate the criterion by\n * which by which they're compared. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Array|Function|Object|string} [iteratee=_.identity]\n *  The iteratee invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n * // => [1.2, 3.4]\n *\n * // The `_.property` iteratee shorthand.\n * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 2 }]\n */\nvar xorBy = rest(function(arrays) {\n  var iteratee = last(arrays);\n  if (isArrayLikeObject(iteratee)) {\n    iteratee = undefined;\n  }\n  return baseXor(arrayFilter(arrays, isArrayLikeObject), baseIteratee(iteratee));\n});\n\nexport default xorBy;\n","import arrayFilter from './_arrayFilter.js';\nimport baseXor from './_baseXor.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport last from './last.js';\nimport rest from './rest.js';\n\n/**\n * This method is like `_.xor` except that it accepts `comparator` which is\n * invoked to compare elements of `arrays`. The comparator is invoked with\n * two arguments: (arrVal, othVal).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n *\n * _.xorWith(objects, others, _.isEqual);\n * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n */\nvar xorWith = rest(function(arrays) {\n  var comparator = last(arrays);\n  if (isArrayLikeObject(comparator)) {\n    comparator = undefined;\n  }\n  return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n});\n\nexport default xorWith;\n","import rest from './rest.js';\nimport unzip from './unzip.js';\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n * // => [['fred', 30, true], ['barney', 40, false]]\n */\nvar zip = rest(unzip);\n\nexport default zip;\n","/**\n * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n *\n * @private\n * @param {Array} props The property identifiers.\n * @param {Array} values The property values.\n * @param {Function} assignFunc The function to assign values.\n * @returns {Object} Returns the new object.\n */\nfunction baseZipObject(props, values, assignFunc) {\n  var index = -1,\n      length = props.length,\n      valsLength = values.length,\n      result = {};\n\n  while (++index < length) {\n    var value = index < valsLength ? values[index] : undefined;\n    assignFunc(result, props[index], value);\n  }\n  return result;\n}\n\nexport default baseZipObject;\n","import assignValue from './_assignValue.js';\nimport baseZipObject from './_baseZipObject.js';\n\n/**\n * This method is like `_.fromPairs` except that it accepts two arrays,\n * one of property identifiers and one of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 0.4.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObject(['a', 'b'], [1, 2]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction zipObject(props, values) {\n  return baseZipObject(props || [], values || [], assignValue);\n}\n\nexport default zipObject;\n","import baseSet from './_baseSet.js';\nimport baseZipObject from './_baseZipObject.js';\n\n/**\n * This method is like `_.zipObject` except that it supports property paths.\n *\n * @static\n * @memberOf _\n * @since 4.1.0\n * @category Array\n * @param {Array} [props=[]] The property identifiers.\n * @param {Array} [values=[]] The property values.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n */\nfunction zipObjectDeep(props, values) {\n  return baseZipObject(props || [], values || [], baseSet);\n}\n\nexport default zipObjectDeep;\n","import rest from './rest.js';\nimport unzipWith from './unzipWith.js';\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = rest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nexport default zipWith;\n","import chunk from './chunk.js';\nimport compact from './compact.js';\nimport concat from './concat.js';\nimport difference from './difference.js';\nimport differenceBy from './differenceBy.js';\nimport differenceWith from './differenceWith.js';\nimport drop from './drop.js';\nimport dropRight from './dropRight.js';\nimport dropRightWhile from './dropRightWhile.js';\nimport dropWhile from './dropWhile.js';\nimport fill from './fill.js';\nimport findIndex from './findIndex.js';\nimport findLastIndex from './findLastIndex.js';\nimport first from './first.js';\nimport flatten from './flatten.js';\nimport flattenDeep from './flattenDeep.js';\nimport flattenDepth from './flattenDepth.js';\nimport fromPairs from './fromPairs.js';\nimport head from './head.js';\nimport indexOf from './indexOf.js';\nimport initial from './initial.js';\nimport intersection from './intersection.js';\nimport intersectionBy from './intersectionBy.js';\nimport intersectionWith from './intersectionWith.js';\nimport join from './join.js';\nimport last from './last.js';\nimport lastIndexOf from './lastIndexOf.js';\nimport nth from './nth.js';\nimport pull from './pull.js';\nimport pullAll from './pullAll.js';\nimport pullAllBy from './pullAllBy.js';\nimport pullAllWith from './pullAllWith.js';\nimport pullAt from './pullAt.js';\nimport remove from './remove.js';\nimport reverse from './reverse.js';\nimport slice from './slice.js';\nimport sortedIndex from './sortedIndex.js';\nimport sortedIndexBy from './sortedIndexBy.js';\nimport sortedIndexOf from './sortedIndexOf.js';\nimport sortedLastIndex from './sortedLastIndex.js';\nimport sortedLastIndexBy from './sortedLastIndexBy.js';\nimport sortedLastIndexOf from './sortedLastIndexOf.js';\nimport sortedUniq from './sortedUniq.js';\nimport sortedUniqBy from './sortedUniqBy.js';\nimport tail from './tail.js';\nimport take from './take.js';\nimport takeRight from './takeRight.js';\nimport takeRightWhile from './takeRightWhile.js';\nimport takeWhile from './takeWhile.js';\nimport union from './union.js';\nimport unionBy from './unionBy.js';\nimport unionWith from './unionWith.js';\nimport uniq from './uniq.js';\nimport uniqBy from './uniqBy.js';\nimport uniqWith from './uniqWith.js';\nimport unzip from './unzip.js';\nimport unzipWith from './unzipWith.js';\nimport without from './without.js';\nimport xor from './xor.js';\nimport xorBy from './xorBy.js';\nimport xorWith from './xorWith.js';\nimport zip from './zip.js';\nimport zipObject from './zipObject.js';\nimport zipObjectDeep from './zipObjectDeep.js';\nimport zipWith from './zipWith.js';\n\nexport default {\n  chunk, compact, concat, difference, differenceBy,\n  differenceWith, drop, dropRight, dropRightWhile, dropWhile,\n  fill, findIndex, findLastIndex, first, flatten,\n  flattenDeep, flattenDepth, fromPairs, head, indexOf,\n  initial, intersection, intersectionBy, intersectionWith, join,\n  last, lastIndexOf, nth, pull, pullAll,\n  pullAllBy, pullAllWith, pullAt, remove, reverse,\n  slice, sortedIndex, sortedIndexBy, sortedIndexOf, sortedLastIndex,\n  sortedLastIndexBy, sortedLastIndexOf, sortedUniq, sortedUniqBy, tail,\n  take, takeRight, takeRightWhile, takeWhile, union,\n  unionBy, unionWith, uniq, uniqBy, uniqWith,\n  unzip, unzipWith, without, xor, xorBy,\n  xorWith, zip, zipObject, zipObjectDeep, zipWith\n};\n","import at from './at.js';\nimport countBy from './countBy.js';\nimport each from './each.js';\nimport eachRight from './eachRight.js';\nimport every from './every.js';\nimport filter from './filter.js';\nimport find from './find.js';\nimport findLast from './findLast.js';\nimport flatMap from './flatMap.js';\nimport flatMapDeep from './flatMapDeep.js';\nimport flatMapDepth from './flatMapDepth.js';\nimport forEach from './forEach.js';\nimport forEachRight from './forEachRight.js';\nimport groupBy from './groupBy.js';\nimport includes from './includes.js';\nimport invokeMap from './invokeMap.js';\nimport keyBy from './keyBy.js';\nimport map from './map.js';\nimport orderBy from './orderBy.js';\nimport partition from './partition.js';\nimport reduce from './reduce.js';\nimport reduceRight from './reduceRight.js';\nimport reject from './reject.js';\nimport sample from './sample.js';\nimport sampleSize from './sampleSize.js';\nimport shuffle from './shuffle.js';\nimport size from './size.js';\nimport some from './some.js';\nimport sortBy from './sortBy.js';\n\nexport default {\n  at, countBy, each, eachRight, every,\n  filter, find, findLast, flatMap, flatMapDeep,\n  flatMapDepth, forEach, forEachRight, groupBy, includes,\n  invokeMap, keyBy, map, orderBy, partition,\n  reduce, reduceRight, reject, sample, sampleSize,\n  shuffle, size, some, sortBy\n};\n","import now from './now.js';\n\nexport default {\n  now\n};\n","import after from './after.js';\nimport ary from './ary.js';\nimport before from './before.js';\nimport bind from './bind.js';\nimport bindKey from './bindKey.js';\nimport curry from './curry.js';\nimport curryRight from './curryRight.js';\nimport debounce from './debounce.js';\nimport defer from './defer.js';\nimport delay from './delay.js';\nimport flip from './flip.js';\nimport memoize from './memoize.js';\nimport negate from './negate.js';\nimport once from './once.js';\nimport overArgs from './overArgs.js';\nimport partial from './partial.js';\nimport partialRight from './partialRight.js';\nimport rearg from './rearg.js';\nimport rest from './rest.js';\nimport spread from './spread.js';\nimport throttle from './throttle.js';\nimport unary from './unary.js';\nimport wrap from './wrap.js';\n\nexport default {\n  after, ary, before, bind, bindKey,\n  curry, curryRight, debounce, defer, delay,\n  flip, memoize, negate, once, overArgs,\n  partial, partialRight, rearg, rest, spread,\n  throttle, unary, wrap\n};\n","import castArray from './castArray.js';\nimport clone from './clone.js';\nimport cloneDeep from './cloneDeep.js';\nimport cloneDeepWith from './cloneDeepWith.js';\nimport cloneWith from './cloneWith.js';\nimport eq from './eq.js';\nimport gt from './gt.js';\nimport gte from './gte.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayBuffer from './isArrayBuffer.js';\nimport isArrayLike from './isArrayLike.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBoolean from './isBoolean.js';\nimport isBuffer from './isBuffer.js';\nimport isDate from './isDate.js';\nimport isElement from './isElement.js';\nimport isEmpty from './isEmpty.js';\nimport isEqual from './isEqual.js';\nimport isEqualWith from './isEqualWith.js';\nimport isError from './isError.js';\nimport isFinite from './isFinite.js';\nimport isFunction from './isFunction.js';\nimport isInteger from './isInteger.js';\nimport isLength from './isLength.js';\nimport isMap from './isMap.js';\nimport isMatch from './isMatch.js';\nimport isMatchWith from './isMatchWith.js';\nimport isNaN from './isNaN.js';\nimport isNative from './isNative.js';\nimport isNil from './isNil.js';\nimport isNull from './isNull.js';\nimport isNumber from './isNumber.js';\nimport isObject from './isObject.js';\nimport isObjectLike from './isObjectLike.js';\nimport isPlainObject from './isPlainObject.js';\nimport isRegExp from './isRegExp.js';\nimport isSafeInteger from './isSafeInteger.js';\nimport isSet from './isSet.js';\nimport isString from './isString.js';\nimport isSymbol from './isSymbol.js';\nimport isTypedArray from './isTypedArray.js';\nimport isUndefined from './isUndefined.js';\nimport isWeakMap from './isWeakMap.js';\nimport isWeakSet from './isWeakSet.js';\nimport lt from './lt.js';\nimport lte from './lte.js';\nimport toArray from './toArray.js';\nimport toFinite from './toFinite.js';\nimport toInteger from './toInteger.js';\nimport toLength from './toLength.js';\nimport toNumber from './toNumber.js';\nimport toPlainObject from './toPlainObject.js';\nimport toSafeInteger from './toSafeInteger.js';\nimport toString from './toString.js';\n\nexport default {\n  castArray, clone, cloneDeep, cloneDeepWith, cloneWith,\n  eq, gt, gte, isArguments, isArray,\n  isArrayBuffer, isArrayLike, isArrayLikeObject, isBoolean, isBuffer,\n  isDate, isElement, isEmpty, isEqual, isEqualWith,\n  isError, isFinite, isFunction, isInteger, isLength,\n  isMap, isMatch, isMatchWith, isNaN, isNative,\n  isNil, isNull, isNumber, isObject, isObjectLike,\n  isPlainObject, isRegExp, isSafeInteger, isSet, isString,\n  isSymbol, isTypedArray, isUndefined, isWeakMap, isWeakSet,\n  lt, lte, toArray, toFinite, toInteger,\n  toLength, toNumber, toPlainObject, toSafeInteger, toString\n};\n","import add from './add.js';\nimport ceil from './ceil.js';\nimport divide from './divide.js';\nimport floor from './floor.js';\nimport max from './max.js';\nimport maxBy from './maxBy.js';\nimport mean from './mean.js';\nimport meanBy from './meanBy.js';\nimport min from './min.js';\nimport minBy from './minBy.js';\nimport multiply from './multiply.js';\nimport round from './round.js';\nimport subtract from './subtract.js';\nimport sum from './sum.js';\nimport sumBy from './sumBy.js';\n\nexport default {\n  add, ceil, divide, floor, max,\n  maxBy, mean, meanBy, min, minBy,\n  multiply, round, subtract, sum, sumBy\n};\n","import clamp from './clamp.js';\nimport inRange from './inRange.js';\nimport random from './random.js';\n\nexport default {\n  clamp, inRange, random\n};\n","import assign from './assign.js';\nimport assignIn from './assignIn.js';\nimport assignInWith from './assignInWith.js';\nimport assignWith from './assignWith.js';\nimport create from './create.js';\nimport defaults from './defaults.js';\nimport defaultsDeep from './defaultsDeep.js';\nimport entries from './entries.js';\nimport entriesIn from './entriesIn.js';\nimport extend from './extend.js';\nimport extendWith from './extendWith.js';\nimport findKey from './findKey.js';\nimport findLastKey from './findLastKey.js';\nimport forIn from './forIn.js';\nimport forInRight from './forInRight.js';\nimport forOwn from './forOwn.js';\nimport forOwnRight from './forOwnRight.js';\nimport functions from './functions.js';\nimport functionsIn from './functionsIn.js';\nimport get from './get.js';\nimport has from './has.js';\nimport hasIn from './hasIn.js';\nimport invert from './invert.js';\nimport invertBy from './invertBy.js';\nimport invoke from './invoke.js';\nimport keys from './keys.js';\nimport keysIn from './keysIn.js';\nimport mapKeys from './mapKeys.js';\nimport mapValues from './mapValues.js';\nimport merge from './merge.js';\nimport mergeWith from './mergeWith.js';\nimport omit from './omit.js';\nimport omitBy from './omitBy.js';\nimport pick from './pick.js';\nimport pickBy from './pickBy.js';\nimport result from './result.js';\nimport set from './set.js';\nimport setWith from './setWith.js';\nimport toPairs from './toPairs.js';\nimport toPairsIn from './toPairsIn.js';\nimport transform from './transform.js';\nimport unset from './unset.js';\nimport update from './update.js';\nimport updateWith from './updateWith.js';\nimport values from './values.js';\nimport valuesIn from './valuesIn.js';\n\nexport default {\n  assign, assignIn, assignInWith, assignWith, create,\n  defaults, defaultsDeep, entries, entriesIn, extend,\n  extendWith, findKey, findLastKey, forIn, forInRight,\n  forOwn, forOwnRight, functions, functionsIn, get,\n  has, hasIn, invert, invertBy, invoke,\n  keys, keysIn, mapKeys, mapValues, merge,\n  mergeWith, omit, omitBy, pick, pickBy,\n  result, set, setWith, toPairs, toPairsIn,\n  transform, unset, update, updateWith, values,\n  valuesIn\n};\n","import at from './wrapperAt.js';\nimport chain from './chain.js';\nimport commit from './commit.js';\nimport lodash from './wrapperLodash.js';\nimport next from './next.js';\nimport plant from './plant.js';\nimport reverse from './wrapperReverse.js';\nimport tap from './tap.js';\nimport thru from './thru.js';\nimport toIterator from './toIterator.js';\nimport toJSON from './toJSON.js';\nimport value from './wrapperValue.js';\nimport valueOf from './valueOf.js';\nimport wrapperChain from './wrapperChain.js';\n\nexport default {\n  at, chain, commit, lodash, next,\n  plant, reverse, tap, thru, toIterator,\n  toJSON, value, valueOf, wrapperChain\n};\n","import camelCase from './camelCase.js';\nimport capitalize from './capitalize.js';\nimport deburr from './deburr.js';\nimport endsWith from './endsWith.js';\nimport escape from './escape.js';\nimport escapeRegExp from './escapeRegExp.js';\nimport kebabCase from './kebabCase.js';\nimport lowerCase from './lowerCase.js';\nimport lowerFirst from './lowerFirst.js';\nimport pad from './pad.js';\nimport padEnd from './padEnd.js';\nimport padStart from './padStart.js';\nimport parseInt from './parseInt.js';\nimport repeat from './repeat.js';\nimport replace from './replace.js';\nimport snakeCase from './snakeCase.js';\nimport split from './split.js';\nimport startCase from './startCase.js';\nimport startsWith from './startsWith.js';\nimport template from './template.js';\nimport templateSettings from './templateSettings.js';\nimport toLower from './toLower.js';\nimport toUpper from './toUpper.js';\nimport trim from './trim.js';\nimport trimEnd from './trimEnd.js';\nimport trimStart from './trimStart.js';\nimport truncate from './truncate.js';\nimport unescape from './unescape.js';\nimport upperCase from './upperCase.js';\nimport upperFirst from './upperFirst.js';\nimport words from './words.js';\n\nexport default {\n  camelCase, capitalize, deburr, endsWith, escape,\n  escapeRegExp, kebabCase, lowerCase, lowerFirst, pad,\n  padEnd, padStart, parseInt, repeat, replace,\n  snakeCase, split, startCase, startsWith, template,\n  templateSettings, toLower, toUpper, trim, trimEnd,\n  trimStart, truncate, unescape, upperCase, upperFirst,\n  words\n};\n","import attempt from './attempt.js';\nimport bindAll from './bindAll.js';\nimport cond from './cond.js';\nimport conforms from './conforms.js';\nimport constant from './constant.js';\nimport flow from './flow.js';\nimport flowRight from './flowRight.js';\nimport identity from './identity.js';\nimport iteratee from './iteratee.js';\nimport matches from './matches.js';\nimport matchesProperty from './matchesProperty.js';\nimport method from './method.js';\nimport methodOf from './methodOf.js';\nimport mixin from './mixin.js';\nimport noop from './noop.js';\nimport nthArg from './nthArg.js';\nimport over from './over.js';\nimport overEvery from './overEvery.js';\nimport overSome from './overSome.js';\nimport property from './property.js';\nimport propertyOf from './propertyOf.js';\nimport range from './range.js';\nimport rangeRight from './rangeRight.js';\nimport stubArray from './stubArray.js';\nimport stubFalse from './stubFalse.js';\nimport stubObject from './stubObject.js';\nimport stubString from './stubString.js';\nimport stubTrue from './stubTrue.js';\nimport times from './times.js';\nimport toPath from './toPath.js';\nimport uniqueId from './uniqueId.js';\n\nexport default {\n  attempt, bindAll, cond, conforms, constant,\n  flow, flowRight, identity, iteratee, matches,\n  matchesProperty, method, methodOf, mixin, noop,\n  nthArg, over, overEvery, overSome, property,\n  propertyOf, range, rangeRight, stubArray, stubFalse,\n  stubObject, stubString, stubTrue, times, toPath,\n  uniqueId\n};\n","import LazyWrapper from './_LazyWrapper.js';\nimport copyArray from './_copyArray.js';\n\n/**\n * Creates a clone of the lazy wrapper object.\n *\n * @private\n * @name clone\n * @memberOf LazyWrapper\n * @returns {Object} Returns the cloned `LazyWrapper` object.\n */\nfunction lazyClone() {\n  var result = new LazyWrapper(this.__wrapped__);\n  result.__actions__ = copyArray(this.__actions__);\n  result.__dir__ = this.__dir__;\n  result.__filtered__ = this.__filtered__;\n  result.__iteratees__ = copyArray(this.__iteratees__);\n  result.__takeCount__ = this.__takeCount__;\n  result.__views__ = copyArray(this.__views__);\n  return result;\n}\n\nexport default lazyClone;\n","import LazyWrapper from './_LazyWrapper.js';\n\n/**\n * Reverses the direction of lazy iteration.\n *\n * @private\n * @name reverse\n * @memberOf LazyWrapper\n * @returns {Object} Returns the new reversed `LazyWrapper` object.\n */\nfunction lazyReverse() {\n  if (this.__filtered__) {\n    var result = new LazyWrapper(this);\n    result.__dir__ = -1;\n    result.__filtered__ = true;\n  } else {\n    result = this.clone();\n    result.__dir__ *= -1;\n  }\n  return result;\n}\n\nexport default lazyReverse;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the view, applying any `transforms` to the `start` and `end` positions.\n *\n * @private\n * @param {number} start The start of the view.\n * @param {number} end The end of the view.\n * @param {Array} transforms The transformations to apply to the view.\n * @returns {Object} Returns an object containing the `start` and `end`\n *  positions of the view.\n */\nfunction getView(start, end, transforms) {\n  var index = -1,\n      length = transforms.length;\n\n  while (++index < length) {\n    var data = transforms[index],\n        size = data.size;\n\n    switch (data.type) {\n      case 'drop':      start += size; break;\n      case 'dropRight': end -= size; break;\n      case 'take':      end = nativeMin(end, start + size); break;\n      case 'takeRight': start = nativeMax(start, end - size); break;\n    }\n  }\n  return { 'start': start, 'end': end };\n}\n\nexport default getView;\n","import baseWrapperValue from './_baseWrapperValue.js';\nimport getView from './_getView.js';\nimport isArray from './isArray.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to indicate the type of lazy iteratees. */\nvar LAZY_FILTER_FLAG = 1,\n    LAZY_MAP_FLAG = 2;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Extracts the unwrapped value from its lazy wrapper.\n *\n * @private\n * @name value\n * @memberOf LazyWrapper\n * @returns {*} Returns the unwrapped value.\n */\nfunction lazyValue() {\n  var array = this.__wrapped__.value(),\n      dir = this.__dir__,\n      isArr = isArray(array),\n      isRight = dir < 0,\n      arrLength = isArr ? array.length : 0,\n      view = getView(0, arrLength, this.__views__),\n      start = view.start,\n      end = view.end,\n      length = end - start,\n      index = isRight ? end : (start - 1),\n      iteratees = this.__iteratees__,\n      iterLength = iteratees.length,\n      resIndex = 0,\n      takeCount = nativeMin(length, this.__takeCount__);\n\n  if (!isArr || arrLength < LARGE_ARRAY_SIZE ||\n      (arrLength == length && takeCount == length)) {\n    return baseWrapperValue(array, this.__actions__);\n  }\n  var result = [];\n\n  outer:\n  while (length-- && resIndex < takeCount) {\n    index += dir;\n\n    var iterIndex = -1,\n        value = array[index];\n\n    while (++iterIndex < iterLength) {\n      var data = iteratees[iterIndex],\n          iteratee = data.iteratee,\n          type = data.type,\n          computed = iteratee(value);\n\n      if (type == LAZY_MAP_FLAG) {\n        value = computed;\n      } else if (!computed) {\n        if (type == LAZY_FILTER_FLAG) {\n          continue outer;\n        } else {\n          break outer;\n        }\n      }\n    }\n    result[resIndex++] = value;\n  }\n  return result;\n}\n\nexport default lazyValue;\n","/**\n * @license\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"es\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nimport array from './array.js';\nimport collection from './collection.js';\nimport date from './date.js';\nimport func from './function.js';\nimport lang from './lang.js';\nimport math from './math.js';\nimport number from './number.js';\nimport object from './object.js';\nimport seq from './seq.js';\nimport string from './string.js';\nimport util from './util.js';\nimport LazyWrapper from './_LazyWrapper.js';\nimport LodashWrapper from './_LodashWrapper.js';\nimport Symbol from './_Symbol.js';\nimport arrayEach from './_arrayEach.js';\nimport arrayPush from './_arrayPush.js';\nimport baseForOwn from './_baseForOwn.js';\nimport baseFunctions from './_baseFunctions.js';\nimport baseInvoke from './_baseInvoke.js';\nimport baseIteratee from './_baseIteratee.js';\nimport createHybridWrapper from './_createHybridWrapper.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport isObject from './isObject.js';\nimport keys from './keys.js';\nimport last from './last.js';\nimport lazyClone from './_lazyClone.js';\nimport lazyReverse from './_lazyReverse.js';\nimport lazyValue from './_lazyValue.js';\nimport _mixin from './mixin.js';\nimport realNames from './_realNames.js';\nimport rest from './rest.js';\nimport thru from './thru.js';\nimport toInteger from './toInteger.js';\nimport lodash from './wrapperLodash.js';\n\n/** Used as the semantic version number. */\nvar VERSION = '4.13.1';\n\n/** Used to compose bitmasks for wrapper metadata. */\nvar BIND_KEY_FLAG = 2;\n\n/** Used to indicate the type of lazy iteratees. */\nvar LAZY_FILTER_FLAG = 1,\n    LAZY_WHILE_FLAG = 3;\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar iteratorSymbol = typeof (iteratorSymbol = Symbol && Symbol.iterator) == 'symbol' ? iteratorSymbol : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n// wrap `_.mixin` so it works when provided only one argument\nvar mixin = (function(func) {\n  return function(object, source, options) {\n    if (options == null) {\n      var isObj = isObject(source),\n          props = isObj && keys(source),\n          methodNames = props && props.length && baseFunctions(source, props);\n\n      if (!(methodNames ? methodNames.length : isObj)) {\n        options = source;\n        source = object;\n        object = this;\n      }\n    }\n    return func(object, source, options);\n  };\n}(_mixin));\n\n// Add methods that return wrapped values in chain sequences.\nlodash.after = func.after;\nlodash.ary = func.ary;\nlodash.assign = object.assign;\nlodash.assignIn = object.assignIn;\nlodash.assignInWith = object.assignInWith;\nlodash.assignWith = object.assignWith;\nlodash.at = collection.at;\nlodash.before = func.before;\nlodash.bind = func.bind;\nlodash.bindAll = util.bindAll;\nlodash.bindKey = func.bindKey;\nlodash.castArray = lang.castArray;\nlodash.chain = seq.chain;\nlodash.chunk = array.chunk;\nlodash.compact = array.compact;\nlodash.concat = array.concat;\nlodash.cond = util.cond;\nlodash.conforms = util.conforms;\nlodash.constant = util.constant;\nlodash.countBy = collection.countBy;\nlodash.create = object.create;\nlodash.curry = func.curry;\nlodash.curryRight = func.curryRight;\nlodash.debounce = func.debounce;\nlodash.defaults = object.defaults;\nlodash.defaultsDeep = object.defaultsDeep;\nlodash.defer = func.defer;\nlodash.delay = func.delay;\nlodash.difference = array.difference;\nlodash.differenceBy = array.differenceBy;\nlodash.differenceWith = array.differenceWith;\nlodash.drop = array.drop;\nlodash.dropRight = array.dropRight;\nlodash.dropRightWhile = array.dropRightWhile;\nlodash.dropWhile = array.dropWhile;\nlodash.fill = array.fill;\nlodash.filter = collection.filter;\nlodash.flatMap = collection.flatMap;\nlodash.flatMapDeep = collection.flatMapDeep;\nlodash.flatMapDepth = collection.flatMapDepth;\nlodash.flatten = array.flatten;\nlodash.flattenDeep = array.flattenDeep;\nlodash.flattenDepth = array.flattenDepth;\nlodash.flip = func.flip;\nlodash.flow = util.flow;\nlodash.flowRight = util.flowRight;\nlodash.fromPairs = array.fromPairs;\nlodash.functions = object.functions;\nlodash.functionsIn = object.functionsIn;\nlodash.groupBy = collection.groupBy;\nlodash.initial = array.initial;\nlodash.intersection = array.intersection;\nlodash.intersectionBy = array.intersectionBy;\nlodash.intersectionWith = array.intersectionWith;\nlodash.invert = object.invert;\nlodash.invertBy = object.invertBy;\nlodash.invokeMap = collection.invokeMap;\nlodash.iteratee = util.iteratee;\nlodash.keyBy = collection.keyBy;\nlodash.keys = keys;\nlodash.keysIn = object.keysIn;\nlodash.map = collection.map;\nlodash.mapKeys = object.mapKeys;\nlodash.mapValues = object.mapValues;\nlodash.matches = util.matches;\nlodash.matchesProperty = util.matchesProperty;\nlodash.memoize = func.memoize;\nlodash.merge = object.merge;\nlodash.mergeWith = object.mergeWith;\nlodash.method = util.method;\nlodash.methodOf = util.methodOf;\nlodash.mixin = mixin;\nlodash.negate = func.negate;\nlodash.nthArg = util.nthArg;\nlodash.omit = object.omit;\nlodash.omitBy = object.omitBy;\nlodash.once = func.once;\nlodash.orderBy = collection.orderBy;\nlodash.over = util.over;\nlodash.overArgs = func.overArgs;\nlodash.overEvery = util.overEvery;\nlodash.overSome = util.overSome;\nlodash.partial = func.partial;\nlodash.partialRight = func.partialRight;\nlodash.partition = collection.partition;\nlodash.pick = object.pick;\nlodash.pickBy = object.pickBy;\nlodash.property = util.property;\nlodash.propertyOf = util.propertyOf;\nlodash.pull = array.pull;\nlodash.pullAll = array.pullAll;\nlodash.pullAllBy = array.pullAllBy;\nlodash.pullAllWith = array.pullAllWith;\nlodash.pullAt = array.pullAt;\nlodash.range = util.range;\nlodash.rangeRight = util.rangeRight;\nlodash.rearg = func.rearg;\nlodash.reject = collection.reject;\nlodash.remove = array.remove;\nlodash.rest = rest;\nlodash.reverse = array.reverse;\nlodash.sampleSize = collection.sampleSize;\nlodash.set = object.set;\nlodash.setWith = object.setWith;\nlodash.shuffle = collection.shuffle;\nlodash.slice = array.slice;\nlodash.sortBy = collection.sortBy;\nlodash.sortedUniq = array.sortedUniq;\nlodash.sortedUniqBy = array.sortedUniqBy;\nlodash.split = string.split;\nlodash.spread = func.spread;\nlodash.tail = array.tail;\nlodash.take = array.take;\nlodash.takeRight = array.takeRight;\nlodash.takeRightWhile = array.takeRightWhile;\nlodash.takeWhile = array.takeWhile;\nlodash.tap = seq.tap;\nlodash.throttle = func.throttle;\nlodash.thru = thru;\nlodash.toArray = lang.toArray;\nlodash.toPairs = object.toPairs;\nlodash.toPairsIn = object.toPairsIn;\nlodash.toPath = util.toPath;\nlodash.toPlainObject = lang.toPlainObject;\nlodash.transform = object.transform;\nlodash.unary = func.unary;\nlodash.union = array.union;\nlodash.unionBy = array.unionBy;\nlodash.unionWith = array.unionWith;\nlodash.uniq = array.uniq;\nlodash.uniqBy = array.uniqBy;\nlodash.uniqWith = array.uniqWith;\nlodash.unset = object.unset;\nlodash.unzip = array.unzip;\nlodash.unzipWith = array.unzipWith;\nlodash.update = object.update;\nlodash.updateWith = object.updateWith;\nlodash.values = object.values;\nlodash.valuesIn = object.valuesIn;\nlodash.without = array.without;\nlodash.words = string.words;\nlodash.wrap = func.wrap;\nlodash.xor = array.xor;\nlodash.xorBy = array.xorBy;\nlodash.xorWith = array.xorWith;\nlodash.zip = array.zip;\nlodash.zipObject = array.zipObject;\nlodash.zipObjectDeep = array.zipObjectDeep;\nlodash.zipWith = array.zipWith;\n\n// Add aliases.\nlodash.entries = object.toPairs;\nlodash.entriesIn = object.toPairsIn;\nlodash.extend = object.assignIn;\nlodash.extendWith = object.assignInWith;\n\n// Add methods to `lodash.prototype`.\nmixin(lodash, lodash);\n\n// Add methods that return unwrapped values in chain sequences.\nlodash.add = math.add;\nlodash.attempt = util.attempt;\nlodash.camelCase = string.camelCase;\nlodash.capitalize = string.capitalize;\nlodash.ceil = math.ceil;\nlodash.clamp = number.clamp;\nlodash.clone = lang.clone;\nlodash.cloneDeep = lang.cloneDeep;\nlodash.cloneDeepWith = lang.cloneDeepWith;\nlodash.cloneWith = lang.cloneWith;\nlodash.deburr = string.deburr;\nlodash.divide = math.divide;\nlodash.endsWith = string.endsWith;\nlodash.eq = lang.eq;\nlodash.escape = string.escape;\nlodash.escapeRegExp = string.escapeRegExp;\nlodash.every = collection.every;\nlodash.find = collection.find;\nlodash.findIndex = array.findIndex;\nlodash.findKey = object.findKey;\nlodash.findLast = collection.findLast;\nlodash.findLastIndex = array.findLastIndex;\nlodash.findLastKey = object.findLastKey;\nlodash.floor = math.floor;\nlodash.forEach = collection.forEach;\nlodash.forEachRight = collection.forEachRight;\nlodash.forIn = object.forIn;\nlodash.forInRight = object.forInRight;\nlodash.forOwn = object.forOwn;\nlodash.forOwnRight = object.forOwnRight;\nlodash.get = object.get;\nlodash.gt = lang.gt;\nlodash.gte = lang.gte;\nlodash.has = object.has;\nlodash.hasIn = object.hasIn;\nlodash.head = array.head;\nlodash.identity = identity;\nlodash.includes = collection.includes;\nlodash.indexOf = array.indexOf;\nlodash.inRange = number.inRange;\nlodash.invoke = object.invoke;\nlodash.isArguments = lang.isArguments;\nlodash.isArray = isArray;\nlodash.isArrayBuffer = lang.isArrayBuffer;\nlodash.isArrayLike = lang.isArrayLike;\nlodash.isArrayLikeObject = lang.isArrayLikeObject;\nlodash.isBoolean = lang.isBoolean;\nlodash.isBuffer = lang.isBuffer;\nlodash.isDate = lang.isDate;\nlodash.isElement = lang.isElement;\nlodash.isEmpty = lang.isEmpty;\nlodash.isEqual = lang.isEqual;\nlodash.isEqualWith = lang.isEqualWith;\nlodash.isError = lang.isError;\nlodash.isFinite = lang.isFinite;\nlodash.isFunction = lang.isFunction;\nlodash.isInteger = lang.isInteger;\nlodash.isLength = lang.isLength;\nlodash.isMap = lang.isMap;\nlodash.isMatch = lang.isMatch;\nlodash.isMatchWith = lang.isMatchWith;\nlodash.isNaN = lang.isNaN;\nlodash.isNative = lang.isNative;\nlodash.isNil = lang.isNil;\nlodash.isNull = lang.isNull;\nlodash.isNumber = lang.isNumber;\nlodash.isObject = isObject;\nlodash.isObjectLike = lang.isObjectLike;\nlodash.isPlainObject = lang.isPlainObject;\nlodash.isRegExp = lang.isRegExp;\nlodash.isSafeInteger = lang.isSafeInteger;\nlodash.isSet = lang.isSet;\nlodash.isString = lang.isString;\nlodash.isSymbol = lang.isSymbol;\nlodash.isTypedArray = lang.isTypedArray;\nlodash.isUndefined = lang.isUndefined;\nlodash.isWeakMap = lang.isWeakMap;\nlodash.isWeakSet = lang.isWeakSet;\nlodash.join = array.join;\nlodash.kebabCase = string.kebabCase;\nlodash.last = last;\nlodash.lastIndexOf = array.lastIndexOf;\nlodash.lowerCase = string.lowerCase;\nlodash.lowerFirst = string.lowerFirst;\nlodash.lt = lang.lt;\nlodash.lte = lang.lte;\nlodash.max = math.max;\nlodash.maxBy = math.maxBy;\nlodash.mean = math.mean;\nlodash.meanBy = math.meanBy;\nlodash.min = math.min;\nlodash.minBy = math.minBy;\nlodash.stubArray = util.stubArray;\nlodash.stubFalse = util.stubFalse;\nlodash.stubObject = util.stubObject;\nlodash.stubString = util.stubString;\nlodash.stubTrue = util.stubTrue;\nlodash.multiply = math.multiply;\nlodash.nth = array.nth;\nlodash.noop = util.noop;\nlodash.now = date.now;\nlodash.pad = string.pad;\nlodash.padEnd = string.padEnd;\nlodash.padStart = string.padStart;\nlodash.parseInt = string.parseInt;\nlodash.random = number.random;\nlodash.reduce = collection.reduce;\nlodash.reduceRight = collection.reduceRight;\nlodash.repeat = string.repeat;\nlodash.replace = string.replace;\nlodash.result = object.result;\nlodash.round = math.round;\nlodash.sample = collection.sample;\nlodash.size = collection.size;\nlodash.snakeCase = string.snakeCase;\nlodash.some = collection.some;\nlodash.sortedIndex = array.sortedIndex;\nlodash.sortedIndexBy = array.sortedIndexBy;\nlodash.sortedIndexOf = array.sortedIndexOf;\nlodash.sortedLastIndex = array.sortedLastIndex;\nlodash.sortedLastIndexBy = array.sortedLastIndexBy;\nlodash.sortedLastIndexOf = array.sortedLastIndexOf;\nlodash.startCase = string.startCase;\nlodash.startsWith = string.startsWith;\nlodash.subtract = math.subtract;\nlodash.sum = math.sum;\nlodash.sumBy = math.sumBy;\nlodash.template = string.template;\nlodash.times = util.times;\nlodash.toFinite = lang.toFinite;\nlodash.toInteger = toInteger;\nlodash.toLength = lang.toLength;\nlodash.toLower = string.toLower;\nlodash.toNumber = lang.toNumber;\nlodash.toSafeInteger = lang.toSafeInteger;\nlodash.toString = lang.toString;\nlodash.toUpper = string.toUpper;\nlodash.trim = string.trim;\nlodash.trimEnd = string.trimEnd;\nlodash.trimStart = string.trimStart;\nlodash.truncate = string.truncate;\nlodash.unescape = string.unescape;\nlodash.uniqueId = util.uniqueId;\nlodash.upperCase = string.upperCase;\nlodash.upperFirst = string.upperFirst;\n\n// Add aliases.\nlodash.each = collection.forEach;\nlodash.eachRight = collection.forEachRight;\nlodash.first = array.head;\n\nmixin(lodash, (function() {\n  var source = {};\n  baseForOwn(lodash, function(func, methodName) {\n    if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n      source[methodName] = func;\n    }\n  });\n  return source;\n}()), { 'chain': false });\n\n/**\n * The semantic version number.\n *\n * @static\n * @memberOf _\n * @type {string}\n */\nlodash.VERSION = VERSION;\n(lodash.templateSettings = string.templateSettings).imports._ = lodash;\n\n// Assign default placeholders.\narrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n  lodash[methodName].placeholder = lodash;\n});\n\n// Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\narrayEach(['drop', 'take'], function(methodName, index) {\n  LazyWrapper.prototype[methodName] = function(n) {\n    var filtered = this.__filtered__;\n    if (filtered && !index) {\n      return new LazyWrapper(this);\n    }\n    n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n    var result = this.clone();\n    if (filtered) {\n      result.__takeCount__ = nativeMin(n, result.__takeCount__);\n    } else {\n      result.__views__.push({\n        'size': nativeMin(n, MAX_ARRAY_LENGTH),\n        'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n      });\n    }\n    return result;\n  };\n\n  LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n    return this.reverse()[methodName](n).reverse();\n  };\n});\n\n// Add `LazyWrapper` methods that accept an `iteratee` value.\narrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n  var type = index + 1,\n      isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n  LazyWrapper.prototype[methodName] = function(iteratee) {\n    var result = this.clone();\n    result.__iteratees__.push({\n      'iteratee': baseIteratee(iteratee, 3),\n      'type': type\n    });\n    result.__filtered__ = result.__filtered__ || isFilter;\n    return result;\n  };\n});\n\n// Add `LazyWrapper` methods for `_.head` and `_.last`.\narrayEach(['head', 'last'], function(methodName, index) {\n  var takeName = 'take' + (index ? 'Right' : '');\n\n  LazyWrapper.prototype[methodName] = function() {\n    return this[takeName](1).value()[0];\n  };\n});\n\n// Add `LazyWrapper` methods for `_.initial` and `_.tail`.\narrayEach(['initial', 'tail'], function(methodName, index) {\n  var dropName = 'drop' + (index ? '' : 'Right');\n\n  LazyWrapper.prototype[methodName] = function() {\n    return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n  };\n});\n\nLazyWrapper.prototype.compact = function() {\n  return this.filter(identity);\n};\n\nLazyWrapper.prototype.find = function(predicate) {\n  return this.filter(predicate).head();\n};\n\nLazyWrapper.prototype.findLast = function(predicate) {\n  return this.reverse().find(predicate);\n};\n\nLazyWrapper.prototype.invokeMap = rest(function(path, args) {\n  if (typeof path == 'function') {\n    return new LazyWrapper(this);\n  }\n  return this.map(function(value) {\n    return baseInvoke(value, path, args);\n  });\n});\n\nLazyWrapper.prototype.reject = function(predicate) {\n  predicate = baseIteratee(predicate, 3);\n  return this.filter(function(value) {\n    return !predicate(value);\n  });\n};\n\nLazyWrapper.prototype.slice = function(start, end) {\n  start = toInteger(start);\n\n  var result = this;\n  if (result.__filtered__ && (start > 0 || end < 0)) {\n    return new LazyWrapper(result);\n  }\n  if (start < 0) {\n    result = result.takeRight(-start);\n  } else if (start) {\n    result = result.drop(start);\n  }\n  if (end !== undefined) {\n    end = toInteger(end);\n    result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n  }\n  return result;\n};\n\nLazyWrapper.prototype.takeRightWhile = function(predicate) {\n  return this.reverse().takeWhile(predicate).reverse();\n};\n\nLazyWrapper.prototype.toArray = function() {\n  return this.take(MAX_ARRAY_LENGTH);\n};\n\n// Add `LazyWrapper` methods to `lodash.prototype`.\nbaseForOwn(LazyWrapper.prototype, function(func, methodName) {\n  var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n      isTaker = /^(?:head|last)$/.test(methodName),\n      lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n      retUnwrapped = isTaker || /^find/.test(methodName);\n\n  if (!lodashFunc) {\n    return;\n  }\n  lodash.prototype[methodName] = function() {\n    var value = this.__wrapped__,\n        args = isTaker ? [1] : arguments,\n        isLazy = value instanceof LazyWrapper,\n        iteratee = args[0],\n        useLazy = isLazy || isArray(value);\n\n    var interceptor = function(value) {\n      var result = lodashFunc.apply(lodash, arrayPush([value], args));\n      return (isTaker && chainAll) ? result[0] : result;\n    };\n\n    if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n      // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n      isLazy = useLazy = false;\n    }\n    var chainAll = this.__chain__,\n        isHybrid = !!this.__actions__.length,\n        isUnwrapped = retUnwrapped && !chainAll,\n        onlyLazy = isLazy && !isHybrid;\n\n    if (!retUnwrapped && useLazy) {\n      value = onlyLazy ? value : new LazyWrapper(this);\n      var result = func.apply(value, args);\n      result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n      return new LodashWrapper(result, chainAll);\n    }\n    if (isUnwrapped && onlyLazy) {\n      return func.apply(this, args);\n    }\n    result = this.thru(interceptor);\n    return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n  };\n});\n\n// Add `Array` methods to `lodash.prototype`.\narrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n  var func = arrayProto[methodName],\n      chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n      retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n  lodash.prototype[methodName] = function() {\n    var args = arguments;\n    if (retUnwrapped && !this.__chain__) {\n      var value = this.value();\n      return func.apply(isArray(value) ? value : [], args);\n    }\n    return this[chainName](function(value) {\n      return func.apply(isArray(value) ? value : [], args);\n    });\n  };\n});\n\n// Map minified method names to their real names.\nbaseForOwn(LazyWrapper.prototype, function(func, methodName) {\n  var lodashFunc = lodash[methodName];\n  if (lodashFunc) {\n    var key = (lodashFunc.name + ''),\n        names = realNames[key] || (realNames[key] = []);\n\n    names.push({ 'name': methodName, 'func': lodashFunc });\n  }\n});\n\nrealNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{\n  'name': 'wrapper',\n  'func': undefined\n}];\n\n// Add methods to `LazyWrapper`.\nLazyWrapper.prototype.clone = lazyClone;\nLazyWrapper.prototype.reverse = lazyReverse;\nLazyWrapper.prototype.value = lazyValue;\n\n// Add chain sequence methods to the `lodash` wrapper.\nlodash.prototype.at = seq.at;\nlodash.prototype.chain = seq.wrapperChain;\nlodash.prototype.commit = seq.commit;\nlodash.prototype.next = seq.next;\nlodash.prototype.plant = seq.plant;\nlodash.prototype.reverse = seq.reverse;\nlodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = seq.value;\n\nif (iteratorSymbol) {\n  lodash.prototype[iteratorSymbol] = seq.toIterator;\n}\n\nexport default lodash;\n","/**\n * @license\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"es\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nexport { default as add } from './add.js';\nexport { default as after } from './after.js';\nexport { default as ary } from './ary.js';\nexport { default as assign } from './assign.js';\nexport { default as assignIn } from './assignIn.js';\nexport { default as assignInWith } from './assignInWith.js';\nexport { default as assignWith } from './assignWith.js';\nexport { default as at } from './at.js';\nexport { default as attempt } from './attempt.js';\nexport { default as before } from './before.js';\nexport { default as bind } from './bind.js';\nexport { default as bindAll } from './bindAll.js';\nexport { default as bindKey } from './bindKey.js';\nexport { default as camelCase } from './camelCase.js';\nexport { default as capitalize } from './capitalize.js';\nexport { default as castArray } from './castArray.js';\nexport { default as ceil } from './ceil.js';\nexport { default as chain } from './chain.js';\nexport { default as chunk } from './chunk.js';\nexport { default as clamp } from './clamp.js';\nexport { default as clone } from './clone.js';\nexport { default as cloneDeep } from './cloneDeep.js';\nexport { default as cloneDeepWith } from './cloneDeepWith.js';\nexport { default as cloneWith } from './cloneWith.js';\nexport { default as commit } from './commit.js';\nexport { default as compact } from './compact.js';\nexport { default as concat } from './concat.js';\nexport { default as cond } from './cond.js';\nexport { default as conforms } from './conforms.js';\nexport { default as constant } from './constant.js';\nexport { default as countBy } from './countBy.js';\nexport { default as create } from './create.js';\nexport { default as curry } from './curry.js';\nexport { default as curryRight } from './curryRight.js';\nexport { default as debounce } from './debounce.js';\nexport { default as deburr } from './deburr.js';\nexport { default as defaults } from './defaults.js';\nexport { default as defaultsDeep } from './defaultsDeep.js';\nexport { default as defer } from './defer.js';\nexport { default as delay } from './delay.js';\nexport { default as difference } from './difference.js';\nexport { default as differenceBy } from './differenceBy.js';\nexport { default as differenceWith } from './differenceWith.js';\nexport { default as divide } from './divide.js';\nexport { default as drop } from './drop.js';\nexport { default as dropRight } from './dropRight.js';\nexport { default as dropRightWhile } from './dropRightWhile.js';\nexport { default as dropWhile } from './dropWhile.js';\nexport { default as each } from './each.js';\nexport { default as eachRight } from './eachRight.js';\nexport { default as endsWith } from './endsWith.js';\nexport { default as entries } from './entries.js';\nexport { default as entriesIn } from './entriesIn.js';\nexport { default as eq } from './eq.js';\nexport { default as escape } from './escape.js';\nexport { default as escapeRegExp } from './escapeRegExp.js';\nexport { default as every } from './every.js';\nexport { default as extend } from './extend.js';\nexport { default as extendWith } from './extendWith.js';\nexport { default as fill } from './fill.js';\nexport { default as filter } from './filter.js';\nexport { default as find } from './find.js';\nexport { default as findIndex } from './findIndex.js';\nexport { default as findKey } from './findKey.js';\nexport { default as findLast } from './findLast.js';\nexport { default as findLastIndex } from './findLastIndex.js';\nexport { default as findLastKey } from './findLastKey.js';\nexport { default as first } from './first.js';\nexport { default as flatMap } from './flatMap.js';\nexport { default as flatMapDeep } from './flatMapDeep.js';\nexport { default as flatMapDepth } from './flatMapDepth.js';\nexport { default as flatten } from './flatten.js';\nexport { default as flattenDeep } from './flattenDeep.js';\nexport { default as flattenDepth } from './flattenDepth.js';\nexport { default as flip } from './flip.js';\nexport { default as floor } from './floor.js';\nexport { default as flow } from './flow.js';\nexport { default as flowRight } from './flowRight.js';\nexport { default as forEach } from './forEach.js';\nexport { default as forEachRight } from './forEachRight.js';\nexport { default as forIn } from './forIn.js';\nexport { default as forInRight } from './forInRight.js';\nexport { default as forOwn } from './forOwn.js';\nexport { default as forOwnRight } from './forOwnRight.js';\nexport { default as fromPairs } from './fromPairs.js';\nexport { default as functions } from './functions.js';\nexport { default as functionsIn } from './functionsIn.js';\nexport { default as get } from './get.js';\nexport { default as groupBy } from './groupBy.js';\nexport { default as gt } from './gt.js';\nexport { default as gte } from './gte.js';\nexport { default as has } from './has.js';\nexport { default as hasIn } from './hasIn.js';\nexport { default as head } from './head.js';\nexport { default as identity } from './identity.js';\nexport { default as inRange } from './inRange.js';\nexport { default as includes } from './includes.js';\nexport { default as indexOf } from './indexOf.js';\nexport { default as initial } from './initial.js';\nexport { default as intersection } from './intersection.js';\nexport { default as intersectionBy } from './intersectionBy.js';\nexport { default as intersectionWith } from './intersectionWith.js';\nexport { default as invert } from './invert.js';\nexport { default as invertBy } from './invertBy.js';\nexport { default as invoke } from './invoke.js';\nexport { default as invokeMap } from './invokeMap.js';\nexport { default as isArguments } from './isArguments.js';\nexport { default as isArray } from './isArray.js';\nexport { default as isArrayBuffer } from './isArrayBuffer.js';\nexport { default as isArrayLike } from './isArrayLike.js';\nexport { default as isArrayLikeObject } from './isArrayLikeObject.js';\nexport { default as isBoolean } from './isBoolean.js';\nexport { default as isBuffer } from './isBuffer.js';\nexport { default as isDate } from './isDate.js';\nexport { default as isElement } from './isElement.js';\nexport { default as isEmpty } from './isEmpty.js';\nexport { default as isEqual } from './isEqual.js';\nexport { default as isEqualWith } from './isEqualWith.js';\nexport { default as isError } from './isError.js';\nexport { default as isFinite } from './isFinite.js';\nexport { default as isFunction } from './isFunction.js';\nexport { default as isInteger } from './isInteger.js';\nexport { default as isLength } from './isLength.js';\nexport { default as isMap } from './isMap.js';\nexport { default as isMatch } from './isMatch.js';\nexport { default as isMatchWith } from './isMatchWith.js';\nexport { default as isNaN } from './isNaN.js';\nexport { default as isNative } from './isNative.js';\nexport { default as isNil } from './isNil.js';\nexport { default as isNull } from './isNull.js';\nexport { default as isNumber } from './isNumber.js';\nexport { default as isObject } from './isObject.js';\nexport { default as isObjectLike } from './isObjectLike.js';\nexport { default as isPlainObject } from './isPlainObject.js';\nexport { default as isRegExp } from './isRegExp.js';\nexport { default as isSafeInteger } from './isSafeInteger.js';\nexport { default as isSet } from './isSet.js';\nexport { default as isString } from './isString.js';\nexport { default as isSymbol } from './isSymbol.js';\nexport { default as isTypedArray } from './isTypedArray.js';\nexport { default as isUndefined } from './isUndefined.js';\nexport { default as isWeakMap } from './isWeakMap.js';\nexport { default as isWeakSet } from './isWeakSet.js';\nexport { default as iteratee } from './iteratee.js';\nexport { default as join } from './join.js';\nexport { default as kebabCase } from './kebabCase.js';\nexport { default as keyBy } from './keyBy.js';\nexport { default as keys } from './keys.js';\nexport { default as keysIn } from './keysIn.js';\nexport { default as last } from './last.js';\nexport { default as lastIndexOf } from './lastIndexOf.js';\nexport { default as lodash } from './wrapperLodash.js';\nexport { default as lowerCase } from './lowerCase.js';\nexport { default as lowerFirst } from './lowerFirst.js';\nexport { default as lt } from './lt.js';\nexport { default as lte } from './lte.js';\nexport { default as map } from './map.js';\nexport { default as mapKeys } from './mapKeys.js';\nexport { default as mapValues } from './mapValues.js';\nexport { default as matches } from './matches.js';\nexport { default as matchesProperty } from './matchesProperty.js';\nexport { default as max } from './max.js';\nexport { default as maxBy } from './maxBy.js';\nexport { default as mean } from './mean.js';\nexport { default as meanBy } from './meanBy.js';\nexport { default as memoize } from './memoize.js';\nexport { default as merge } from './merge.js';\nexport { default as mergeWith } from './mergeWith.js';\nexport { default as method } from './method.js';\nexport { default as methodOf } from './methodOf.js';\nexport { default as min } from './min.js';\nexport { default as minBy } from './minBy.js';\nexport { default as mixin } from './mixin.js';\nexport { default as multiply } from './multiply.js';\nexport { default as negate } from './negate.js';\nexport { default as next } from './next.js';\nexport { default as noop } from './noop.js';\nexport { default as now } from './now.js';\nexport { default as nth } from './nth.js';\nexport { default as nthArg } from './nthArg.js';\nexport { default as omit } from './omit.js';\nexport { default as omitBy } from './omitBy.js';\nexport { default as once } from './once.js';\nexport { default as orderBy } from './orderBy.js';\nexport { default as over } from './over.js';\nexport { default as overArgs } from './overArgs.js';\nexport { default as overEvery } from './overEvery.js';\nexport { default as overSome } from './overSome.js';\nexport { default as pad } from './pad.js';\nexport { default as padEnd } from './padEnd.js';\nexport { default as padStart } from './padStart.js';\nexport { default as parseInt } from './parseInt.js';\nexport { default as partial } from './partial.js';\nexport { default as partialRight } from './partialRight.js';\nexport { default as partition } from './partition.js';\nexport { default as pick } from './pick.js';\nexport { default as pickBy } from './pickBy.js';\nexport { default as plant } from './plant.js';\nexport { default as property } from './property.js';\nexport { default as propertyOf } from './propertyOf.js';\nexport { default as pull } from './pull.js';\nexport { default as pullAll } from './pullAll.js';\nexport { default as pullAllBy } from './pullAllBy.js';\nexport { default as pullAllWith } from './pullAllWith.js';\nexport { default as pullAt } from './pullAt.js';\nexport { default as random } from './random.js';\nexport { default as range } from './range.js';\nexport { default as rangeRight } from './rangeRight.js';\nexport { default as rearg } from './rearg.js';\nexport { default as reduce } from './reduce.js';\nexport { default as reduceRight } from './reduceRight.js';\nexport { default as reject } from './reject.js';\nexport { default as remove } from './remove.js';\nexport { default as repeat } from './repeat.js';\nexport { default as replace } from './replace.js';\nexport { default as rest } from './rest.js';\nexport { default as result } from './result.js';\nexport { default as reverse } from './reverse.js';\nexport { default as round } from './round.js';\nexport { default as sample } from './sample.js';\nexport { default as sampleSize } from './sampleSize.js';\nexport { default as set } from './set.js';\nexport { default as setWith } from './setWith.js';\nexport { default as shuffle } from './shuffle.js';\nexport { default as size } from './size.js';\nexport { default as slice } from './slice.js';\nexport { default as snakeCase } from './snakeCase.js';\nexport { default as some } from './some.js';\nexport { default as sortBy } from './sortBy.js';\nexport { default as sortedIndex } from './sortedIndex.js';\nexport { default as sortedIndexBy } from './sortedIndexBy.js';\nexport { default as sortedIndexOf } from './sortedIndexOf.js';\nexport { default as sortedLastIndex } from './sortedLastIndex.js';\nexport { default as sortedLastIndexBy } from './sortedLastIndexBy.js';\nexport { default as sortedLastIndexOf } from './sortedLastIndexOf.js';\nexport { default as sortedUniq } from './sortedUniq.js';\nexport { default as sortedUniqBy } from './sortedUniqBy.js';\nexport { default as split } from './split.js';\nexport { default as spread } from './spread.js';\nexport { default as startCase } from './startCase.js';\nexport { default as startsWith } from './startsWith.js';\nexport { default as stubArray } from './stubArray.js';\nexport { default as stubFalse } from './stubFalse.js';\nexport { default as stubObject } from './stubObject.js';\nexport { default as stubString } from './stubString.js';\nexport { default as stubTrue } from './stubTrue.js';\nexport { default as subtract } from './subtract.js';\nexport { default as sum } from './sum.js';\nexport { default as sumBy } from './sumBy.js';\nexport { default as tail } from './tail.js';\nexport { default as take } from './take.js';\nexport { default as takeRight } from './takeRight.js';\nexport { default as takeRightWhile } from './takeRightWhile.js';\nexport { default as takeWhile } from './takeWhile.js';\nexport { default as tap } from './tap.js';\nexport { default as template } from './template.js';\nexport { default as templateSettings } from './templateSettings.js';\nexport { default as throttle } from './throttle.js';\nexport { default as thru } from './thru.js';\nexport { default as times } from './times.js';\nexport { default as toArray } from './toArray.js';\nexport { default as toFinite } from './toFinite.js';\nexport { default as toInteger } from './toInteger.js';\nexport { default as toIterator } from './toIterator.js';\nexport { default as toJSON } from './toJSON.js';\nexport { default as toLength } from './toLength.js';\nexport { default as toLower } from './toLower.js';\nexport { default as toNumber } from './toNumber.js';\nexport { default as toPairs } from './toPairs.js';\nexport { default as toPairsIn } from './toPairsIn.js';\nexport { default as toPath } from './toPath.js';\nexport { default as toPlainObject } from './toPlainObject.js';\nexport { default as toSafeInteger } from './toSafeInteger.js';\nexport { default as toString } from './toString.js';\nexport { default as toUpper } from './toUpper.js';\nexport { default as transform } from './transform.js';\nexport { default as trim } from './trim.js';\nexport { default as trimEnd } from './trimEnd.js';\nexport { default as trimStart } from './trimStart.js';\nexport { default as truncate } from './truncate.js';\nexport { default as unary } from './unary.js';\nexport { default as unescape } from './unescape.js';\nexport { default as union } from './union.js';\nexport { default as unionBy } from './unionBy.js';\nexport { default as unionWith } from './unionWith.js';\nexport { default as uniq } from './uniq.js';\nexport { default as uniqBy } from './uniqBy.js';\nexport { default as uniqWith } from './uniqWith.js';\nexport { default as uniqueId } from './uniqueId.js';\nexport { default as unset } from './unset.js';\nexport { default as unzip } from './unzip.js';\nexport { default as unzipWith } from './unzipWith.js';\nexport { default as update } from './update.js';\nexport { default as updateWith } from './updateWith.js';\nexport { default as upperCase } from './upperCase.js';\nexport { default as upperFirst } from './upperFirst.js';\nexport { default as value } from './value.js';\nexport { default as valueOf } from './valueOf.js';\nexport { default as values } from './values.js';\nexport { default as valuesIn } from './valuesIn.js';\nexport { default as without } from './without.js';\nexport { default as words } from './words.js';\nexport { default as wrap } from './wrap.js';\nexport { default as wrapperAt } from './wrapperAt.js';\nexport { default as wrapperChain } from './wrapperChain.js';\nexport { default as wrapperCommit } from './commit.js';\nexport { default as wrapperLodash } from './wrapperLodash.js';\nexport { default as wrapperNext } from './next.js';\nexport { default as wrapperPlant } from './plant.js';\nexport { default as wrapperReverse } from './wrapperReverse.js';\nexport { default as wrapperToIterator } from './toIterator.js';\nexport { default as wrapperValue } from './wrapperValue.js';\nexport { default as xor } from './xor.js';\nexport { default as xorBy } from './xorBy.js';\nexport { default as xorWith } from './xorWith.js';\nexport { default as zip } from './zip.js';\nexport { default as zipObject } from './zipObject.js';\nexport { default as zipObjectDeep } from './zipObjectDeep.js';\nexport { default as zipWith } from './zipWith.js';\nexport { default as default } from './lodash.default';\n","import forEach from './forEach'\nimport { isObject } from 'lodash-es'\n\n/**\n  Event support.\n*/\nclass EventEmitter {\n\n  /**\n    Emit an event.\n\n    @param {String} event\n    @param ...arguments\n    @return true if a listener was notified, false otherwise.\n   */\n  emit(event) {\n    if (event in this.__events__) {\n      // console.log(\"Emitting event %s (%d listeners) on\", event, this.__events__[event].length, this)\n      // Clone the list of bindings so that handlers can remove or add handlers during the call.\n      var bindings = this.__events__[event].slice()\n      var args = Array.prototype.slice.call(arguments, 1)\n      for (var i = 0, len = bindings.length; i < len; i++) {\n        var binding = bindings[i]\n        // console.log(\"- triggering %s on %s\", event, binding.context.constructor.name)\n        binding.method.apply(binding.context, args)\n      }\n      return true\n    }\n    return false\n  }\n\n  /**\n    Subscribe a listener to an event.\n\n    Optionally, a `priority` can be provided to control the order\n    of all bindings. The default priority is 0. All listeners with the\n    same priority remain in order of registration.\n    A lower priority will make the listener be called later, a higher\n    priority earlier.\n\n    @param {String} event\n    @param {Function} method\n    @param {Object} context\n    @param {Object} options\n   */\n  on(event, method, context, options) {\n    var priority = 0\n    if (arguments.length === 4) {\n      priority = options.priority || priority\n    }\n    _on.call(this, event, method, context, priority)\n    this.__events__[event].sort(byPriorityDescending)\n  }\n\n  /**\n    Unsubscrive a listener from an event.\n\n    @param {String} event\n    @param {Function} method\n    @param {Object} context\n    @param {Object} options\n   */\n  off(event, method, context) { // eslint-disable-line no-unused-vars\n    if (arguments.length === 1 && isObject(arguments[0])) {\n      _disconnect.call(this, arguments[0])\n    } else {\n      _off.apply(this, arguments)\n    }\n  }\n\n  _debugEvents() {\n    /* eslint-disable no-console */\n    console.log('### EventEmitter: ', this)\n    forEach(this.__events__, function(handlers, name) {\n      console.log(\"- %s listeners for %s: \", handlers.length, name, handlers)\n    })\n    /* eslint-enable no-console */\n  }\n}\n\n// sort descending as a listener with higher priority should be\n// called earlier\nfunction byPriorityDescending(a, b) {\n  return b.priority - a.priority\n}\n\n/*\n  Internal implementation for registering a listener.\n\n  @param {String} event\n  @param {Function} method\n  @param {Object} context\n */\nfunction _on(event, method, context, priority) {\n  /* eslint-disable no-invalid-this */\n  var bindings\n  validateMethod( method, context )\n  if (this.__events__.hasOwnProperty(event)) {\n    bindings = this.__events__[event]\n  } else {\n    // Auto-initialize bindings list\n    bindings = this.__events__[event] = []\n  }\n  // Add binding\n  bindings.push({\n    method: method,\n    context: context || null,\n    priority: priority\n  })\n  return this\n  /*eslint-enable no-invalid-this */\n}\n\n/*\n  Remove a listener.\n\n  @param {String} event\n  @param {Function} method\n  @param {Object} context\n */\nfunction _off(event, method, context) {\n  /* eslint-disable no-invalid-this */\n  var i, bindings\n  if ( arguments.length === 1 ) {\n    // Remove all bindings for event\n    delete this.__events__[event]\n    return this\n  }\n  validateMethod( method, context )\n  if ( !( event in this.__events__ ) || !this.__events__[event].length ) {\n    // No matching bindings\n    return this\n  }\n  // Default to null context\n  if ( arguments.length < 3 ) {\n    context = null\n  }\n  // Remove matching handlers\n  bindings = this.__events__[event]\n  i = bindings.length\n  while ( i-- ) {\n    if ( bindings[i].method === method && bindings[i].context === context ) {\n      bindings.splice( i, 1 )\n    }\n  }\n  // Cleanup if now empty\n  if ( bindings.length === 0 ) {\n    delete this.__events__[event]\n  }\n  return this\n  /* eslint-enable no-invalid-this */\n}\n\n\n/**\n  Internal implementation of disconnect.\n */\nfunction _disconnect(context) {\n  /* eslint-disable no-invalid-this */\n  // Remove all connections to the context\n  forEach(this.__events__, function(bindings, event) {\n    for (var i = bindings.length-1; i>=0; i--) {\n      // bindings[i] may have been removed by the previous steps\n      // so check it still exists\n      if (bindings[i] && bindings[i].context === context) {\n        _off.call(this, event, bindings[i].method, context)\n      }\n    }\n  }.bind(this))\n  return this\n  /* eslint-enable no-invalid-this */\n}\n\nfunction validateMethod(method, context) {\n  // Validate method and context\n  if (typeof method === 'string') {\n    // Validate method\n    if (context === undefined || context === null) {\n      throw new Error( 'Method name \"' + method + '\" has no context.' )\n    }\n    if (!(method in context)) {\n      // Technically the method does not need to exist yet: it could be\n      // added before call time. But this probably signals a typo.\n      throw new Error( 'Method not found: \"' + method + '\"' )\n    }\n    if (typeof context[method] !== 'function') {\n      // Technically the property could be replaced by a function before\n      // call time. But this probably signals a typo.\n      throw new Error( 'Property \"' + method + '\" is not a function' )\n    }\n  } else if (typeof method !== 'function') {\n    throw new Error( 'Invalid callback. Function or method name expected.' )\n  }\n}\n\nconst __events__ = {\n  get: function () {\n    if (!this.___events___) {\n      this.___events___ = {}\n    }\n    return this.___events___\n  },\n  configurable: true,\n  enumerable: false\n}\n\nObject.defineProperty(EventEmitter.prototype, '__events__', __events__)\n\nEventEmitter.mixin = function(clazz) {\n  var properties = Object.getOwnPropertyNames(EventEmitter.prototype)\n  properties.forEach(function(name) {\n    if (name === 'constructor' || name === '__events__') return\n    clazz.prototype[name] = EventEmitter.prototype[name]\n  })\n  Object.defineProperty(clazz.prototype, '__events__', __events__)\n}\n\nexport default EventEmitter\n","/*\n  Custom error object for all Substance related errors\n\n  @example\n\n  ```js\n  import Err from 'substance/util/SubstanceError'\n  throw new Err('Document.SelectionUpdateError', {message: 'Could not update selection.'})\n  ```\n\n  For better inspection allows you to pass a cause (the error that caused the error).\n  That way we can attach context information on each level and we can also ensure\n  security, by not passing the cause-chain to the client.\n\n  Resources:\n    http://www.bennadel.com/blog/2828-creating-custom-error-objects-in-node-js-with-error-capturestacktrace.htm\n    https://gist.github.com/justmoon/15511f92e5216fa2624b\n    https://github.com/davepacheco/node-verror/blob/master/lib/verror.js\n*/\n\nclass SubstanceError extends Error {\n  constructor(name, options) {\n    super(name, options)\n    this.name = name\n    this.message = options.message\n    this.info = options.info\n    this.errorCode = options.errorCode\n    this.cause = options.cause\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, (SubstanceError))\n    }\n  }\n\n  inspect() {\n    var parts = []\n\n    // This gives us a full node.js error including error name + message + stack trace\n    parts.push(this.stack)\n\n    // We just print additional info here\n    if (this.info) {\n      parts.push(this.info + '. ')\n    }\n\n    // We also print the cause in the same way\n    if (this.cause) {\n      parts.push('\\nCaused by: ')\n\n      if (this.cause.inspect) {\n        // If cause is again a Substance error\n        parts.push(this.cause.inspect())\n      } else {\n        // If not we just use Error.toString\n        parts.push(this.cause.toString())\n      }\n    }\n    return parts.join('')\n  }\n}\n\n\nSubstanceError.fromJSON = function(err) {\n  if (!err) return null\n  var error = new SubstanceError(err.name, {\n    message: err.message,\n    info: err.info,\n    errorCode: err.errorCode,\n    cause: SubstanceError.fromJSON(err.cause)\n  })\n  return error\n}\n\nexport default SubstanceError","import EventEmitter from '../util/EventEmitter'\nimport Err from '../util/SubstanceError'\n\nlet __id__ = 0\n\n/**\n  ClientConnection abstraction. Uses websockets internally\n*/\nclass ClientConnection extends EventEmitter { \n  constructor(config) {\n    super()\n\n    this.__id__ = __id__++\n    this.config = config\n    this._onMessage = this._onMessage.bind(this)\n    this._onConnectionOpen = this._onConnectionOpen.bind(this)\n    this._onConnectionClose = this._onConnectionClose.bind(this)\n\n    // Establish websocket connection\n    this._connect()\n  }\n\n  _createWebSocket() {\n    throw Err('AbstractMethodError')\n  }\n\n  /*\n    Initializes a new websocket connection\n  */\n  _connect() {\n    this.ws = this._createWebSocket()\n    this.ws.addEventListener('open', this._onConnectionOpen)\n    this.ws.addEventListener('close', this._onConnectionClose)\n    this.ws.addEventListener('message', this._onMessage)\n  }\n\n  /*\n    Disposes the current websocket connection\n  */\n  _disconnect() {\n    this.ws.removeEventListener('message', this._onMessage)\n    this.ws.removeEventListener('open', this._onConnectionOpen)\n    this.ws.removeEventListener('close', this._onConnectionClose)\n    this.ws = null\n  }\n\n  /*\n    Emits open event when connection has been established\n  */\n  _onConnectionOpen() {\n    this.emit('open')\n  }\n\n  /*\n    Trigger reconnect on connection close\n  */\n  _onConnectionClose() {\n    this._disconnect()\n    this.emit('close')\n    console.info('websocket connection closed. Attempting to reconnect in 5s.')\n    setTimeout(function() {\n      this._connect()\n    }.bind(this), 5000)\n  }\n\n  /*\n    Delegate incoming websocket messages\n  */\n  _onMessage(msg) {\n    msg = this.deserializeMessage(msg.data)\n    this.emit('message', msg)\n  }\n\n  /*\n    Send message via websocket channel\n  */\n  send(msg) {\n    if (!this.isOpen()) {\n      console.warn('Message could not be sent. Connection is not open.', msg)\n      return\n    }\n    this.ws.send(this.serializeMessage(msg))\n  }\n\n  /*\n    Returns true if websocket connection is open\n  */\n  isOpen() {\n    return this.ws && this.ws.readyState === 1\n  }\n\n  serializeMessage(msg) {\n    return JSON.stringify(msg)\n  }\n\n  deserializeMessage(msg) {\n    return JSON.parse(msg)\n  }\n\n}\n\nexport default ClientConnection\n","import EventEmitter from '../util/EventEmitter'\nlet __id__ = 0\n\n/**\n  Client for CollabServer API\n\n  Communicates via websocket for real-time operations\n*/\nclass CollabClient extends EventEmitter {\n  constructor(config) {\n    super()\n\n    this.__id__ = __id__++\n    this.config = config\n    this.connection = config.connection\n\n    // Hard-coded for now\n    this.scope = 'substance/collab'\n\n    // Bind handlers\n    this._onMessage = this._onMessage.bind(this)\n    this._onConnectionOpen = this._onConnectionOpen.bind(this)\n    this._onConnectionClose = this._onConnectionClose.bind(this)\n\n    // Connect handlers\n    this.connection.on('open', this._onConnectionOpen)\n    this.connection.on('close', this._onConnectionClose)\n    this.connection.on('message', this._onMessage)\n  }\n\n  _onConnectionClose() {\n    this.emit('disconnected')\n  }\n\n  _onConnectionOpen() {\n    this.emit('connected')\n  }\n\n  /*\n    Delegate incoming messages from the connection\n  */\n  _onMessage(msg) {\n    if (msg.scope === this.scope) {\n      this.emit('message', msg);\n    } else if (msg.scope !== '_internal') {\n      console.info('Message ignored. Not sent in hub scope', msg);\n    }\n  }\n\n  /*\n    Send message via websocket channel\n  */\n  send(msg) {\n    if (!this.connection.isOpen()) {\n      console.warn('Message could not be sent. Connection not open.', msg)\n      return\n    }\n\n    msg.scope = this.scope;\n    if (this.config.enhanceMessage) {\n      msg = this.config.enhanceMessage(msg)\n    }\n    this.connection.send(msg)\n  }\n\n  /*\n    Returns true if websocket connection is open\n  */\n  isConnected() {\n    return this.connection.isOpen()\n  }\n\n  dispose() {\n    this.connection.off(this)\n  }\n}\n\nexport default CollabClient\n","export default function map(iteratee, func) {\n  if (!iteratee) return []\n  if (!func) func = function(item) { return item }\n  if (Array.isArray(iteratee)) {\n    return iteratee.map(func)\n  } else if (typeof iteratee.length !== 'undefined') {\n    let l = iteratee.length\n    let result = []\n    for (var i = 0; i < l; i++) {\n      result.push(func(iteratee[i], i))\n    }\n    return result\n  } else {\n    return Object.keys(iteratee).map(function(key) {\n      return func(iteratee[key], key)\n    })\n  }\n}\n","export default function isArray(a) {\n  return Array.isArray(a)\n}","/*!\nMath.uuid.js (v1.4)\nhttp://www.broofa.com\nmailto:robert@broofa.com\nCopyright (c) 2010 Robert Kieffer\nDual licensed under the MIT and GPL licenses.\n*/\n\n/**\n * Generates a unique id.\n *\n * @param {String} [prefix] if provided the UUID will be prefixed.\n * @param {Number} [len] if provided a UUID with given length will be created.\n * @return A generated uuid.\n */\nfunction uuid(prefix, len) {\n  if (prefix && prefix[prefix.length-1] !== \"-\") {\n    prefix = prefix.concat(\"-\");\n  }\n  var chars = '0123456789abcdefghijklmnopqrstuvwxyz'.split('');\n  var uuid = [];\n  var radix = 16;\n  var idx;\n  len = len || 32;\n  if (len) {\n    // Compact form\n    for (idx = 0; idx < len; idx++) uuid[idx] = chars[0 | Math.random()*radix];\n  } else {\n    // rfc4122, version 4 form\n    var r;\n    // rfc4122 requires these characters\n    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';\n    uuid[14] = '4';\n    // Fill in random data.  At i==19 set the high bits of clock sequence as\n    // per rfc4122, sec. 4.1.5\n    for (idx = 0; idx < 36; idx++) {\n      if (!uuid[idx]) {\n        r = 0 | Math.random()*16;\n        uuid[idx] = chars[(idx === 19) ? (r & 0x3) | 0x8 : r];\n      }\n    }\n  }\n  return (prefix ? prefix : \"\") + uuid.join('');\n}\n\nexport default uuid;","export default function isNumber(n) {\n  return typeof n === 'number'\n}","export default function isString(s) {\n  return typeof s === 'string'\n}","import isString from '../../util/isString'\nimport isArray from '../../util/isArray'\nimport { get, setWith, unset } from 'lodash-es'\n\n/*\n  An object that can be access via path API.\n\n  @example\n\n  var obj = new DataObject({a: \"aVal\", b: {b1: 'b1Val', b2: 'b2Val'}})\n*/\n\nclass DataObject {\n\n  /*\n    @param {object} [root] An object to operate on\n  */\n  constructor(root) {\n    if (root) {\n      this.__root__ = root\n    }\n  }\n\n  contains(id) {\n    return Boolean(this.getRoot()[id])\n  }\n\n  getRoot() {\n    if (this.__root__) {\n      return this.__root__\n    } else {\n      return this\n    }\n  }\n\n  /**\n    Get value at path\n\n    @return {object} The value stored for a given path\n\n    @example\n\n    obj.get(['b', 'b1'])\n    => b1Val\n  */\n  get(path) {\n    if (!path) {\n      return undefined\n    }\n    if (isString(path)) {\n      return this.getRoot()[path]\n    }\n    if (arguments.length > 1) {\n      path = Array.prototype.slice(arguments, 0)\n    }\n    if (!isArray(path)) {\n      throw new Error('Illegal argument for DataObject.get()')\n    }\n    return get(this.getRoot(), path)\n  }\n\n  set(path, value) {\n    if (!path) {\n      throw new Error('Illegal argument: DataObject.set(>path<, value) - path is mandatory.')\n    }\n    if (isString(path)) {\n      this.getRoot()[path] = value\n    } else {\n      setWith(this.getRoot(), path, value)\n    }\n  }\n\n  delete(path) {\n    if (isString(path)) {\n      delete this.getRoot()[path]\n    } else if (path.length === 1) {\n      delete this.getRoot()[path[0]]\n    } else {\n      var success = unset(this.getRoot(), path)\n      if (!success) {\n        throw new Error('Could not delete property at path' + path)\n      }\n    }\n  }\n\n  clear() {\n    var root = this.getRoot()\n    for (var key in root) {\n      if (root.hasOwnProperty(key)) {\n        delete root[key]\n      }\n    }\n  }\n\n}\n\nDataObject.prototype._isDataObject = true\n\nexport default DataObject\n","class Conflict extends Error {\n  constructor(a, b) {\n    super(\"Conflict: \" + JSON.stringify(a) +\" vs \" + JSON.stringify(b))\n    this.a = a;\n    this.b = b;\n  }\n}\n\nexport default Conflict;\n","import isString from '../../util/isString'\nimport isNumber from '../../util/isNumber'\nimport Conflict from './Conflict'\n\nvar INSERT = \"insert\"\nvar DELETE = \"delete\"\n\nclass TextOperation {\n\n  constructor(data) {\n    if (!data || data.type === undefined || data.pos === undefined || data.str === undefined) {\n      throw new Error(\"Illegal argument: insufficient data.\")\n    }\n    // 'insert' or 'delete'\n    this.type = data.type\n    // the position where to apply the operation\n    this.pos = data.pos\n    // the string to delete or insert\n    this.str = data.str\n    // sanity checks\n    if(!this.isInsert() && !this.isDelete()) {\n      throw new Error(\"Illegal type.\")\n    }\n    if (!isString(this.str)) {\n      throw new Error(\"Illegal argument: expecting string.\")\n    }\n    if (!isNumber(this.pos) || this.pos < 0) {\n      throw new Error(\"Illegal argument: expecting positive number as pos.\")\n    }\n  }\n\n  apply(str) {\n    if (this.isEmpty()) return str\n    if (this.type === INSERT) {\n      if (str.length < this.pos) {\n        throw new Error(\"Provided string is too short.\")\n      }\n      if (str.splice) {\n        return str.splice(this.pos, 0, this.str)\n      } else {\n        return str.slice(0, this.pos).concat(this.str).concat(str.slice(this.pos))\n      }\n    }\n    else /* if (this.type === DELETE) */ {\n      if (str.length < this.pos + this.str.length) {\n        throw new Error(\"Provided string is too short.\")\n      }\n      if (str.splice) {\n        return str.splice(this.pos, this.str.length)\n      } else {\n        return str.slice(0, this.pos).concat(str.slice(this.pos + this.str.length))\n      }\n    }\n  }\n\n  clone() {\n    return new TextOperation(this)\n  }\n\n  isNOP() {\n    return this.type === \"NOP\" || this.str.length === 0\n  }\n\n  isInsert() {\n    return this.type === INSERT\n  }\n\n  isDelete() {\n    return this.type === DELETE\n  }\n\n  getLength() {\n    return this.str.length\n  }\n\n  invert() {\n    var data = {\n      type: this.isInsert() ? DELETE : INSERT,\n      pos: this.pos,\n      str: this.str\n    }\n    return new TextOperation(data)\n  }\n\n  hasConflict(other) {\n    return hasConflict(this, other)\n  }\n\n  isEmpty() {\n    return this.str.length === 0\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      pos: this.pos,\n      str: this.str\n    }\n  }\n\n  toString() {\n    return [\"(\", (this.isInsert() ? INSERT : DELETE), \",\", this.pos, \",'\", this.str, \"')\"].join('')\n  }\n}\n\nTextOperation.prototype._isOperation = true\nTextOperation.prototype._isTextOperation = true\n\nfunction hasConflict(a, b) {\n  // Insert vs Insert:\n  //\n  // Insertions are conflicting iff their insert position is the same.\n  if (a.type === INSERT && b.type === INSERT) return (a.pos === b.pos)\n  // Delete vs Delete:\n  //\n  // Deletions are conflicting if their ranges overlap.\n  if (a.type === DELETE && b.type === DELETE) {\n    // to have no conflict, either `a` should be after `b` or `b` after `a`, otherwise.\n    return !(a.pos >= b.pos + b.str.length || b.pos >= a.pos + a.str.length)\n  }\n  // Delete vs Insert:\n  //\n  // A deletion and an insertion are conflicting if the insert position is within the deleted range.\n  var del, ins\n  if (a.type === DELETE) {\n    del = a; ins = b\n  } else {\n    del = b; ins = a\n  }\n  return (ins.pos >= del.pos && ins.pos < del.pos + del.str.length)\n}\n\n// Transforms two Insertions\n// --------\n\nfunction transform_insert_insert(a, b) {\n  if (a.pos === b.pos) {\n    b.pos += a.str.length\n  }\n  else if (a.pos < b.pos) {\n    b.pos += a.str.length\n  }\n  else {\n    a.pos += b.str.length\n  }\n}\n\n// Transform two Deletions\n// --------\n//\n\nfunction transform_delete_delete(a, b, first) {\n  // reduce to a normalized case\n  if (a.pos > b.pos) {\n    return transform_delete_delete(b, a, !first)\n  }\n  if (a.pos === b.pos && a.str.length > b.str.length) {\n    return transform_delete_delete(b, a, !first)\n  }\n  // take out overlapping parts\n  if (b.pos < a.pos + a.str.length) {\n    var s = b.pos - a.pos\n    var s1 = a.str.length - s\n    var s2 = s + b.str.length\n    a.str = a.str.slice(0, s) + a.str.slice(s2)\n    b.str = b.str.slice(s1)\n    b.pos -= s\n  } else {\n    b.pos -= a.str.length\n  }\n}\n\n// Transform Insert and Deletion\n// --------\n//\n\nfunction transform_insert_delete(a, b) {\n  if (a.type === DELETE) {\n    return transform_insert_delete(b, a)\n  }\n  // we can assume, that a is an insertion and b is a deletion\n  // a is before b\n  if (a.pos <= b.pos) {\n    b.pos += a.str.length\n  }\n  // a is after b\n  else if (a.pos >= b.pos + b.str.length) {\n    a.pos -= b.str.length\n  }\n  // Note: this is a conflict case the user should be noticed about\n  // If applied still, the deletion takes precedence\n  // a.pos > b.pos && <= b.pos + b.length\n  else {\n    var s = a.pos - b.pos\n    b.str = b.str.slice(0, s) + a.str + b.str.slice(s)\n    a.str = \"\"\n  }\n}\n\nvar transform = function(a, b, options) {\n  options = options || {}\n  if (options[\"no-conflict\"] && hasConflict(a, b)) {\n    throw new Conflict(a, b)\n  }\n  if (!options.inplace) {\n    a = a.clone()\n    b = b.clone()\n  }\n  if (a.type === INSERT && b.type === INSERT) {\n    transform_insert_insert(a, b)\n  }\n  else if (a.type === DELETE && b.type === DELETE) {\n    transform_delete_delete(a, b, true)\n  }\n  else {\n    transform_insert_delete(a,b)\n  }\n  return [a, b]\n}\n\nTextOperation.transform = function() {\n  return transform.apply(null, arguments)\n}\n\n/* Factories */\n\nTextOperation.Insert = function(pos, str) {\n  return new TextOperation({ type: INSERT, pos: pos, str: str })\n}\n\nTextOperation.Delete = function(pos, str) {\n  return new TextOperation({ type: DELETE, pos: pos, str: str })\n}\n\nTextOperation.INSERT = INSERT\nTextOperation.DELETE = DELETE\n\nTextOperation.fromJSON = function(data) {\n  return new TextOperation(data)\n}\n\nexport default TextOperation\n","import { isEqual, cloneDeep } from 'lodash-es'\nimport isNumber from '../../util/isNumber'\nimport Conflict from './Conflict'\n\nvar NOP = \"NOP\"\nvar DELETE = \"delete\"\nvar INSERT = \"insert\"\n\n/*\n  @class\n  @extends Operation\n*/\nclass ArrayOperation {\n  constructor(data) {\n    if (!data || !data.type) {\n      throw new Error(\"Illegal argument: insufficient data.\")\n    }\n    this.type = data.type\n    if (this.type === NOP) return\n\n    if (this.type !== INSERT && this.type !== DELETE) {\n      throw new Error(\"Illegal type.\")\n    }\n    // the position where to apply the operation\n    this.pos = data.pos\n    // the value to insert or delete\n    this.val = data.val\n    if (!isNumber(this.pos) || this.pos < 0) {\n      throw new Error(\"Illegal argument: expecting positive number as pos.\")\n    }\n  }\n\n  apply(array) {\n    if (this.type === NOP) {\n      return array\n    }\n    if (this.type === INSERT) {\n      if (array.length < this.pos) {\n        throw new Error(\"Provided array is too small.\")\n      }\n      array.splice(this.pos, 0, this.val)\n      return array\n    }\n    // Delete\n    else /* if (this.type === DELETE) */ {\n      if (array.length < this.pos) {\n        throw new Error(\"Provided array is too small.\")\n      }\n      if (!isEqual(array[this.pos], this.val)) {\n        throw Error(\"Unexpected value at position \" + this.pos + \". Expected \" + this.val + \", found \" + array[this.pos])\n      }\n      array.splice(this.pos, 1)\n      return array\n    }\n  }\n\n  clone() {\n    var data = {\n      type: this.type,\n      pos: this.pos,\n      val: cloneDeep(this.val)\n    }\n    return new ArrayOperation(data)\n  }\n\n  invert() {\n    var data = this.toJSON()\n    if (this.type === NOP) data.type = NOP\n    else if (this.type === INSERT) data.type = DELETE\n    else /* if (this.type === DELETE) */ data.type = INSERT\n    return new ArrayOperation(data)\n  }\n\n  hasConflict(other) {\n    return ArrayOperation.hasConflict(this, other)\n  }\n\n  toJSON() {\n    var result = {\n      type: this.type,\n    }\n    if (this.type === NOP) return result\n    result.pos = this.pos\n    result.val = cloneDeep(this.val)\n    return result\n  }\n\n  isInsert() {\n    return this.type === INSERT\n  }\n\n  isDelete() {\n    return this.type === DELETE\n  }\n\n  getOffset() {\n    return this.pos\n  }\n\n  getValue() {\n    return this.val\n  }\n\n  isNOP() {\n    return this.type === NOP\n  }\n\n  toString() {\n    return [\"(\", (this.isInsert() ? INSERT : DELETE), \",\", this.getOffset(), \",'\", this.getValue(), \"')\"].join('')\n  }\n}\n\nArrayOperation.prototype._isOperation = true\nArrayOperation.prototype._isArrayOperation = true\n\nvar hasConflict = function(a, b) {\n  if (a.type === NOP || b.type === NOP) return false\n  if (a.type === INSERT && b.type === INSERT) {\n    return a.pos === b.pos\n  } else {\n    return false\n  }\n}\n\nfunction transform_insert_insert(a, b) {\n  if (a.pos === b.pos) {\n    b.pos += 1\n  }\n  // a before b\n  else if (a.pos < b.pos) {\n    b.pos += 1\n  }\n  // a after b\n  else {\n    a.pos += 1\n  }\n}\n\nfunction transform_delete_delete(a, b) {\n  // turn the second of two concurrent deletes into a NOP\n  if (a.pos === b.pos) {\n    b.type = NOP\n    a.type = NOP\n    return\n  }\n  if (a.pos < b.pos) {\n    b.pos -= 1\n  } else {\n    a.pos -= 1\n  }\n}\n\nfunction transform_insert_delete(a, b) {\n  // reduce to a normalized case\n  if (a.type === DELETE) {\n    var tmp = a\n    a = b\n    b = tmp\n  }\n  if (a.pos <= b.pos) {\n    b.pos += 1\n  } else {\n    a.pos -= 1\n  }\n}\n\nvar transform = function(a, b, options) {\n  options = options || {}\n  // enable conflicts when you want to notify the user of potential problems\n  // Note that even in these cases, there is a defined result.\n  if (options['no-conflict'] && hasConflict(a, b)) {\n    throw new Conflict(a, b)\n  }\n  // this is used internally only as optimization, e.g., when rebasing an operation\n  if (!options.inplace) {\n    a = a.clone()\n    b = b.clone()\n  }\n  if (a.type === NOP || b.type === NOP) {\n    // nothing to transform\n  }\n  else if (a.type === INSERT && b.type === INSERT) {\n    transform_insert_insert(a, b)\n  }\n  else if (a.type === DELETE && b.type === DELETE) {\n    transform_delete_delete(a, b)\n  }\n  else {\n    transform_insert_delete(a, b)\n  }\n  return [a, b]\n}\n\nArrayOperation.transform = transform\nArrayOperation.hasConflict = hasConflict\n\n/* Factories */\n\nArrayOperation.Insert = function(pos, val) {\n  return new ArrayOperation({type:INSERT, pos: pos, val: val})\n}\n\nArrayOperation.Delete = function(pos, val) {\n  return new ArrayOperation({ type:DELETE, pos: pos, val: val })\n}\n\nArrayOperation.fromJSON = function(data) {\n  return new ArrayOperation(data)\n}\n\nArrayOperation.NOP = NOP\nArrayOperation.DELETE = DELETE\nArrayOperation.INSERT = INSERT\n\n// Export\n// ========\n\nexport default ArrayOperation\n","import isNumber from '../../util/isNumber'\n\nconst SHIFT = 'shift'\n\nclass CoordinateOperation {\n\n  constructor(data) {\n    if (!data || data.type === undefined) {\n      throw new Error(\"Illegal argument: insufficient data.\")\n    }\n    // 'shift'\n    this.type = data.type\n    // the position where to apply the operation\n    this.val = data.val\n    // sanity checks\n    if(!this.isShift()) {\n      throw new Error(\"Illegal type.\")\n    }\n    if (!isNumber(this.val)) {\n      throw new Error(\"Illegal argument: expecting number as shift value.\")\n    }\n  }\n\n  apply(coor) {\n    coor.offset = coor.offset + this.val\n  }\n\n  isShift() {\n    return this.type === SHIFT\n  }\n\n  clone() {\n    return new CoordinateOperation(this)\n  }\n\n  invert() {\n    let data\n    switch (this.type) {\n      case SHIFT:\n        data = {\n          type: SHIFT,\n          val: -this.val\n        }\n        break\n      default:\n        throw new Error('Invalid type.')\n    }\n    return new CoordinateOperation(data)\n  }\n\n  hasConflict() {\n    // TODO: support conflict detection?\n    return false\n  }\n\n  toJSON() {\n    return {\n      type: this.type,\n      val: this.val\n    }\n  }\n\n  toString() {\n    return [\"(\", (this.type), \",\", this.val, \"')\"].join('')\n  }\n\n}\n\nCoordinateOperation.prototype._isOperation = true\nCoordinateOperation.prototype._isCoordinateOperation = true\n\nfunction transform_shift_shift(a, b) {\n  a.val += b.val\n  b.val += a.val\n}\n\nfunction transform(a, b, options) {\n  options = options || {}\n  // TODO: support conflict detection?\n  if (!options.inplace) {\n    a = a.clone()\n    b = b.clone()\n  }\n  if (a.type === SHIFT && b.type === SHIFT) {\n    transform_shift_shift(a, b)\n  }\n  else {\n    throw new Error('Illegal type')\n  }\n  return [a, b]\n}\n\nCoordinateOperation.transform = function(...args) {\n  return transform(...args)\n}\n\nCoordinateOperation.fromJSON = function(json) {\n  return new CoordinateOperation(json)\n}\n\nCoordinateOperation.Shift = function(val) {\n  return new CoordinateOperation({\n    type: SHIFT,\n    val: val\n  })\n}\n\nexport default CoordinateOperation\n","import isString from '../../util/isString'\nimport { isEqual, cloneDeep } from 'lodash-es'\nimport DataObject from './DataObject'\nimport TextOperation from './TextOperation'\nimport ArrayOperation from './ArrayOperation'\nimport CoordinateOperation from './CoordinateOperation'\nimport Conflict from './Conflict'\n\nvar NOP = \"NOP\"\nvar CREATE = \"create\"\nvar DELETE = 'delete'\nvar UPDATE = 'update'\nvar SET = 'set'\n\nclass ObjectOperation {\n\n  constructor(data) {\n    if (!data) {\n      throw new Error('Data of ObjectOperation is missing.')\n    }\n    if (!data.type) {\n      throw new Error('Invalid data: type is mandatory.')\n    }\n    this.type = data.type\n    if (data.type === NOP) {\n      return\n    }\n    this.path = data.path\n    if (!data.path) {\n      throw new Error('Invalid data: path is mandatory.')\n    }\n    if (this.type === CREATE || this.type === DELETE) {\n      if (!data.val) {\n        throw new Error('Invalid data: value is missing.')\n      }\n      this.val = data.val\n    }\n    else if (this.type === UPDATE) {\n      if (data.diff) {\n        this.diff = data.diff\n        if (data.diff._isTextOperation) {\n          this.propertyType = 'string'\n        } else if (data.diff._isArrayOperation) {\n          this.propertyType = 'array'\n        } else if (data.diff._isCoordinateOperation) {\n          this.propertyType = 'coordinate'\n        } else {\n          throw new Error('Invalid data: diff must be a TextOperation or an ArrayOperation.')\n        }\n      } else {\n        throw new Error(\"Invalid data: diff is mandatory for update operation.\")\n      }\n    }\n    else if (this.type === SET) {\n      this.val = data.val\n      this.original = data.original\n    } else {\n      throw new Error('Invalid type: '+ data.type)\n    }\n  }\n\n  apply(obj) {\n    if (this.type === NOP) return obj\n    var adapter\n    if (obj._isDataObject) {\n      adapter = obj\n    } else {\n      adapter = new DataObject(obj)\n    }\n    if (this.type === CREATE) {\n      adapter.set(this.path, cloneDeep(this.val))\n      return obj\n    }\n    if (this.type === DELETE) {\n      adapter.delete(this.path, \"strict\")\n    }\n    else if (this.type === UPDATE) {\n      var diff = this.diff\n      var oldVal = adapter.get(this.path)\n      var newVal = diff.apply(oldVal)\n      // some ops work inplace, others create a new value\n      // for the latter, we must set the new value\n      if (oldVal !== newVal) {\n        adapter.set(this.path, newVal)\n      }\n    }\n    else /* if (this.type === SET) */ {\n      // clone here as the operations value must not be changed\n      adapter.set(this.path, cloneDeep(this.val))\n    }\n    return obj\n  }\n\n  clone() {\n    var data = {\n      type: this.type,\n      path: this.path,\n    }\n    if (this.val) {\n      data.val = cloneDeep(this.val)\n    }\n    if (this.diff) {\n      data.diff = this.diff.clone()\n    }\n    return new ObjectOperation(data)\n  }\n\n  isNOP() {\n    if (this.type === NOP) return true\n    else if (this.type === UPDATE) return this.diff.isNOP()\n  }\n\n  isCreate() {\n    return this.type === CREATE\n  }\n\n  isDelete() {\n    return this.type === DELETE\n  }\n\n  isUpdate(propertyType) {\n    if (propertyType) {\n      return (this.type === UPDATE && this.propertyType === propertyType)\n    } else {\n      return this.type === UPDATE\n    }\n  }\n\n  isSet() {\n    return this.type === SET\n  }\n\n  invert() {\n    if (this.type === NOP) {\n      return new ObjectOperation({ type: NOP })\n    }\n    var result = new ObjectOperation(this)\n    if (this.type === CREATE) {\n      result.type = DELETE\n    }\n    else if (this.type === DELETE) {\n      result.type = CREATE\n    }\n    else if (this.type === UPDATE) {\n      var invertedDiff\n      if (this.diff._isTextOperation) {\n        invertedDiff = TextOperation.fromJSON(this.diff.toJSON()).invert()\n      } else if (this.diff._isArrayOperation) {\n        invertedDiff = ArrayOperation.fromJSON(this.diff.toJSON()).invert()\n      } else if (this.diff._isCoordinateOperation) {\n        invertedDiff = CoordinateOperation.fromJSON(this.diff.toJSON()).invert()\n      } else {\n        throw new Error('Illegal type')\n      }\n      result.diff = invertedDiff\n    }\n    else /* if (this.type === SET) */ {\n      result.val = this.original\n      result.original = this.val\n    }\n    return result\n  }\n\n  hasConflict(other) {\n    return ObjectOperation.hasConflict(this, other)\n  }\n\n  toJSON() {\n    if (this.type === NOP) {\n      return { type: NOP }\n    }\n    var data = {\n      type: this.type,\n      path: this.path,\n    }\n    if (this.type === CREATE || this.type === DELETE) {\n      data.val = this.val\n    }\n    else if (this.type === UPDATE) {\n      if (this.diff._isArrayOperation) {\n        data.propertyType = \"array\"\n      } else /* if (this.diff._isTextOperation) */ {\n        data.propertyType = \"string\"\n      }\n      data.diff = this.diff.toJSON()\n    }\n    else /* if (this.type === SET) */ {\n      data.val = this.val\n      data.original = this.original\n    }\n    return data\n  }\n\n  getType() {\n    return this.type\n  }\n\n  getPath() {\n    return this.path\n  }\n\n  getValue() {\n    return this.val\n  }\n\n  getOldValue() {\n    return this.original\n  }\n\n  getValueOp() {\n    return this.diff\n  }\n\n  toString() {\n    switch (this.type) {\n      case CREATE:\n        return [\"(+,\", JSON.stringify(this.path), JSON.stringify(this.val), \")\"].join('')\n      case DELETE:\n        return [\"(-,\", JSON.stringify(this.path), JSON.stringify(this.val), \")\"].join('')\n      case UPDATE:\n        return [\"(>>,\", JSON.stringify(this.path), this.propertyType, this.diff.toString(), \")\"].join('')\n      case SET:\n        return [\"(=,\", JSON.stringify(this.path), this.val, this.original, \")\"].join('')\n      case NOP:\n        return \"NOP\"\n      default:\n        throw new Error('Invalid type')\n    }\n  }\n}\n\nObjectOperation.prototype._isOperation = true\nObjectOperation.prototype._isObjectOperation = true\n\n/* Low level implementation */\n\nvar hasConflict = function(a, b) {\n  if (a.type === NOP || b.type === NOP) return false\n  return isEqual(a.path, b.path)\n}\n\nvar transform_delete_delete = function(a, b) {\n  // both operations have the same effect.\n  // the transformed operations are turned into NOPs\n  a.type = NOP\n  b.type = NOP\n}\n\nvar transform_create_create = function() {\n  throw new Error(\"Can not transform two concurring creates of the same property\")\n}\n\nvar transform_delete_create = function() {\n  throw new Error('Illegal state: can not create and delete a value at the same time.')\n}\n\nvar transform_delete_update = function(a, b, flipped) {\n  if (a.type !== DELETE) {\n    return transform_delete_update(b, a, true)\n  }\n  var op\n  switch (b.propertyType) {\n    case 'string':\n      op = TextOperation.fromJSON(b.diff)\n      break\n    case 'array':\n      op = ArrayOperation.fromJSON(b.diff)\n      break\n    case 'coordinate':\n      op = CoordinateOperation.fromJSON(b.diff)\n      break\n    default:\n      throw new Error('Illegal type')\n  }\n  // (DELETE, UPDATE) is transformed into (DELETE, CREATE)\n  if (!flipped) {\n    a.type = NOP\n    b.type = CREATE\n    b.val = op.apply(a.val)\n  }\n  // (UPDATE, DELETE): the delete is updated to delete the updated value\n  else {\n    a.val = op.apply(a.val)\n    b.type = NOP\n  }\n}\n\nvar transform_create_update = function() {\n  // it is not possible to reasonably transform this.\n  throw new Error(\"Can not transform a concurring create and update of the same property\")\n}\n\nvar transform_update_update = function(a, b) {\n  // Note: this is a conflict the user should know about\n  var op_a, op_b, t\n  switch(b.propertyType) {\n    case 'string':\n      op_a = TextOperation.fromJSON(a.diff)\n      op_b = TextOperation.fromJSON(b.diff)\n      t = TextOperation.transform(op_a, op_b, {inplace: true})\n      break\n    case 'array':\n      op_a = ArrayOperation.fromJSON(a.diff)\n      op_b = ArrayOperation.fromJSON(b.diff)\n      t = ArrayOperation.transform(op_a, op_b, {inplace: true})\n      break\n    case 'coordinate':\n      op_a = CoordinateOperation.fromJSON(a.diff)\n      op_b = CoordinateOperation.fromJSON(b.diff)\n      t = CoordinateOperation.transform(op_a, op_b, {inplace: true})\n      break\n    default:\n      throw new Error('Illegal type')\n  }\n  a.diff = t[0]\n  b.diff = t[1]\n}\n\nvar transform_create_set = function() {\n  throw new Error('Illegal state: can not create and set a value at the same time.')\n}\n\nvar transform_delete_set = function(a, b, flipped) {\n  if (a.type !== DELETE) return transform_delete_set(b, a, true)\n  if (!flipped) {\n    a.type = NOP\n    b.type = CREATE\n    b.original = undefined\n  } else {\n    a.val = b.val\n    b.type = NOP\n  }\n}\n\nvar transform_update_set = function() {\n  throw new Error(\"Unresolvable conflict: update + set.\")\n}\n\nvar transform_set_set = function(a, b) {\n  a.type = NOP\n  b.original = a.val\n}\n\nvar _NOP = 0\nvar _CREATE = 1\nvar _DELETE = 2\nvar _UPDATE = 4\nvar _SET = 8\n\nvar CODE = {}\nCODE[NOP] =_NOP\nCODE[CREATE] = _CREATE\nCODE[DELETE] = _DELETE\nCODE[UPDATE] = _UPDATE\nCODE[SET] = _SET\n\n/* eslint-disable no-multi-spaces */\nvar __transform__ = []\n__transform__[_DELETE | _DELETE] = transform_delete_delete\n__transform__[_DELETE | _CREATE] = transform_delete_create\n__transform__[_DELETE | _UPDATE] = transform_delete_update\n__transform__[_CREATE | _CREATE] = transform_create_create\n__transform__[_CREATE | _UPDATE] = transform_create_update\n__transform__[_UPDATE | _UPDATE] = transform_update_update\n__transform__[_CREATE | _SET   ] = transform_create_set\n__transform__[_DELETE | _SET   ] = transform_delete_set\n__transform__[_UPDATE | _SET   ] = transform_update_set\n__transform__[_SET    | _SET   ] = transform_set_set\n/* eslint-enable no-multi-spaces */\n\nvar transform = function(a, b, options) {\n  options = options || {}\n  if (options['no-conflict'] && hasConflict(a, b)) {\n    throw new Conflict(a, b)\n  }\n  if (!options.inplace) {\n    a = a.clone()\n    b = b.clone()\n  }\n  if (a.isNOP() || b.isNOP()) {\n    return [a, b]\n  }\n  var sameProp = isEqual(a.path, b.path)\n  // without conflict: a' = a, b' = b\n  if (sameProp) {\n    __transform__[CODE[a.type] | CODE[b.type]](a,b)\n  }\n  return [a, b]\n}\n\nObjectOperation.transform = transform\nObjectOperation.hasConflict = hasConflict\n\n/* Factories */\n\nObjectOperation.Create = function(idOrPath, val) {\n  var path\n  if (isString(idOrPath)) {\n    path = [idOrPath]\n  } else {\n    path = idOrPath\n  }\n  return new ObjectOperation({type: CREATE, path: path, val: val})\n}\n\nObjectOperation.Delete = function(idOrPath, val) {\n  var path\n  if (isString(idOrPath)) {\n    path = [idOrPath]\n  } else {\n    path = idOrPath\n  }\n  return new ObjectOperation({type: DELETE, path: path, val: val})\n}\n\nObjectOperation.Update = function(path, op) {\n  return new ObjectOperation({\n    type: UPDATE,\n    path: path,\n    diff: op\n  })\n}\n\nObjectOperation.Set = function(path, oldVal, newVal) {\n  return new ObjectOperation({\n    type: SET,\n    path: path,\n    val: cloneDeep(newVal),\n    original: cloneDeep(oldVal)\n  })\n}\n\nObjectOperation.fromJSON = function(data) {\n  data = cloneDeep(data)\n  if (data.type === \"update\") {\n    switch (data.propertyType) {\n      case \"string\":\n        data.diff = TextOperation.fromJSON(data.diff)\n        break\n      case \"array\":\n        data.diff = ArrayOperation.fromJSON(data.diff)\n        break\n      case \"coordinate\":\n        data.diff = CoordinateOperation.fromJSON(data.diff)\n        break\n      default:\n        throw new Error(\"Unsupported update diff:\" + JSON.stringify(data.diff))\n    }\n  }\n  var op = new ObjectOperation(data)\n  return op\n}\n\nObjectOperation.NOP = NOP\nObjectOperation.CREATE = CREATE\nObjectOperation.DELETE = DELETE\nObjectOperation.UPDATE = UPDATE\nObjectOperation.SET = SET\n\nexport default ObjectOperation\n","import isArray from '../../util/isArray'\nimport isNumber from '../../util/isNumber'\nimport { isObject } from 'lodash-es'\nimport ObjectOperation from './ObjectOperation'\nimport TextOperation from './TextOperation'\nimport ArrayOperation from './ArrayOperation'\nimport CoordinateOperation from './CoordinateOperation'\n\n/*\n  Specification:\n\n  - create:\n    ```\n    'c <JSON.stringify(data)>'\n    'c { id: \"1123\", type: \"paragraph\", content: \"\"}'\n    ```\n  - delete:\n    ```\n    'd <JSON.stringify(data)>'\n    'd { id: \"1123\", type: \"paragraph\", content: \"\"}'\n    ```\n  - set a property\n    ```\n    's <property path> <value> <old value>'\n    's p1.content foo'\n    ```\n  - update a property\n    ```\n    'u <property path> <primitive op>'\n    'u p1.content t+ 4 foo'\n    ```\n\nPrimitive type operations:\n\n  - insert text\n    ```\n    't+ <pos> <string>'\n    't+ 4 foo'\n    ```\n  - delete text\n    ```\n    't- <pos> <string>'\n    't- 4 foo'\n    ```\n  - insert value into array\n    ```\n    'a+ <pos> <value>'\n    'a+ 0 p1'\n    ```\n  - delete value from array\n    ```\n    'a- <pos> <value>'\n    'a- 0 p1'\n    ```\n*/\n\nclass OperationSerializer{\n  constructor() {\n    this.SEPARATOR = '\\t'\n  }\n\n  serialize(op) {\n    var out = []\n    switch (op.type) {\n      case 'create':\n        out.push('c')\n        out.push(op.val.id)\n        out.push(op.val)\n        break\n      case 'delete':\n        out.push('d')\n        out.push(op.val.id)\n        out.push(op.val)\n        break\n      case 'set':\n        out.push('s')\n        out.push(op.path.join('.'))\n        out.push(op.val)\n        out.push(op.original)\n        break\n      case 'update':\n        out.push('u')\n        out.push(op.path.join('.'))\n        Array.prototype.push.apply(out, this.serializePrimitiveOp(op.diff))\n        break\n      default:\n        throw new Error('Unsupported operation type.')\n    }\n    return out\n  }\n\n  serializePrimitiveOp(op) {\n    var out = []\n    if (op._isTextOperation) {\n      if (op.isInsert()) {\n        out.push('t+')\n      } else if (op.isDelete()) {\n        out.push('t-')\n      }\n      out.push(op.pos)\n      out.push(op.str)\n    } else if (op._isArrayOperation) {\n      if (op.isInsert()) {\n        out.push('a+')\n      } else if (op.isDelete()) {\n        out.push('a-')\n      }\n      out.push(op.pos)\n      out.push(op.val)\n    } else if (op._isCoordinateOperation) {\n      if (op.isShift()) {\n        out.push('c>>')\n      } else {\n        throw new Error('Unsupported CoordinateOperation type.')\n      }\n      out.push(op.pos)\n      out.push(op.val)\n    } else {\n      throw new Error('Unsupported operation type.')\n    }\n    return out\n  }\n\n  deserialize(str, tokenizer) {\n    if (!tokenizer) {\n      tokenizer = new Tokenizer(str, this.SEPARATOR)\n    }\n    var type = tokenizer.getString()\n    var op, path, val, oldVal, diff\n    switch (type) {\n      case 'c':\n        path = tokenizer.getPath()\n        val = tokenizer.getObject()\n        op = ObjectOperation.Create(path, val)\n        break\n      case 'd':\n        path = tokenizer.getPath()\n        val = tokenizer.getObject()\n        op = ObjectOperation.Delete(path, val)\n        break\n      case 's':\n        path = tokenizer.getPath()\n        val = tokenizer.getAny()\n        oldVal = tokenizer.getAny()\n        op = ObjectOperation.Set(path, oldVal, val)\n        break\n      case 'u':\n        path = tokenizer.getPath()\n        diff = this.deserializePrimitiveOp(str, tokenizer)\n        op = ObjectOperation.Update(path, diff)\n        break\n      default:\n        throw new Error('Illegal type for ObjectOperation: '+ type)\n    }\n    return op\n  }\n\n  deserializePrimitiveOp(str, tokenizer) {\n    if (!tokenizer) {\n      tokenizer = new Tokenizer(str, this.SEPARATOR)\n    }\n    var type = tokenizer.getString()\n    var op, pos, val\n    switch (type) {\n      case 't+':\n        pos = tokenizer.getNumber()\n        val = tokenizer.getString()\n        op = TextOperation.Insert(pos, val)\n        break\n      case 't-':\n        pos = tokenizer.getNumber()\n        val = tokenizer.getString()\n        op = TextOperation.Delete(pos, val)\n        break\n      case 'a+':\n        pos = tokenizer.getNumber()\n        val = tokenizer.getAny()\n        op = ArrayOperation.Insert(pos, val)\n        break\n      case 'a-':\n        pos = tokenizer.getNumber()\n        val = tokenizer.getAny()\n        op = ArrayOperation.Delete(pos, val)\n        break\n      case 'c>>':\n        val = tokenizer.getNumber()\n        op = CoordinateOperation.Shift(val)\n        break\n      default:\n        throw new Error('Unsupported operation type: ' + type)\n    }\n    return op\n  }\n}\n\nclass Tokenizer {\n  constructor(str, sep) {\n    if (isArray(arguments[0])) {\n      this.tokens = arguments[0]\n    } else {\n      this.tokens = str.split(sep)\n    }\n    this.pos = -1\n  }\n\n  error(msg) {\n    throw new Error('Parsing error: ' + msg + '\\n' + this.tokens[this.pos])\n  }\n\n  getString() {\n    this.pos++\n    var str = this.tokens[this.pos]\n    if (str[0] === '\"') {\n      str = str.slice(1, -1)\n    }\n    return str\n  }\n\n  getNumber() {\n    this.pos++\n    var number\n    var token = this.tokens[this.pos]\n    try {\n      if (isNumber(token)) {\n        number = token\n      } else {\n        number = parseInt(this.tokens[this.pos], 10)\n      }\n      return number\n    } catch (err) {\n      this.error('expected number')\n    }\n  }\n\n  getObject() {\n    this.pos++\n    var obj\n    var token = this.tokens[this.pos]\n    try {\n      if (isObject(token)) {\n        obj = token\n      } else {\n        obj = JSON.parse(this.tokens[this.pos])\n      }\n      return obj\n    } catch (err) {\n      this.error('expected object')\n    }\n  }\n\n  getAny() {\n    this.pos++\n    var token = this.tokens[this.pos]\n    return token\n  }\n\n  getPath() {\n    var str = this.getString()\n    return str.split('.')\n  }\n}\n\nOperationSerializer.Tokenizer = Tokenizer\n\nexport default OperationSerializer\n","export default function isArrayEqual(arr1, arr2) {\n  if (arr1 === arr2) return true\n  if (arr1.length !== arr2.length) return false\n  let L = arr1.length\n  for (var i = 0; i < L; i++) {\n    if (arr1[i] !== arr2[i]) return false\n  }\n  return true\n}","import isArray from '../util/isArray'\nimport isNumber from '../util/isNumber'\nimport isArrayEqual from '../util/isArrayEqual'\n\n/**\n  @internal\n*/\nclass Coordinate {\n\n  /**\n   @param {Array} path the address of a property, such as ['text_1', 'content']\n   @param {int} offset the position in the property\n   @param {boolean} after an internal flag indicating if the address should be associated to the left or right side\n\n   Note: at boundaries of annotations there are two possible positions with the same address\n       foo <strong>bar</strong> ...\n     With offset=7 normally we associate this position:\n       foo <strong>bar|</strong> ...\n     With after=true we can describe this position:\n       foo <strong>bar</strong>| ...\n  */\n  constructor(path, offset, after) {\n    // HACK: to allow this class be inherited but without calling this ctor\n    if (arguments[0] === 'SKIP') return\n\n    this.path = path\n    this.offset = offset\n    this.after = after\n    if (!isArray(path)) {\n      throw new Error('Invalid arguments: path should be an array.')\n    }\n    if (!isNumber(offset) || offset < 0) {\n      throw new Error('Invalid arguments: offset must be a positive number.')\n    }\n    // make sure that path can't be changed afterwards\n    if (!Object.isFrozen(path)) {\n      Object.freeze(path)\n    }\n  }\n\n  equals(other) {\n    return (other === this ||\n      (isArrayEqual(other.path, this.path) && other.offset === this.offset) )\n  }\n\n  withCharPos(offset) {\n    return new Coordinate(this.path, offset)\n  }\n\n  getNodeId() {\n    return this.path[0]\n  }\n\n  getPath() {\n    return this.path\n  }\n\n  getOffset() {\n    return this.offset\n  }\n\n  toJSON() {\n    return {\n      path: this.path,\n      offset: this.offset,\n      after: this.after\n    }\n  }\n\n  toString() {\n    return \"(\" + this.path.join('.') + \", \" + this.offset + \")\"\n  }\n\n  isPropertyCoordinate() {\n    return this.path.length > 1\n  }\n\n  isNodeCoordinate() {\n    return this.path.length === 1\n  }\n\n  hasSamePath(other) {\n    return isArrayEqual(this.path, other.path)\n  }\n}\n\nCoordinate.prototype._isCoordinate = true\n\nexport default Coordinate\n","import Coordinate from './Coordinate'\n\n/*\n  Anchors are special annotations which have a zero width.\n\n  Examples are the start and end anchors of ContainerAnnotations, or a Cursor.\n\n  TODO: in future we will need to introduce a built-in type\n  for this so that annotation updates can be compared with\n  text operations.\n\n  Sub-Classes: model/ContainerAnnotation.Anchor, model/Selection.Cursor\n\n  @class\n  @abstract\n*/\nclass Anchor extends Coordinate {\n\n  isAnchor() {\n    return true\n  }\n\n}\n\nexport default Anchor\n","import EventEmitter from '../util/EventEmitter'\nimport Anchor from './Anchor'\n\n/**\n  A document selection. Refers to a Substance document model, not to the DOM.\n*/\nclass Selection {\n\n  constructor() {\n    // Internal stuff\n    var _internal = {}\n    Object.defineProperty(this, \"_internal\", {\n      enumerable: false,\n      value: _internal\n    })\n      // set when attached to document\n    _internal.doc = null\n  }\n\n  clone() {\n    var newSel = this._clone()\n    if (this._internal.doc) {\n      newSel.attach(this._internal.doc)\n    }\n    return newSel\n  }\n\n  /**\n    @returns {Document} The attached document instance\n  */\n  getDocument() {\n    var doc = this._internal.doc\n    if (!doc) {\n      throw new Error('Selection is not attached to a document.')\n    }\n    return doc\n  }\n\n  isAttached() {\n    return Boolean(this._internal.doc)\n  }\n\n  /**\n    Attach document to the selection.\n\n    @internal\n    @param {Document} doc document to attach\n    @returns {this}\n  */\n  attach(doc) {\n    this._internal.doc = doc\n    return this\n  }\n\n  /**\n    @returns {Boolean} true when selection is null.\n  */\n  isNull() { return false; }\n\n  /**\n    @returns {Boolean} true for property selections\n  */\n  isPropertySelection() { return false; }\n\n  /**\n    @returns {Boolean} true if selection is a {@link model/ContainerSelection}\n  */\n  isContainerSelection() { return false; }\n\n  /**\n    @returns {Boolean} true if selection is a {@link model/NodeSelection}\n  */\n  isNodeSelection() { return false; }\n\n  isCustomSelection() { return false; }\n\n  /**\n    @returns {Boolean} true when selection is collapsed\n  */\n  isCollapsed() { return true; }\n\n  /**\n    @returns {Boolean} true if startOffset < endOffset\n  */\n  isReverse() { return false; }\n\n  getType() {\n    throw new Error('Selection.getType() is abstract.')\n  }\n\n  /**\n    @returns {Boolean} true if selection equals `other` selection\n  */\n  equals(other) {\n    if (this === other) {\n      return true\n    } else if (!other) {\n      return false\n    } else if (this.isNull() !== other.isNull()) {\n      return false\n    } else if (this.getType() !== other.getType()) {\n      return false\n    } else {\n      // Note: returning true here, so that sub-classes\n      // can call this as a predicate in their expression\n      return true\n    }\n  }\n\n  /**\n    @returns {String} This selection as human readable string.\n  */\n  toString() {\n    return \"null\"\n  }\n\n  /**\n    Convert container selection to JSON.\n\n    @abstract\n    @returns {Object}\n  */\n  toJSON() {\n    throw new Error('This method is abstract.')\n  }\n\n  /**\n    Get selection fragments for this selection.\n\n    A selection fragment is bound to a single property.\n    @returns {Selection.Fragment[]}\n  */\n  getFragments() {\n    return []\n  }\n\n  createWith(update) {\n    let SelectionClass = this.constructor\n    let data = this.toJSON()\n    Object.assign(data, update)\n    return SelectionClass.fromJSON(data)\n  }\n}\n\n// for duck-typed instanceof\nSelection.prototype._isSelection = true\n\n/*\n  Class to represent null selections.\n\n  @internal\n*/\nclass NullSelection extends Selection {\n\n  isNull() {\n    return true\n  }\n\n  getType() {\n    return 'null'\n  }\n\n  toJSON() {\n    return null\n  }\n\n  clone() {\n    return this\n  }\n}\n\n/**\n  We use a singleton to represent NullSelections.\n\n  @type {model/Selection}\n*/\n\nSelection.nullSelection = Object.freeze(new NullSelection())\n\n/**\n  A selection fragment. Used when we split a {@link ContainerSelection}\n  into their fragments, each corresponding to a property selection.\n\n  @internal\n*/\nclass SelectionFragment extends EventEmitter {\n\n  constructor(path, startOffset, endOffset, full) {\n    super()\n\n    this.type = \"selection-fragment\"\n    this.path = path\n    this.startOffset = startOffset\n    this.endOffset = endOffset || startOffset\n    this.full = Boolean(full)\n  }\n\n  isAnchor() {\n    return false\n  }\n\n  isInline() {\n    return false\n  }\n\n  isPropertyFragment() {\n    return true\n  }\n\n  isNodeFragment() {\n    return false\n  }\n\n  isFull() {\n    return this.full\n  }\n\n  isPartial() {\n    return !this.full\n  }\n\n  getNodeId() {\n    return this.path[0]\n  }\n\n}\n\nSelection.Fragment = SelectionFragment\n\n\nclass NodeFragment extends EventEmitter {\n\n  constructor(nodeId) {\n    super()\n\n    this.type = \"node-fragment\"\n    this.nodeId = nodeId\n    this.path = [nodeId]\n  }\n\n  isAnchor() {\n    return false\n  }\n\n  isInline() {\n    return false\n  }\n\n  isPropertyFragment() {\n    return false\n  }\n\n  isNodeFragment() {\n    return true\n  }\n\n  isFull() {\n    return true\n  }\n\n  isPartial() {\n    return false\n  }\n\n  getNodeId() {\n    return this.nodeId\n  }\n}\n\nSelection.NodeFragment = NodeFragment\n\n/**\n  Describe the cursor when creating selection fragments.\n  This is used for rendering selections.\n\n  @internal\n*/\nclass Cursor extends Anchor {\n\n  constructor(path, offset) {\n    super(path, offset)\n\n    this.type = \"cursor\"\n  }\n\n  isPropertyFragment() {\n    return false\n  }\n\n  isNodeFragment() {\n    return false\n  }\n\n}\n\nSelection.Cursor = Cursor\n\nexport default Selection\n","import isArrayEqual from '../util/isArrayEqual'\nimport Coordinate from './Coordinate'\n\n/*\n  Adapter for Coordinate oriented implementations.\n  E.g. Coordinate transforms can be applied to update selections\n  using OT.\n\n  @internal\n*/\nclass CoordinateAdapter extends Coordinate {\n\n  constructor(owner, pathProperty, offsetProperty) {\n    super('SKIP')\n\n    this._owner = owner;\n    this._pathProp = pathProperty;\n    this._offsetProp = offsetProperty;\n    Object.freeze(this);\n  }\n\n  equals(other) {\n    return (other === this ||\n      (isArrayEqual(other.path, this.path) && other.offset === this.offset) )\n  }\n\n  get path() {\n    return this._owner[this._pathProp];\n  }\n\n  set path(path) {\n    this._owner[this._pathProp] = path;\n  }\n\n  get offset() {\n    return this._owner[this._offsetProp];\n  }\n\n  set offset(offset) {\n    this._owner[this._offsetProp] = offset;\n  }\n\n  toJSON() {\n    return {\n      path: this.path,\n      offset: this.offset\n    }\n  }\n\n  toString() {\n    return \"(\" + this.path.join('.') + \", \" + this.offset + \")\"\n  }\n}\n\nexport default CoordinateAdapter","class Range {\n\n  constructor(start, end, reverse, containerId) {\n    // HACK: to allow this class be inherited but without calling this ctor\n    if (arguments[0] === 'SKIP') return\n\n    this.start = start\n    this.end = end\n    this.reverse = Boolean(reverse)\n    this.containerId = containerId\n  }\n\n  get _isRange() { return true }\n\n  isCollapsed() {\n    return this.start.equals(this.end)\n  }\n\n  equals(other) {\n    if (this === other) return true\n    else {\n      return (\n        this.containerId === other.containerId &&\n        this.start.equals(other.start) &&\n        this.end.equals(other.end)\n      )\n    }\n  }\n\n  isReverse() {\n    return this.reverse\n  }\n\n  toString() {\n    var str = [this.start.toString(), '->', this.end.toString()]\n    if (this.isReverse()) {\n      str.push('(reverse)')\n    }\n    return str.join('')\n  }\n\n}\n\nexport default Range\n","import isArrayEqual from '../util/isArrayEqual'\nimport isNumber from '../util/isNumber'\nimport Selection from './Selection'\nimport CoordinateAdapter from './CoordinateAdapter'\nimport Range from './Range'\n\n/**\n  A selection which is bound to a property. Implements {@link model/Selection}.\n\n  @example\n\n  ```js\n  var propSel = doc.createSelection({\n    type: 'property',\n    path: ['p1', 'content'],\n    startOffset: 3,\n    endOffset: 6\n  });\n*/\nclass PropertySelection extends Selection {\n\n  /**\n    @param {array} path\n    @param {int} startOffset\n    @param {int} endOffset\n    @param {bool} reverse\n    @param {string} [containerId]\n    @param {string} [surfaceId]\n  */\n  constructor(path, startOffset, endOffset, reverse, containerId, surfaceId) {\n    super()\n\n    if (arguments.length === 1) {\n      let data = arguments[0]\n      path = data.path\n      startOffset = data.startOffset\n      endOffset = data.endOffset\n      reverse = data.reverse\n      containerId = data.containerId\n      surfaceId = data.surfaceId\n    }\n\n    /**\n      The path to the selected property.\n      @type {String[]}\n    */\n    this.path = path;\n\n    /**\n      Start character position.\n      @type {Number}\n    */\n    this.startOffset = startOffset;\n\n    /**\n      End character position.\n      @type {Number}\n    */\n    this.endOffset = isNumber(endOffset) ? endOffset : startOffset;\n\n    /**\n      Selection direction.\n      @type {Boolean}\n    */\n    this.reverse = Boolean(reverse);\n\n    this.containerId = containerId;\n\n    /**\n      Identifier of the surface this selection should be active in.\n      @type {String}\n    */\n    this.surfaceId = surfaceId;\n\n    if (!path || !isNumber(startOffset)) {\n      throw new Error('Invalid arguments: `path` and `startOffset` are mandatory');\n    }\n\n    // dynamic adapters for Coordinate oriented implementations\n    this._internal.start = new CoordinateAdapter(this, 'path', 'startOffset');\n    this._internal.end = new CoordinateAdapter(this, 'path', 'endOffset');\n    this._internal.range = new RangeAdapter(this);\n  }\n\n  /**\n    Convert container selection to JSON.\n\n    @returns {Object}\n  */\n  toJSON() {\n    return {\n      type: 'property',\n      path: this.path,\n      startOffset: this.startOffset,\n      endOffset: this.endOffset,\n      reverse: this.reverse,\n      containerId: this.containerId,\n      surfaceId: this.surfaceId\n    };\n  }\n\n  isPropertySelection() {\n    return true;\n  }\n\n  getType() {\n    return 'property';\n  }\n\n  isNull() {\n    return false;\n  }\n\n  isCollapsed() {\n    return this.startOffset === this.endOffset;\n  }\n\n  isReverse() {\n    return this.reverse;\n  }\n\n  equals(other) {\n    return (\n      Selection.prototype.equals.call(this, other) &&\n      (this.start.equals(other.start) && this.end.equals(other.end))\n    );\n  }\n\n  toString() {\n    /* istanbul ignore next */\n    return [\n      \"PropertySelection(\", JSON.stringify(this.path), \", \",\n      this.startOffset, \" -> \", this.endOffset,\n      (this.reverse?\", reverse\":\"\"),\n      (this.surfaceId?(\", \"+this.surfaceId):\"\"),\n      \")\"\n    ].join('');\n  }\n\n  /**\n    Collapse a selection to chosen direction.\n\n    @param {String} direction either left of right\n    @returns {PropertySelection}\n  */\n  collapse(direction) {\n    var offset;\n    if (direction === 'left') {\n      offset = this.startOffset;\n    } else {\n      offset = this.endOffset;\n    }\n    return this.createWithNewRange(offset, offset);\n  }\n\n  // Helper Methods\n  // ----------------------\n\n  getRange() {\n    return this.range;\n  }\n\n  /**\n    Get path of a selection, e.g. target property where selected data is stored.\n\n    @returns {String[]} path\n  */\n  getPath() {\n    return this.path;\n  }\n\n  getNodeId() {\n    return this.path[0];\n  }\n\n  /**\n    Get start character position.\n\n    @returns {Number} offset\n  */\n  getStartOffset() {\n    return this.startOffset;\n  }\n\n  /**\n    Get end character position.\n\n    @returns {Number} offset\n  */\n  getEndOffset() {\n    return this.endOffset;\n  }\n\n  /**\n    Checks if this selection is inside another one.\n\n    @param {Selection} other\n    @param {Boolean} [strict] true if should check that it is strictly inside the other\n    @returns {Boolean}\n  */\n  isInsideOf(other, strict) {\n    if (other.isNull()) return false;\n    if (other.isContainerSelection()) {\n      return other.contains(this, strict);\n    }\n    if (strict) {\n      return (isArrayEqual(this.path, other.path) &&\n        this.startOffset > other.startOffset &&\n        this.endOffset < other.endOffset);\n    } else {\n      return (isArrayEqual(this.path, other.path) &&\n        this.startOffset >= other.startOffset &&\n        this.endOffset <= other.endOffset);\n    }\n  }\n\n  /**\n    Checks if this selection contains another one.\n\n    @param {Selection} other\n    @param {Boolean} [strict] true if should check that it is strictly contains the other\n    @returns {Boolean}\n  */\n  contains(other, strict) {\n    if (other.isNull()) return false;\n    return other.isInsideOf(this, strict);\n  }\n\n  /**\n    Checks if this selection overlaps another one.\n\n    @param {Selection} other\n    @param {Boolean} [strict] true if should check that it is strictly overlaps the other\n    @returns {Boolean}\n  */\n  overlaps(other, strict) {\n    if (other.isNull()) return false;\n    if (other.isContainerSelection()) {\n      // console.log('PropertySelection.overlaps: delegating to ContainerSelection.overlaps...');\n      return other.overlaps(this);\n    }\n    if (!isArrayEqual(this.path, other.path)) return false;\n    if (strict) {\n      return (! (this.startOffset>=other.endOffset||this.endOffset<=other.startOffset) );\n    } else {\n      return (! (this.startOffset>other.endOffset||this.endOffset<other.startOffset) );\n    }\n  }\n\n  /**\n    Checks if this selection has the right boundary in common with another one.\n\n    @param {Selection} other\n    @returns {Boolean}\n  */\n  isRightAlignedWith(other) {\n    if (other.isNull()) return false;\n    if (other.isContainerSelection()) {\n      // console.log('PropertySelection.isRightAlignedWith: delegating to ContainerSelection.isRightAlignedWith...');\n      return other.isRightAlignedWith(this);\n    }\n    return (isArrayEqual(this.path, other.path) &&\n      this.endOffset === other.endOffset);\n  }\n\n  /**\n    Checks if this selection has the left boundary in common with another one.\n\n    @param {Selection} other\n    @returns {Boolean}\n  */\n  isLeftAlignedWith(other) {\n    if (other.isNull()) return false;\n    if (other.isContainerSelection()) {\n      // console.log('PropertySelection.isLeftAlignedWith: delegating to ContainerSelection.isLeftAlignedWith...');\n      return other.isLeftAlignedWith(this);\n    }\n    return (isArrayEqual(this.path, other.path) &&\n      this.startOffset === other.startOffset);\n  }\n\n  /**\n    Expands selection to include another selection.\n\n    @param {Selection} other\n    @returns {Selection} a new selection\n  */\n  expand(other) {\n    if (other.isNull()) return this;\n\n    // if the other is a ContainerSelection\n    // we delegate to that implementation as it is more complex\n    // and can deal with PropertySelections, too\n    if (other.isContainerSelection()) {\n      return other.expand(this);\n    }\n    if (!isArrayEqual(this.path, other.path)) {\n      throw new Error('Can not expand PropertySelection to a different property.');\n    }\n    var newStartOffset = Math.min(this.startOffset, other.startOffset);\n    var newEndOffset = Math.max(this.endOffset, other.endOffset);\n    return this.createWithNewRange(newStartOffset, newEndOffset);\n  }\n\n  /**\n    Creates a new selection by truncating this one by another selection.\n\n    @param {Selection} other\n    @returns {Selection} a new selection\n  */\n  truncateWith(other) {\n    if (other.isNull()) return this;\n    if (other.isInsideOf(this, 'strict')) {\n      // the other selection should overlap only on one side\n      throw new Error('Can not truncate with a contained selections');\n    }\n    if (!this.overlaps(other)) {\n      return this;\n    }\n    var otherStartOffset, otherEndOffset;\n    if (other.isPropertySelection()) {\n      otherStartOffset = other.startOffset;\n      otherEndOffset = other.endOffset;\n    } else if (other.isContainerSelection()) {\n      // either the startPath or the endPath must be the same\n      if (isArrayEqual(other.startPath, this.path)) {\n        otherStartOffset = other.startOffset;\n      } else {\n        otherStartOffset = this.startOffset;\n      }\n      if (isArrayEqual(other.endPath, this.path)) {\n        otherEndOffset = other.endOffset;\n      } else {\n        otherEndOffset = this.endOffset;\n      }\n    } else {\n      return this;\n    }\n\n    var newStartOffset;\n    var newEndOffset;\n    if (this.startOffset > otherStartOffset && this.endOffset > otherEndOffset) {\n      newStartOffset = otherEndOffset;\n      newEndOffset = this.endOffset;\n    } else if (this.startOffset < otherStartOffset && this.endOffset < otherEndOffset) {\n      newStartOffset = this.startOffset;\n      newEndOffset = otherStartOffset;\n    } else if (this.startOffset === otherStartOffset) {\n      if (this.endOffset <= otherEndOffset) {\n        return Selection.nullSelection;\n      } else {\n        newStartOffset = otherEndOffset;\n        newEndOffset = this.endOffset;\n      }\n    } else if (this.endOffset === otherEndOffset) {\n      if (this.startOffset >= otherStartOffset) {\n        return Selection.nullSelection;\n      } else {\n        newStartOffset = this.startOffset;\n        newEndOffset = otherStartOffset;\n      }\n    } else if (other.contains(this)) {\n      return Selection.nullSelection;\n    } else {\n      // FIXME: if this happens, we have a bug somewhere above\n      throw new Error('Illegal state.');\n    }\n    return this.createWithNewRange(newStartOffset, newEndOffset);\n  }\n\n  /**\n    Creates a new selection with given range and same path.\n\n    @param {Number} startOffset\n    @param {Number} endOffset\n    @returns {Selection} a new selection\n  */\n  createWithNewRange(startOffset, endOffset) {\n    var sel = new PropertySelection(this.path, startOffset, endOffset, false, this.containerId, this.surfaceId);\n    var doc = this._internal.doc;\n    if (doc) {\n      sel.attach(doc);\n    }\n    return sel;\n  }\n\n  /**\n    Return fragments for a given selection.\n\n    @returns {Selection.Fragment[]}\n  */\n  getFragments() {\n    if(this._internal.fragments) {\n      return this._internal.fragments;\n    }\n\n    var fragments;\n\n    if (this.isCollapsed()) {\n      fragments = [new Selection.Cursor(this.path, this.startOffset)];\n    } else {\n      fragments = [new Selection.Fragment(this.path, this.startOffset, this.endOffset)];\n    }\n\n    this._internal.fragments = fragments;\n    return fragments;\n  }\n\n  _clone() {\n    return new PropertySelection(this.path, this.startOffset, this.endOffset, this.reverse, this.containerId, this.surfaceId);\n  }\n\n}\n\nObject.defineProperties(PropertySelection.prototype, {\n  /**\n    @property {Coordinate} PropertySelection.start\n  */\n  start: {\n    get: function() {\n      return this._internal.start;\n    },\n    set: function() { throw new Error('PropertySelection.prototype.start is read-only.'); },\n    enumerable: false\n  },\n  /**\n    @property {Coordinate} PropertySelection.end\n  */\n  end: {\n    get: function() {\n      return this._internal.end;\n    },\n    set: function() { throw new Error('PropertySelection.prototype.end is read-only.'); },\n    enumerable: false\n  },\n  range: {\n    get: function() {\n      return this._internal.range;\n    },\n    set: function() { throw new Error('PropertySelection.prototype.range is read-only.'); },\n    enumerable: false\n  },\n\n  // making this similar to ContainerSelection\n  startPath: {\n    get: function() {\n      return this.path;\n    },\n    set: function() { throw new Error('immutable.'); },\n    enumerable: false\n  },\n  endPath: {\n    get: function() {\n      return this.path;\n    },\n    set: function() { throw new Error('immutable.'); },\n    enumerable: false\n  },\n});\n\nPropertySelection.fromJSON = function(json) {\n  return new PropertySelection(json);\n}\n\nclass RangeAdapter extends Range {\n\n  constructor(sel) {\n    super('SKIP')\n    this._sel = sel;\n    this.start = sel.start;\n    this.end = sel.end;\n    Object.freeze(this);\n  }\n\n}\n\nObject.defineProperties(RangeAdapter.prototype, {\n  reverse: {\n    get: function() {\n      return this._sel.reverse;\n    },\n    set: function(reverse) {\n      this._sel.reverse = reverse;\n    }\n  },\n  containerId: {\n    get: function() {\n      return this._sel.containerId;\n    },\n    set: function(containerId) {\n      this._sel.containerId = containerId;\n    }\n  },\n  surfaceId: {\n    get: function() {\n      return this._sel.surfaceId;\n    },\n    set: function(surfaceId) {\n      this._sel.surfaceId = surfaceId;\n    }\n  },\n});\n\nPropertySelection.RangeAdapter = RangeAdapter;\n\nexport default PropertySelection\n","export default function isNil(o) {\n  return o === null || o === undefined\n}","import isNil from '../util/isNil'\nimport isNumber from '../util/isNumber'\nimport Coordinate from './Coordinate'\nimport Selection from './Selection'\nimport PropertySelection from './PropertySelection'\nimport CoordinateAdapter from './CoordinateAdapter'\n\nconst RangeAdapter = PropertySelection.RangeAdapter\n\n/**\n  A selection spanning multiple nodes.\n\n  @class\n  @extends PropertySelection\n\n  @example\n\n  ```js\n  var containerSel = doc.createSelection({\n    type: 'container',\n    containerId: 'body',\n    startPath: ['p1', 'content'],\n    startOffset: 5,\n    endPath: ['p3', 'content'],\n    endOffset: 4,\n  });\n  ```\n*/\nclass ContainerSelection extends Selection {\n\n  constructor(containerId, startPath, startOffset, endPath, endOffset, reverse, surfaceId) {\n    super()\n\n    if (arguments.length === 1) {\n      let data = arguments[0]\n      containerId = data.containerId\n      startPath = data.startPath\n      startOffset = data.startOffset\n      endPath = data.endPath\n      endOffset = data.endOffset\n      reverse = data.reverse\n      surfaceId = data.surfaceId\n    }\n\n    /**\n      @type {String}\n    */\n    this.containerId = containerId;\n\n    /**\n      The path of the property where this annotations starts.\n      @type {String[]}\n    */\n    this.startPath = startPath;\n\n    /**\n      The character position where this annotations starts.\n      @type {Number}\n    */\n    this.startOffset = startOffset;\n\n    /**\n      The path of the property where this annotations ends.\n      @type {String[]}\n    */\n    this.endPath = isNil(endPath) ? startPath : endPath;\n\n    /**\n      The character position where this annotations ends.\n      @type {Number}\n    */\n    this.endOffset = isNil(endOffset) ? startOffset : endOffset;\n\n    this.reverse = Boolean(reverse);\n\n    this.surfaceId = surfaceId;\n\n    if (!this.containerId || !this.startPath || !isNumber(this.startOffset) ||\n     !this.endPath || !isNumber(this.endOffset) ) {\n      throw new Error('Invalid arguments: `containerId`, `startPath`, `startOffset`, `endPath`, and `endOffset` are mandatory');\n    }\n\n    // dynamic adapters for Coordinate oriented implementations\n    this._internal.start = new CoordinateAdapter(this, 'startPath', 'startOffset');\n    this._internal.end = new CoordinateAdapter(this, 'endPath', 'endOffset');\n    this._internal.range = new RangeAdapter(this);\n  }\n\n  toJSON() {\n    return {\n      type: 'container',\n      containerId: this.containerId,\n      startPath: this.startPath,\n      startOffset: this.startOffset,\n      endPath: this.endPath,\n      endOffset: this.endOffset,\n      reverse: this.reverse,\n      surfaceId: this.surfaceId\n    };\n  }\n\n\n  isContainerSelection() {\n    return true;\n  }\n\n  getType() {\n    return 'container';\n  }\n\n  isNull() {\n    return false;\n  }\n\n  isCollapsed() {\n    return this.start.equals(this.end);\n  }\n\n  isReverse() {\n    return this.reverse;\n  }\n\n  equals(other) {\n    return (\n      Selection.prototype.equals.call(this, other) &&\n      this.containerId === other.containerId &&\n      (this.start.equals(other.start) && this.end.equals(other.end))\n    );\n  }\n\n  toString() {\n    /* istanbul ignore next */\n    return [\n      \"ContainerSelection(\",\n      this.containerId, \", \",\n      JSON.stringify(this.startPath), \", \", this.startOffset,\n      \" -> \",\n      JSON.stringify(this.endPath), \", \", this.endOffset,\n      (this.reverse?\", reverse\":\"\"),\n      (this.surfaceId?(\", \"+this.surfaceId):\"\"),\n      \")\"\n    ].join('');\n  }\n\n  /**\n    @return {model/Container} The container node instance for this selection.\n  */\n  getContainer() {\n    if (!this._internal.container) {\n      this._internal.container = this.getDocument().get(this.containerId);\n    }\n    return this._internal.container;\n  }\n\n  isInsideOf(other, strict) {\n    // Note: this gets called from PropertySelection.contains()\n    // because this implementation can deal with mixed selection types.\n    if (other.isNull()) return false;\n    strict = Boolean(strict);\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    return (r2.start.isBefore(r1.start, strict) &&\n      r1.end.isBefore(r2.end, strict));\n  }\n\n  contains(other, strict) {\n    // Note: this gets called from PropertySelection.isInsideOf()\n    // because this implementation can deal with mixed selection types.\n    if (other.isNull()) return false;\n    strict = Boolean(strict);\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    return (r1.start.isBefore(r2.start, strict) &&\n      r2.end.isBefore(r1.end, strict));\n  }\n\n  containsNodeFragment(nodeId, strict) {\n    var container = this.getContainer();\n    var coor = new Coordinate([nodeId], 0);\n    var address = container.getAddress(coor);\n    var r = this._range(this);\n    // console.log('ContainerSelection.containsNodeFragment', address, 'is within', r.start, '->', r.end, '?');\n    var contained = r.start.isBefore(address, strict);\n    if (contained) {\n      address.offset = 1;\n      contained = r.end.isAfter(address, strict);\n    }\n    return contained;\n  }\n\n  overlaps(other) {\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    // it overlaps if they are not disjunct\n    return !(r1.end.isBefore(r2.start, false) ||\n      r2.end.isBefore(r1.start, false));\n  }\n\n  isLeftAlignedWith(other) {\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    return r1.start.isEqual(r2.start);\n  }\n\n  isRightAlignedWith(other) {\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    return r1.end.isEqual(r2.end);\n  }\n\n  containsNode(nodeId) {\n    var container = this.getContainer();\n    var startPos = container.getPosition(this.startPath[0]);\n    var endPos = container.getPosition(this.endPath[0]);\n    var pos = container.getPosition(nodeId);\n    if ((startPos>pos || endPos<pos) ||\n        (startPos === pos && this.startPath.length === 1 && this.startOffset > 0) ||\n        (endPos === pos && this.endPath.length === 1 && this.endOffset < 1)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n    Collapse a selection to chosen direction.\n\n    @param {String} direction either left of right\n    @returns {PropertySelection}\n  */\n  collapse(direction) {\n    var coor;\n    if (direction === 'left') {\n      coor = this.start;\n    } else {\n      coor = this.end;\n    }\n    return _createNewSelection(this, coor, coor);\n  }\n\n  expand(other) {\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    var start;\n    var end;\n\n    if (r1.start.isEqual(r2.start)) {\n      start = new Coordinate(this.start.path, Math.min(this.start.offset, other.start.offset));\n    } else if (r1.start.isAfter(r2.start)) {\n      start = new Coordinate(other.start.path, other.start.offset);\n    } else {\n      start = this.start;\n    }\n    if (r1.end.isEqual(r2.end)) {\n      end = new Coordinate(this.end.path, Math.max(this.end.offset, other.end.offset));\n    } else if (r1.end.isBefore(r2.end, false)) {\n      end = new Coordinate(other.end.path, other.end.offset);\n    } else {\n      end = this.end;\n    }\n\n    return _createNewSelection(this, start, end);\n  }\n\n  truncateWith(other) {\n    if (other.isInsideOf(this, 'strict')) {\n      // the other selection should overlap only on one side\n      throw new Error('Can not truncate with a contained selections');\n    }\n    if (!this.overlaps(other)) {\n      return this;\n    }\n    var r1 = this._range(this);\n    var r2 = this._range(other);\n    var start, end;\n    if (r2.start.isBefore(r1.start, 'strict') && r2.end.isBefore(r1.end, 'strict')) {\n      start = other.end;\n      end = this.end;\n    } else if (r1.start.isBefore(r2.start, 'strict') && r1.end.isBefore(r2.end, 'strict')) {\n      start = this.start;\n      end = other.start;\n    } else if (r1.start.isEqual(r2.start)) {\n      if (r2.end.isBefore(r1.end, 'strict')) {\n        start = other.end;\n        end = this.end;\n      } else {\n        // the other selection is larger which eliminates this one\n        return Selection.nullSelection;\n      }\n    } else if (r1.end.isEqual(r2.end)) {\n      if (r1.start.isBefore(r2.start, 'strict')) {\n        start = this.start;\n        end = other.start;\n      } else {\n        // the other selection is larger which eliminates this one\n        return Selection.nullSelection;\n      }\n    } else if (this.isInsideOf(other)) {\n      return Selection.nullSelection;\n    } else {\n      throw new Error('Could not determine coordinates for truncate. Check input');\n    }\n    return _createNewSelection(this, start, end);\n  }\n\n  /**\n    Helper to create selection fragments for this ContainerSelection.\n\n    Used for selection rendering, for instance.\n\n    @returns {Selection.Fragment[]} Fragments resulting from splitting this into property selections.\n  */\n  getFragments() {\n    if(this._internal.fragments) {\n      return this._internal.fragments;\n    }\n\n    /*\n      NOTE:\n        This implementation is a bit more complicated\n        to simplify implementations at other places.\n        A ContainerSelections can be seen as a list of property and node\n        fragments.\n        The following implementation is covering all cases in a canonical\n        way, considering all combinations of start end end coordinates\n        either given as ([nodeId, propertyName], offset) or\n        ([nodeId], 0|1).\n    */\n\n\n    var fragments = [];\n\n    var doc = this.getDocument();\n    var container = this.getContainer();\n    var startPos = container.getPosition(this.startPath[0]);\n    var endPos = container.getPosition(this.endPath[0]);\n\n    var coor, node, nodeId, fragment, path, offset, text;\n    if (startPos !== endPos) {\n\n      // First fragment can either be a property fragment (fully or partial) or a node fragment\n      coor = this.start;\n      path = coor.path;\n      offset = coor.offset;\n      nodeId = path[0];\n      node = doc.get(nodeId);\n      if (!node) {\n        throw new Error('Node does not exist:' + nodeId);\n      }\n      // coordinate is a property coordinate\n      if (coor.isPropertyCoordinate()) {\n        text = doc.get(path);\n        fragment = new Selection.Fragment(path, offset, text.length, (offset === 0));\n        fragments.push(fragment);\n      }\n      // coordinate is a node coordinate (before)\n      else if (coor.isNodeCoordinate() && offset === 0) {\n        fragments.push(\n          new Selection.NodeFragment(node.id)\n        );\n      }\n\n      // fragments in-between are either full property fragments or node fragments\n      for (var pos= startPos+1; pos < endPos; pos++) {\n        node = container.getChildAt(pos);\n        if (node.isText()) {\n          path = [node.id, 'content'];\n          text = doc.get(path);\n          fragments.push(\n            new Selection.Fragment(path, 0, text.length, true)\n          );\n        } else {\n          fragments.push(\n            new Selection.NodeFragment(container.nodes[pos])\n          );\n        }\n      }\n\n      // last fragment is again either a property fragment (fully or partial) or a node fragment\n      coor = this.end;\n      path = coor.path;\n      offset = coor.offset;\n      nodeId = path[0];\n      node = doc.get(nodeId);\n      if (!node) {\n        throw new Error('Node does not exist:' + nodeId);\n      }\n      // coordinate is a property coordinate\n      if (coor.isPropertyCoordinate()) {\n        text = doc.get(path);\n        fragment = new Selection.Fragment(path, 0, offset, (offset === text.length));\n        fragments.push(fragment);\n      }\n      // coordinate is a node coordinate (after)\n      else if (coor.isNodeCoordinate() && offset > 0) {\n        fragments.push(\n          new Selection.NodeFragment(node.id)\n        );\n      }\n    } else {\n      // startPos === endPos\n      path = this.start.path;\n      nodeId = path[0];\n      node = doc.get(nodeId);\n      var startIsNodeCoordinate = this.start.isNodeCoordinate();\n      var endIsNodeCoordinate = this.end.isNodeCoordinate();\n      if (!node.isText()) {\n        fragments.push(\n          new Selection.NodeFragment(nodeId)\n        );\n      } else if (startIsNodeCoordinate && endIsNodeCoordinate && this.startOffset < this.endOffset) {\n        fragments.push(\n          new Selection.NodeFragment(nodeId)\n        );\n      } else if (!startIsNodeCoordinate && endIsNodeCoordinate && this.endOffset > 0) {\n        text = doc.get(this.startPath);\n        fragments.push(\n          new Selection.Fragment(path, this.startOffset, text.length, (this.startOffset === 0))\n        );\n      } else if (startIsNodeCoordinate && !endIsNodeCoordinate && this.startOffset === 0) {\n        text = doc.get(this.endPath);\n        fragments.push(\n          new Selection.Fragment(path, 0, this.endOffset, (this.endOffset === text.length))\n        );\n      } else if (!startIsNodeCoordinate && !endIsNodeCoordinate) {\n        text = doc.get(this.startPath);\n        fragments.push(\n          new Selection.Fragment(path, this.startOffset, this.endOffset, (this.startOffset === 0 && this.endOffset === text.length))\n        );\n      }\n    }\n\n    this._internal.fragments = fragments;\n\n    return fragments;\n  }\n\n  /**\n    Splits a container selection into property selections.\n\n    @returns {PropertySelection[]}\n  */\n  splitIntoPropertySelections() {\n    var sels = [];\n    var fragments = this.getFragments();\n    fragments.forEach(function(fragment) {\n      if (fragment instanceof Selection.Fragment) {\n        sels.push(\n          new PropertySelection(fragment.path, fragment.startOffset,\n            fragment.endOffset, false, this.containerId, this.surfaceId)\n        );\n      }\n    }.bind(this));\n    return sels;\n  }\n\n  _clone() {\n    return new ContainerSelection(this);\n  }\n\n  _range(sel) {\n    // EXPERIMENTAL: caching the internal address based range\n    // as we use it very often.\n    // However, this is dangerous as this data can get invalid by a change\n    if (sel._internal.addressRange) {\n      return sel._internal.addressRange;\n    }\n\n    var container = this.getContainer();\n    var startAddress = container.getAddress(sel.start);\n    var endAddress;\n    if (sel.isCollapsed()) {\n      endAddress = startAddress;\n    } else {\n      endAddress = container.getAddress(sel.end);\n    }\n    var addressRange = {\n      start: startAddress,\n      end: endAddress\n    };\n    if (sel._isContainerSelection) {\n      sel._internal.addressRange = addressRange;\n    }\n    return addressRange;\n  }\n}\n\nContainerSelection.prototype._isContainerSelection = true\n\nObject.defineProperties(ContainerSelection.prototype, {\n  path: {\n    get: function() {\n      throw new Error('ContainerSelection has no path property. Use startPath and endPath instead');\n    },\n    set: function() {\n      throw new Error('ContainerSelection has no path property. Use startPath and endPath instead.');\n    }\n  },\n  /**\n    @property {Coordinate} ContainerSelection.start\n  */\n  start: {\n    get: function() {\n      return this._internal.start;\n    },\n    set: function() { throw new Error('ContainerSelection.prototype.start is read-only.'); }\n  },\n  /**\n    @property {Coordinate} ContainerSelection.end\n  */\n  end: {\n    get: function() {\n      return this._internal.end;\n    },\n    set: function() { throw new Error('ContainerSelection.prototype.end is read-only.'); }\n  },\n\n  range: {\n    get: function() {\n      return this._internal.range;\n    },\n    set: function() { throw new Error('ContainerSelection.prototype.range is read-only.'); }\n  },\n\n});\n\nContainerSelection.fromJSON = function(properties) {\n  var sel = new ContainerSelection(properties);\n  return sel;\n}\n\nfunction _createNewSelection(containerSel, start, end) {\n  var newSel = new ContainerSelection(containerSel.containerId,\n    start.path, start.offset, end.path, end.offset, false, containerSel.surfaceId);\n  // we need to attach the new selection\n  var doc = containerSel._internal.doc;\n  if (doc) {\n    newSel.attach(doc);\n  }\n  return newSel;\n}\n\nexport default ContainerSelection\n\n","import isString from '../util/isString'\nimport Selection from './Selection'\nimport Coordinate from './Coordinate'\n\nclass NodeSelection extends Selection {\n\n  constructor(containerId, nodeId, mode, reverse, surfaceId) {\n    super()\n\n    if (arguments.length === 1) {\n      let data = arguments[0]\n      containerId = data.containerId\n      nodeId = data.nodeId\n      mode = data.mode\n      reverse = data.reverse\n      surfaceId = data.surfaceId\n    }\n\n    if (!isString(containerId)) {\n      throw new Error(\"'containerId' is mandatory.\");\n    }\n    if (!isString(nodeId)) {\n      throw new Error(\"'nodeId' is mandatory.\");\n    }\n    if (['full', 'before', 'after'].indexOf(mode) < 0) {\n      throw new Error(\"'mode' is mandatory.\");\n    }\n\n    this.containerId = containerId;\n    this.nodeId = nodeId;\n    this.mode = mode;\n    this.reverse = Boolean(reverse);\n    this.surfaceId = surfaceId;\n  }\n\n  // for duck-typed instanceof\n  get _isNodeSelection() { return true }\n\n\n  equals(other) {\n    return (\n      super.equals(other) &&\n      this.nodeId === other.nodeId &&\n      this.mode === other.mode\n    )\n  }\n\n  isNodeSelection() {\n    return true;\n  }\n\n  getType() {\n    return 'node';\n  }\n\n  getNodeId() {\n    return this.nodeId;\n  }\n\n  isFull() {\n    return this.mode === 'full';\n  }\n\n  isBefore() {\n    return this.mode === 'before';\n  }\n\n  isAfter() {\n    return this.mode === 'after';\n  }\n\n  isCollapsed() {\n    return this.mode !== 'full';\n  }\n\n  toJSON() {\n    return {\n      containerId: this.containerId,\n      nodeId: this.nodeId,\n      mode: this.mode,\n      reverse: this.reverse,\n      surfaceId: this.surfaceId\n    };\n  }\n\n  toString() {\n    /* istanbul ignore next */\n    return [\n      \"NodeSelection(\",\n      this.containerId, \".\", this.nodeId, \", \",\n      this.mode, \", \",\n      (this.reverse?\", reverse\":\"\"),\n      (this.surfaceId?(\", \"+this.surfaceId):\"\"),\n      \")\"\n    ].join('');\n  }\n\n  collapse(direction) {\n    if (direction === 'left') {\n      if (this.isBefore()) {\n        return this;\n      } else {\n        return new NodeSelection(this.containerId, this.nodeId, 'before', this.reverse, this.surfaceId);\n      }\n    } else if (direction === 'right') {\n      if (this.isAfter()) {\n        return this;\n      } else {\n        return new NodeSelection(this.containerId, this.nodeId, 'after', this.reverse, this.surfaceId);\n      }\n    } else {\n      throw new Error(\"'direction' must be either 'left' or 'right'\");\n    }\n  }\n\n  _getCoordinate() {\n    if (this.mode === 'before') {\n      return new Coordinate([this.nodeId], 0);\n    } else if (this.mode === 'after') {\n      return new Coordinate([this.nodeId], 1);\n    }\n  }\n\n  _clone() {\n    return new NodeSelection(this);\n  }\n}\n\nNodeSelection.fromJSON = function(json) {\n  return new NodeSelection(json);\n}\n\nNodeSelection._createFromRange = function(range) {\n  var containerId = range.containerId;\n  var nodeId = range.start.getNodeId();\n  var startOffset = range.start.offset;\n  var endOffset = range.end.offset;\n  var reverse = range.reverse;\n  var mode;\n  if (startOffset === endOffset) {\n    mode = startOffset === 0 ? 'before' : 'after';\n  } else {\n    mode = 'full';\n  }\n  return new NodeSelection(containerId, nodeId, mode, reverse);\n};\n\nNodeSelection._createFromCoordinate = function(coor) {\n  var containerId = coor.containerId;\n  var nodeId = coor.getNodeId();\n  var mode = coor.offset === 0 ? 'before' : 'after';\n  return new NodeSelection(containerId, nodeId, mode, false);\n};\n\nexport default NodeSelection\n","import { cloneDeep, isEqual } from 'lodash-es'\nimport Selection from './Selection'\n\nclass CustomSelection extends Selection {\n\n  constructor(customType, data, surfaceId) {\n    super()\n\n    if (arguments.length === 1) {\n      let _data = arguments[0]\n      customType = _data.customType\n      data = _data.data\n      surfaceId = _data.surfaceId\n    }\n\n    this.customType = customType;\n    this.data = data || {};\n    this.surfaceId = surfaceId;\n  }\n\n  isCustomSelection() {\n    return true;\n  }\n\n  getType() {\n    return 'custom';\n  }\n\n  getCustomType() {\n    return this.customType;\n  }\n\n  toJSON() {\n    return {\n      type: 'custom',\n      customType: this.customType,\n      data: cloneDeep(this.data),\n      surfaceId: this.surfaceId\n    };\n  }\n\n  toString() {\n    /* istanbul ignore next */\n    return [\n      'CustomSelection(',\n      this.customType,', ',\n      JSON.stringify(this.data),\n      \")\"\n    ].join('');\n  }\n\n  equals(other) {\n    return (\n      Selection.prototype.equals.call(this, other) &&\n      other.isCustomSelection() &&\n      isEqual(this.data, other.data)\n    );\n  }\n\n  _clone() {\n    return new CustomSelection(this)\n  }\n}\n\nCustomSelection.prototype._isCustomSelection = true\n\nCustomSelection.fromJSON = function(json) {\n  return new CustomSelection(json);\n}\n\nexport default CustomSelection\n","import Selection from './Selection'\nimport PropertySelection from './PropertySelection'\nimport ContainerSelection from './ContainerSelection'\nimport NodeSelection from './NodeSelection'\nimport CustomSelection from './CustomSelection'\n\nexport function fromJSON(json) {\n  if (!json) return Selection.nullSelection;\n  var type = json.type;\n  switch(type) {\n    case 'property':\n      return PropertySelection.fromJSON(json);\n    case 'container':\n      return ContainerSelection.fromJSON(json);\n    case 'node':\n      return NodeSelection.fromJSON(json);\n    case 'custom':\n      return CustomSelection.fromJSON(json);\n    default:\n      // console.error('Selection.fromJSON(): unsupported selection data', json);\n      return Selection.nullSelection;\n  }\n}\n","import { isEqual, isObject, clone, cloneDeep } from 'lodash-es'\nimport isArray from '../util/isArray'\nimport forEach from '../util/forEach'\nimport map from '../util/map'\nimport uuid from '../util/uuid'\nimport OperationSerializer from './data/OperationSerializer'\nimport ObjectOperation from './data/ObjectOperation'\nimport { fromJSON as selectionFromJSON } from './selectionHelpers'\n\n/*\n\n  States:\n\n  - Provisional:\n\n    Change has been applied to the document already. Subsequent changes might be merged\n    into it, to achieve a more natural representation.\n\n  - Final:\n\n    Change has been finalized.\n\n  - Pending:\n\n    Change has been committed to the collaboration hub.\n\n  - Acknowledged:\n\n    Change has been applied and acknowledged by the server.\n*/\nclass DocumentChange {\n\n  constructor(ops, before, after) {\n    if (arguments.length === 1 && isObject(arguments[0])) {\n      var data = arguments[0]\n      // a unique id for the change\n      this.sha = data.sha\n      // when the change has been applied\n      this.timestamp = data.timestamp\n      // application state before the change was applied\n      this.before = data.before || {}\n      // array of operations\n      this.ops = data.ops\n      this.info = data.info; // custom change info\n      // application state after the change was applied\n      this.after = data.after || {}\n    } else if (arguments.length === 3) {\n      this.sha = uuid()\n      this.info = {}\n      this.timestamp = Date.now()\n      this.ops = ops.slice(0)\n      this.before = before || {}\n      this.after = after || {}\n    } else {\n      throw new Error('Illegal arguments.')\n    }\n    // a hash with all updated properties\n    this.updated = null\n    // a hash with all created nodes\n    this.created = null\n    // a hash with all deleted nodes\n    this.deleted = null\n  }\n\n  /*\n    Extract aggregated information about which nodes and properties have been affected.\n    This gets called by Document after applying the change.\n  */\n  _extractInformation(doc) {\n    var ops = this.ops\n    var created = {}\n    var deleted = {}\n    var updated = {}\n    var affectedContainerAnnos = []\n\n    // TODO: we will introduce a special operation type for coordinates\n    function _checkAnnotation(op) {\n      var node = op.val\n      var path, propName\n      switch (op.type) {\n        case \"create\":\n        case \"delete\":\n          // HACK: detecting annotation changes in an opportunistic way\n          if (node.hasOwnProperty('startOffset')) {\n            path = node.path || node.startPath\n            updated[path] = true\n          }\n          if (node.hasOwnProperty('endPath')) {\n            path = node.endPath\n            updated[path] = true\n          }\n          break\n        case \"update\":\n        case \"set\":\n          // HACK: detecting annotation changes in an opportunistic way\n          node = doc.get(op.path[0])\n          if (node) {\n            propName = op.path[1]\n            if (node.isPropertyAnnotation()) {\n              if ((propName === 'path' || propName === 'startOffset' ||\n                   propName === 'endOffset') && !deleted[node.path[0]]) {\n                updated[node.path] = true\n              }\n            } else if (node.isContainerAnnotation()) {\n              if (propName === 'startPath' || propName === 'startOffset' ||\n                  propName === 'endPath' || propName === 'endOffset') {\n                affectedContainerAnnos.push(node)\n              }\n            }\n          }\n          break\n        default:\n          throw new Error('Illegal state')\n      }\n    }\n\n    for (var i = 0; i < ops.length; i++) {\n      var op = ops[i]\n      if (op.type === \"create\") {\n        created[op.val.id] = op.val\n        delete deleted[op.val.id]\n      }\n      if (op.type === \"delete\") {\n        delete created[op.val.id]\n        deleted[op.val.id] = op.val\n      }\n      if (op.type === \"set\" || op.type === \"update\") {\n        updated[op.path] = true\n        // also mark the node itself as dirty\n        updated[op.path[0]] = true\n      }\n      _checkAnnotation(op)\n    }\n\n    affectedContainerAnnos.forEach(function(anno) {\n      var container = doc.get(anno.containerId, 'strict')\n      var startPos = container.getPosition(anno.startPath[0])\n      var endPos = container.getPosition(anno.endPath[0])\n      for (var pos = startPos; pos <= endPos; pos++) {\n        var node = container.getChildAt(pos)\n        var path\n        if (node.isText()) {\n          path = [node.id, 'content']\n        } else {\n          path = [node.id]\n        }\n        if (!deleted[node.id]) {\n          updated[path] = true\n        }\n      }\n    })\n\n    // remove all deleted nodes from updated\n    if(Object.keys(deleted).length > 0) {\n      forEach(updated, function(_, key) {\n        var nodeId = key.split(',')[0]\n        if (deleted[nodeId]) {\n          delete updated[key]\n        }\n      })\n    }\n\n    this.created = created\n    this.deleted = deleted\n    this.updated = updated\n  }\n\n  invert() {\n    // shallow cloning this\n    var copy = this.toJSON()\n    copy.ops = []\n    // swapping before and after\n    var tmp = copy.before\n    copy.before = copy.after\n    copy.after = tmp\n    var inverted = DocumentChange.fromJSON(copy)\n    var ops = []\n    for (var i = this.ops.length - 1; i >= 0; i--) {\n      ops.push(this.ops[i].invert())\n    }\n    inverted.ops = ops\n    return inverted\n  }\n\n  // Inspection API used by DocumentChange listeners\n  // ===============================================\n\n  isAffected(path) {\n    return this.updated[path]\n  }\n\n  isUpdated(path) {\n    // TODO: decide which API we prefer\n    return this.isAffected(path)\n  }\n\n  /*\n    TODO serializers and deserializers should allow\n    for application data in 'after' and 'before'\n  */\n\n  serialize() {\n    var opSerializer = new OperationSerializer()\n    var data = this.toJSON()\n    data.ops = this.ops.map(function(op) {\n      return opSerializer.serialize(op)\n    })\n    return JSON.stringify(data)\n  }\n\n  clone() {\n    return DocumentChange.fromJSON(this.toJSON())\n  }\n\n  toJSON() {\n    var data = {\n      // to identify this change\n      sha: this.sha,\n      // before state\n      before: clone(this.before),\n      ops: map(this.ops, function(op) {\n        return op.toJSON()\n      }),\n      info: this.info,\n      // after state\n      after: clone(this.after),\n    }\n\n    // Just to make sure rich selection objects don't end up\n    // in the JSON result\n    data.after.selection = undefined\n    data.before.selection = undefined\n\n    var sel = this.before.selection\n    if (sel && sel._isSelection) {\n      data.before.selection = sel.toJSON()\n    }\n    sel = this.after.selection\n    if (sel && sel._isSelection) {\n      data.after.selection = sel.toJSON()\n    }\n    return data\n  }\n}\n\nDocumentChange.deserialize = function(str) {\n  var opSerializer = new OperationSerializer()\n  var data = JSON.parse(str)\n  data.ops = data.ops.map(function(opData) {\n    return opSerializer.deserialize(opData)\n  })\n  if (data.before.selection) {\n    data.before.selection = selectionFromJSON(data.before.selection)\n  }\n  if (data.after.selection) {\n    data.after.selection = selectionFromJSON(data.after.selection)\n  }\n  return new DocumentChange(data)\n}\n\nDocumentChange.fromJSON = function(data) {\n  // Don't write to original object on deserialization\n  var change = cloneDeep(data)\n  change.ops = data.ops.map(function(opData) {\n    return ObjectOperation.fromJSON(opData)\n  })\n  change.before.selection = selectionFromJSON(data.before.selection)\n  change.after.selection = selectionFromJSON(data.after.selection)\n  return new DocumentChange(change)\n}\n\n/*\n  Transforms change A with B, as if A was done before B.\n  A' and B' can be used to update two clients to get to the\n  same document content.\n\n     / A - B' \\\n  v_n          v_n+1\n     \\ B - A' /\n*/\nDocumentChange.transformInplace = function(A, B) {\n  _transformInplaceBatch(A, B)\n}\n\nfunction _transformInplaceSingle(a, b) {\n  for (var i = 0; i < a.ops.length; i++) {\n    var a_op = a.ops[i]\n    for (var j = 0; j < b.ops.length; j++) {\n      var b_op = b.ops[j]\n      // ATTENTION: order of arguments is important.\n      // First argument is the dominant one, i.e. it is treated as if it was applied before\n      ObjectOperation.transform(a_op, b_op, {inplace: true})\n    }\n  }\n  if (a.before) {\n    _transformSelectionInplace(a.before.selection, b)\n  }\n  if (a.after) {\n    _transformSelectionInplace(a.after.selection, b)\n  }\n  if (b.before) {\n    _transformSelectionInplace(b.before.selection, a)\n  }\n  if (b.after) {\n    _transformSelectionInplace(b.after.selection, a)\n  }\n}\n\nfunction _transformInplaceBatch(A, B) {\n  if (!isArray(A)) {\n    A = [A]\n  }\n  if (!isArray(B)) {\n    B = [B]\n  }\n  for (var i = 0; i < A.length; i++) {\n    var a = A[i]\n    for (var j = 0; j < B.length; j++) {\n      var b = B[j]\n      _transformInplaceSingle(a,b)\n    }\n  }\n}\n\nfunction _transformSelectionInplace(sel, a) {\n  if (!sel || (!sel.isPropertySelection() && !sel.isContainerSelection()) ) {\n    return false\n  }\n  var ops = a.ops\n  var hasChanged = false\n  var isCollapsed = sel.isCollapsed()\n  for(var i=0; i<ops.length; i++) {\n    var op = ops[i]\n    hasChanged |= _transformCoordinateInplace(sel.start, op)\n    if (!isCollapsed) {\n      hasChanged |= _transformCoordinateInplace(sel.end, op)\n    } else {\n      if (sel.isContainerSelection()) {\n        sel.endPath = sel.startPath\n      }\n      sel.endOffset = sel.startOffset\n    }\n  }\n  return hasChanged\n}\n\nDocumentChange.transformSelection = function(sel, a) {\n  var newSel = sel.clone()\n  var hasChanged = _transformSelectionInplace(newSel, a)\n  if (hasChanged) {\n    return newSel\n  } else {\n    return sel\n  }\n}\n\nfunction _transformCoordinateInplace(coor, op) {\n  if (!isEqual(op.path, coor.path)) return false\n  var hasChanged = false\n  if (op.type === 'update' && op.propertyType === 'string') {\n    var diff = op.diff\n    var newOffset\n    if (diff.isInsert() && diff.pos <= coor.offset) {\n      newOffset = coor.offset + diff.str.length\n      // console.log('Transforming coordinate after inserting %s chars:', diff.str.length, coor.toString(), '->', newOffset)\n      coor.offset = newOffset\n      hasChanged = true\n    } else if (diff.isDelete() && diff.pos <= coor.offset) {\n      newOffset = Math.max(diff.pos, coor.offset - diff.str.length)\n      // console.log('Transforming coordinate after deleting %s chars:', diff.str.length, coor.toString(), '->', newOffset)\n      coor.offset = newOffset\n      hasChanged = true\n    }\n  }\n  return hasChanged\n}\n\nexport default DocumentChange\n","import EventEmitter from '../util/EventEmitter'\nimport { forEach, extend } from 'lodash-es'\nimport map from '../util/map'\n\nimport DocumentChange from '../model/DocumentChange'\nimport Err from '../util/SubstanceError'\n\n/*\n  Engine for realizing collaborative editing. Implements the server-methods of\n  real time editing as a reusable library.\n*/\nclass CollabEngine extends EventEmitter {\n  constructor(documentEngine) {\n    super()\n    this.documentEngine = documentEngine\n    // Active collaborators\n    this._collaborators = {}\n  }\n\n  /*\n    Register collaborator for a given documentId\n  */\n  _register(collaboratorId, documentId, collaboratorInfo) {\n    let collaborator = this._collaborators[collaboratorId]\n\n    if (!collaborator) {\n      collaborator = this._collaborators[collaboratorId] = {\n        collaboratorId: collaboratorId,\n        documents: {}\n      }\n    }\n\n    // Extend with collaboratorInfo if available\n    collaborator.info = collaboratorInfo\n\n    // Register document\n    collaborator.documents[documentId] = {}\n  }\n\n  /*\n    Unregister collaborator id from document\n  */\n  _unregister(collaboratorId, documentId) {\n    let collaborator = this._collaborators[collaboratorId]\n    delete collaborator.documents[documentId]\n    let docCount = Object.keys(collaborator.documents).length\n    // If there is no doc left, we can remove the entire collaborator entry\n    if (docCount === 0) {\n      delete this._collaborators[collaboratorId]\n    }\n  }\n\n  /*\n    Get list of active documents for a given collaboratorId\n  */\n  getDocumentIds(collaboratorId) {\n    let collaborator = this._collaborators[collaboratorId]\n    if (!collaborator) {\n      // console.log('CollabEngine.getDocumentIds', collaboratorId, 'not found');\n      // console.log('CollabEngine._collaborators', this._collaborators);\n      return []\n    }\n    return Object.keys(collaborator.documents)\n  }\n\n  /*\n    Get collaborators for a specific document\n  */\n  getCollaborators(documentId, collaboratorId) {\n    let collaborators = {}\n    forEach(this._collaborators, function(collab) {\n      let doc = collab.documents[documentId]\n      if (doc && collab.collaboratorId !== collaboratorId) {\n        let entry = {\n          // selection: doc.selection,\n          collaboratorId: collab.collaboratorId\n        }\n        entry = extend({}, collab.info, entry)\n        collaborators[collab.collaboratorId] = entry\n      }\n    })\n    return collaborators\n  }\n\n  /*\n    Get only collaborator ids for a specific document\n  */\n  getCollaboratorIds(documentId, collaboratorId) {\n    let collaborators = this.getCollaborators(documentId, collaboratorId)\n    return map(collaborators, function(c) {\n      return c.collaboratorId\n    })\n  }\n\n  /*\n    Client starts a sync\n\n    @param args.documentId\n    @param args.version The client's document version (0 if client starts with an empty doc)\n    @param args.change pending client change\n\n    Note: a client can reconnect having a pending change\n    which is similar to the commit case\n  */\n  sync({documentId, version, change, collaboratorId}, cb) {\n    this._sync({documentId, version, change}, function(err, result) {\n      if (err) return cb(err)\n      // Registers the collaborator If not already registered for that document\n      this._register(collaboratorId, documentId)\n      cb(null, result)\n    }.bind(this))\n  }\n\n  /*\n    Internal implementation of sync\n\n\n    @param {String} args.documentId document id\n    @param {Number} args.version client version\n    @param {Number} args.change new change (optional)\n\n    OUT: version, change (rebased client change), serverChange (ustream ops)\n  */\n  _sync({documentId, version, change}, cb) {\n    this.documentEngine.getVersion(documentId, (err, serverVersion) => {\n      if (version > serverVersion) {\n        cb(new Err('InvalidVersionError', {\n          message: 'Client version greater than server version'\n        }))\n      } else if (change && serverVersion === version) {\n        this._syncFF({documentId, version, change}, cb)\n      } else if (change && serverVersion > version) {\n        this._syncRB({documentId, version, change}, cb)\n      } else if (!change) {\n        // E.g. when a client joins a session\n        this._syncPullOnly({documentId, version, change}, cb)\n      } else {\n        console.warn('Unhandled case')\n      }\n    })\n  }\n\n  _syncPullOnly({documentId, version, change}, cb) {\n    console.warn('This code is not yet tested')\n    this.documentEngine.getChanges(documentId, version, (err, changes) => {\n      let serverChange\n\n      // Collect ops from all changes to turn them into a single change\n      if (changes.length > 0) {\n        let ops = []\n        changes.forEach((change) => {\n          ops = ops.concat(change.ops)\n        })\n        serverChange = new DocumentChange(ops, {}, {})\n        serverChange = this.serializeChange(serverChange)\n      }\n      cb(null, {\n        serverChange: serverChange,\n        change: change,\n        version: version\n      })\n    })\n  }\n\n  /*\n    Fast forward sync (client version = server version)\n  */\n  _syncFF({documentId, change}, cb) {\n    this.documentEngine.addChange(documentId, change, (err, serverVersion) => {\n      if (err) return cb(err)\n      cb(null, {\n        change: change, // collaborators must be notified\n        serverChange: null,\n        version: serverVersion\n      })\n    })\n  }\n\n  /*\n    Rebased sync (client version < server version)\n  */\n  _syncRB({documentId, change, version}, cb) {\n    this._rebaseChange({documentId, change, version}, function(err, rebased) {\n      // result has change, changes, version (serverversion)\n      if (err) return cb(err)\n      // Store the rebased commit\n      this.documentEngine.addChange(\n        documentId,\n        change,\n        function(err, serverVersion) {\n          if (err) return cb(err)\n          cb(null, {\n            change: rebased.change,\n            // collaborators must be notified\n            serverChange: rebased.serverChange,\n            version: serverVersion\n          })\n        }\n      )\n    }.bind(this))\n  }\n\n  /*\n    Rebase change\n\n    IN: documentId, change, version (client version)\n    OUT: change, serverChange, version (server version)\n  */\n  _rebaseChange({documentId, change, version}, cb) {\n    this.documentEngine.getChanges(documentId, version, function(err, result) {\n      let B = result.changes.map(this.deserializeChange)\n      let a = this.deserializeChange(change)\n      // transform changes\n      DocumentChange.transformInplace(a, B)\n      let ops = B.reduce(function(ops, change) {\n        return ops.concat(change.ops)\n      }, [])\n      let serverChange = new DocumentChange(ops, {}, {})\n\n      cb(null, {\n        change: this.serializeChange(a),\n        serverChange: this.serializeChange(serverChange),\n        version: result.version\n      })\n    }.bind(this))\n  }\n\n  /*\n    Collaborator leaves a document editing session\n\n    NOTE: This method is synchronous\n  */\n  disconnect(args) {\n    this._unregister(args.collaboratorId, args.documentId)\n  }\n\n  /*\n    To JSON\n  */\n  serializeChange(change) {\n    return change.toJSON()\n  }\n\n  /*\n    From JSON\n  */\n  deserializeChange(serializedChange) {\n    let ch = DocumentChange.fromJSON(serializedChange)\n    return ch\n  }\n\n}\n\nexport default CollabEngine\n","/* global WeakMap */\n\nimport uuid from '../util/uuid'\nimport EventEmitter from '../util/EventEmitter'\n\n/**\n  Server\n\n  Implements a generic layered architecture\n*/\nclass Server extends EventEmitter {\n  constructor(config) {\n    super()\n\n    this.config = config\n    this._onConnection = this._onConnection.bind(this)\n  }\n\n  bind(wss) {\n    if (this.wss) {\n      throw new Error('Server is already bound to a websocket')\n    }\n    this.wss = wss\n    this._connections = new WeakMap()\n    this._collaborators = {}\n    this.wss.on('connection', this._onConnection)\n\n    let interval = this.config.heartbeat\n    if (interval) {\n      this._heartbeat = setInterval(this._sendHeartbeat.bind(this), interval)\n    }\n    this._bound = true\n  }\n\n  /*\n    NOTE: This method is yet untested\n  */\n  unbind() {\n    if (this._bound) {\n      this.wss.off('connection', this._onConnection)\n    } else {\n      throw new Error('Server is not yet bound to a websocket.')\n    }\n  }\n\n  /*\n    Hook called when a collaborator connects\n  */\n  onConnection(/*collaboratorId*/) {\n    // noop\n  }\n\n  /*\n    Hook called when a collaborator disconnects\n  */\n  onDisconnect(/*collaboratorId*/) {\n    // noop\n  }\n\n  /*\n    Stub implementation for authenticate middleware.\n\n    Implement your own as a hook\n  */\n  authenticate(req, res) {\n    req.setAuthenticated()\n    this.next(req, res)\n  }\n\n  /*\n    Stub implementation for authorize middleware\n\n    Implement your own as a hook\n  */\n  authorize(req, res) {\n    req.setAuthorized()\n    this.next(req, res)\n  }\n\n\n  /*\n    Ability to enrich the request data\n  */\n  enhanceRequest(req, res) {\n    req.setEnhanced()\n    this.next(req, res)\n  }\n\n  /*\n    Executes the API according to the message type\n\n    Implement your own as a hook\n  */\n  execute(/*req, res*/) {\n    throw new Error('This method needs to be specified')\n  }\n\n  /*\n    Ability to enrich the response data\n  */\n  enhanceResponse(req, res) {\n    res.setEnhanced()\n    this.next(req, res)\n  }\n\n  /*\n    When a new collaborator connects we generate a unique id for them\n  */\n  _onConnection(ws) {\n    let collaboratorId = uuid()\n    let connection = {\n      collaboratorId: collaboratorId\n    }\n    this._connections.set(ws, connection)\n\n    // Mapping to find connection for collaboratorId\n    this._collaborators[collaboratorId] = {\n      connection: ws\n    }\n\n    ws.on('message', this._onMessage.bind(this, ws))\n    ws.on('close', this._onClose.bind(this, ws))\n  }\n\n  /*\n    When websocket connection closes\n  */\n  _onClose(ws) {\n    let conn = this._connections.get(ws)\n    let collaboratorId = conn.collaboratorId\n\n    this.onDisconnect(collaboratorId)\n\n    // Remove the connection records\n    delete this._collaborators[collaboratorId]\n    this._connections.delete(ws)\n  }\n\n  /*\n    Implements state machine for handling the request response cycle\n\n    __initial -        > authenticated      -> __authenticated, __error\n    __authenticated   -> authorize          -> __authorized, __error\n    __authorized      -> enhanceRequest     -> __requestEnhanced, __error\n    __requestEnhanced -> execute            -> __executed, __error\n    __executed        -> enhanceResponse    -> __enhanced, __error\n    __enhanced        -> sendResponse       -> __done, __error\n    __error           -> sendError          -> __done\n    __done // end state\n  */\n  __initial(req, res) {\n    return !req.isAuthenticated && !req.isAuthorized && !res.isReady\n  }\n\n  __authenticated(req, res) {\n    return req.isAuthenticated && !req.isAuthorized && !res.isReady\n  }\n\n  __authorized(req, res) {\n    return req.isAuthenticated && req.isAuthorized && !req.isEnhanced && !res.isReady\n  }\n\n  __requestEnhanced(req, res) {\n    return req.isAuthenticated && req.isAuthorized && req.isEnhanced && !res.isReady\n  }\n\n  __executed(req, res) {\n    // excecute must call res.send() so res.data is set\n    return req.isAuthenticated && req.isAuthorized && res.isReady && res.data && !res.isEnhanced\n  }\n\n  __enhanced(req, res) {\n    return res.isReady && res.isEnhanced && !res.isSent\n  }\n\n  __error(req, res) {\n    return res.err && !res.isSent\n  }\n\n  __done(req, res) {\n    return res.isSent\n  }\n\n  next(req, res) {\n    if (this.__initial(req, res)) {\n      this.authenticate(req, res)\n    } else if (this.__authenticated(req, res)) {\n      this.authorize(req, res)\n    } else if (this.__authorized(req, res)) {\n      this.enhanceRequest(req, res)\n    } else if (this.__requestEnhanced(req, res)) {\n      this.execute(req, res)\n    } else if (this.__executed(req, res)) {\n      this.enhanceResponse(req, res)\n    } else if (this.__enhanced(req, res)) {\n      this.sendResponse(req, res)\n    } else if (this.__error(req, res)) {\n      this.sendError(req, res)\n    } else if (this.__done(req,res)) {\n      // console.log('We are done with processing the request.');\n    }\n  }\n\n  /*\n    Send error response\n  */\n  sendError(req, res) {\n    let collaboratorId = req.message.collaboratorId\n    let msg = res.err\n    this.send(collaboratorId, msg)\n    res.setSent()\n    this.next(req, res)\n  }\n\n  /*\n    Sends a heartbeat message to all connected collaborators\n  */\n  _sendHeartbeat() {\n    Object.keys(this._collaborators).forEach(function(collaboratorId) {\n      this.send(collaboratorId, {\n        type: 'highfive',\n        scope: '_internal'\n      });\n    }.bind(this))\n  }\n\n  /*\n    Send response\n  */\n  sendResponse(req, res) {\n    let collaboratorId = req.message.collaboratorId\n    this.send(collaboratorId, res.data)\n    res.setSent()\n    this.next(req, res)\n  }\n\n  _isWebsocketOpen(ws) {\n    return ws && ws.readyState === 1\n  }\n\n  /*\n    Send message to collaborator\n  */\n  send(collaboratorId, message) {\n    if (!message.scope && this.config.scope) {\n      message.scope = this.config.scope\n    }\n\n    let ws = this._collaborators[collaboratorId].connection\n    if (this._isWebsocketOpen(ws)) {\n      ws.send(this.serializeMessage(message))\n    } else {\n      console.error('Server#send: Websocket for collaborator', collaboratorId, 'is no longer open', message)\n    }\n  }\n\n  /*\n    Send message to collaborator\n  */\n  broadCast(collaborators, message) {\n    collaborators.forEach(function(collaboratorId) {\n      this.send(collaboratorId, message)\n    }.bind(this))\n  }\n\n  // Takes a request object\n  _processRequest(req) {\n    let res = new ServerResponse()\n    this.next(req, res)\n  }\n\n  /*\n    Handling of client messages.\n\n    Message comes in in the following format:\n\n    We turn this into a method call internally:\n\n    this.open(ws, 'doc13')\n\n    The first argument is always the websocket so we can respond to messages\n    after some operations have been performed.\n  */\n  _onMessage(ws, msg) {\n    // Retrieve the connection data\n    let conn = this._connections.get(ws)\n    msg = this.deserializeMessage(msg)\n\n    if (msg.scope === this.scope) {\n      // We attach a unique collaborator id to each message\n      msg.collaboratorId = conn.collaboratorId\n      let req = new ServerRequest(msg, ws)\n      this._processRequest(req)\n    }\n  }\n\n  serializeMessage(msg) {\n    return JSON.stringify(msg)\n  }\n\n  deserializeMessage(msg) {\n    return JSON.parse(msg)\n  }\n\n}\n\n/*\n  ServerRequest\n*/\n\nclass ServerRequest {\n  constructor(message, ws) {\n    this.message = message\n    this.ws = ws\n    this.isAuthenticated = false\n    this.isAuhorized = false\n  }\n\n  /*\n    Marks a request as authenticated\n  */\n  setAuthenticated(session) {\n    this.isAuthenticated = true\n    this.session = session\n  }\n\n  /*\n    Marks a request as authorized (authorizationData is optional)\n  */\n  setAuthorized(authorizationData) {\n    this.isAuthorized = true\n    this.authorizationData = authorizationData\n  }\n\n  /*\n    Sets the isEnhanced flag\n  */\n  setEnhanced() {\n    this.isEnhanced = true\n  }\n}\n\n\n/*\n  ServerResponse\n*/\nclass ServerResponse {\n  constructor() {\n    this.isReady = false // once the response has been set using send\n    this.isEnhanced = false // after response has been enhanced by enhancer\n    this.isSent = false // after response has been sent\n    this.err = null\n    this.data = null\n  }\n\n  /*\n    Sends an error response\n\n    @example\n\n    ```js\n    res.error({\n      type: 'syncError',\n      errorName: 'AuthenticationError',\n      documentId: 'doc-1'\n    });\n    ```\n  */\n  error(err) {\n    this.err = err\n    this.isReady = true\n  }\n\n  /*\n    Send response data\n  */\n  send(data) {\n    this.data = data\n    this.isReady = true\n  }\n\n  /*\n    Sets the isEnhanced flag\n  */\n  setEnhanced() {\n    this.isEnhanced = true\n  }\n\n  setSent() {\n    this.isSent = true\n  }\n}\n\nexport default Server\n","import Server from './Server'\nimport CollabEngine from './CollabEngine'\nimport Err from '../util/SubstanceError'\nimport { forEach } from 'lodash-es'\n\n/*\n  Implements Substance CollabServer API.\n*/\nclass CollabServer extends Server {\n  constructor(config) {\n    super(config)\n\n    this.scope = 'substance/collab'\n    this.configurator = config.configurator\n    this.documentEngine = this.configurator.getDocumentEngine()\n    this.collabEngine = new CollabEngine(this.documentEngine)\n  }\n\n  /*\n    Send an error\n  */\n  _error(req, res, err) {\n    console.error(err)\n    res.error({\n      scope: this.scope,\n      type: 'error',\n      error: {\n        name: req.message.type+'Error',\n        cause: {\n          name: err.name\n        }\n      },\n      documentId: req.message.documentId\n    })\n    this.next(req, res)\n  }\n\n  /*\n    Configurable authenticate method\n  */\n  authenticate(req, res) {\n    if (this.config.authenticate) {\n      this.config.authenticate(req, (err, session) => {\n        if (err) {\n          console.error(err)\n          // Send the response with some delay\n          this._error(req, res, new Err('AuthenticationError', {cause: err}))\n          return\n        }\n        req.setAuthenticated(session)\n        this.next(req, res)\n      })\n    } else {\n      super.authenticate.apply(this, arguments);\n    }\n  }\n\n  /*\n    Configureable enhanceRequest method\n  */\n  enhanceRequest(req, res) {\n    if (this.config.enhanceRequest) {\n      this.config.enhanceRequest(req, (err) => {\n        if (err) {\n          console.error('enhanceRequest returned an error', err)\n          this._error(req, res, err)\n          return\n        }\n        req.setEnhanced()\n        this.next(req, res)\n      })\n    } else {\n      super.enhanceRequest.apply(this, arguments)\n    }\n  }\n\n  /*\n    Called when a collaborator disconnects\n  */\n  onDisconnect(collaboratorId) {\n    // console.info('CollabServer.onDisconnect ', collaboratorId)\n    // All documents collaborator is currently collaborating to\n    let documentIds = this.collabEngine.getDocumentIds(collaboratorId)\n    documentIds.forEach(function(documentId) {\n      this._disconnectDocument(collaboratorId, documentId)\n    }.bind(this))\n  }\n\n  /*\n    Execute CollabServer API method based on msg.type\n  */\n  execute(req, res) {\n    let msg = req.message\n    let method = this[msg.type]\n\n    if (method) {\n      method.call(this, req, res)\n    } else {\n      console.error('Method', msg.type, 'not implemented for CollabServer')\n    }\n  }\n\n  /*\n    Client initiates a sync\n  */\n  sync(req, res) {\n    let args = req.message\n\n    // Takes an optional argument collaboratorInfo\n    this.collabEngine.sync(args, (err, result) => {\n      // result: changes, version, change\n      if (err) {\n        this._error(req, res, err)\n        return\n      }\n\n      // Get enhanced collaborators (e.g. including some app-specific user-info)\n      let collaborators = this.collabEngine.getCollaborators(args.documentId, args.collaboratorId)\n\n      // Send the response\n      res.send({\n        scope: this.scope,\n        type: 'syncDone',\n        documentId: args.documentId,\n        version: result.version,\n        serverChange: result.serverChange,\n      })\n\n      // We need to broadcast a new change if there is one\n      forEach(collaborators, (collaborator) => {\n        this.send(collaborator.collaboratorId, {\n          scope: this.scope,\n          type: 'update',\n          documentId: args.documentId,\n          version: result.version,\n          change: result.change\n        })\n      })\n      this.next(req, res)\n    })\n  }\n\n  /*\n    Expcicit disconnect. User wants to exit a collab session.\n  */\n  disconnect(req, res) {\n    let args = req.message\n    let collaboratorId = args.collaboratorId\n    let documentId = args.documentId\n    this._disconnectDocument(collaboratorId, documentId)\n    // Notify client that disconnect has completed successfully\n    res.send({\n      scope: this.scope,\n      type: 'disconnectDone',\n      documentId: args.documentId\n    })\n    this.next(req, res)\n  }\n\n  _disconnectDocument(collaboratorId, documentId) {\n    // Exit from each document session\n    this.collabEngine.disconnect({\n      documentId: documentId,\n      collaboratorId: collaboratorId\n    })\n  }\n\n}\n\nexport default CollabServer\n","function deleteFromArray(array, value) {\n  if (!array) return\n  for (var i = 0; i < array.length; i++) {\n    if (array[i] === value) {\n      array.splice(i, 1)\n      i--\n    }\n  }\n}\n\nexport default deleteFromArray\n","import deleteFromArray from './deleteFromArray'\n\n// simplified version of TreeIndex for arrays\nclass ArrayTree {\n  add(path, val) {\n    if (!this[path]) {\n      this[path] = []\n    }\n    this[path].push(val)\n  }\n  remove(path, val) {\n    if (this[path]) {\n      deleteFromArray(this[path], val)\n    }\n  }\n}\n\nexport default ArrayTree","import forEach from '../util/forEach'\nimport deleteFromArray from '../util/deleteFromArray'\nimport ArrayTree from '../util/ArrayTree'\n\n/*\n*/\nclass MarkersManager {\n\n  constructor(editorSession) {\n    this.editorSession = editorSession\n\n    // registry\n    this._textProperties = {}\n    this._dirtyProps = {}\n\n    this._markers = new MarkersIndex(editorSession)\n\n    editorSession.onUpdate(this._onChange, this)\n    editorSession.onRender(this._updateProperties, this)\n  }\n\n  dispose() {\n    this.editorSession.off(this)\n    this._markers.dispose()\n  }\n\n  register(textProperyComponent) {\n    let path = String(textProperyComponent.getRealPath())\n    // console.log('registering property', path)\n    let textProperties = this._textProperties[path]\n    if (!textProperties) {\n      textProperties = this._textProperties[path] = []\n    }\n    textProperties.push(textProperyComponent)\n  }\n\n  deregister(textProperyComponent) {\n    let path = String(textProperyComponent.getRealPath())\n    let textProperties = this._textProperties[path]\n    deleteFromArray(this._textProperties[path], textProperyComponent)\n    if (textProperties.length === 0) {\n      delete this._textProperties[path]\n    }\n  }\n\n  getMarkers(path, opts) {\n    opts = opts || {}\n    let doc = this.editorSession.getDocument()\n    let annos = doc.getAnnotations(path) || []\n    let markers = this._markers.get(path, opts.surfaceId, opts.containerId)\n    return annos.concat(markers)\n  }\n\n  _onChange(editorSession) {\n    if (editorSession.hasDocumentChanged()) {\n      // mark all updated props per se as dirty\n      if (editorSession.hasDocumentChanged()) {\n        let change = editorSession.getChange()\n        forEach(change.updated, (val, id) => {\n          this._dirtyProps[id] = true\n        })\n      }\n      Object.assign(this._dirtyProps, this._markers._collectDirtyProps())\n    }\n  }\n\n  _updateProperties() {\n    Object.keys(this._dirtyProps).forEach((path) => {\n      let textProperties = this._textProperties[path]\n      if (textProperties) {\n        textProperties.forEach(this._updateTextProperty.bind(this))\n      }\n    })\n    this._dirtyProps = {}\n  }\n\n  _updateTextProperty(textPropertyComponent) {\n    let path = textPropertyComponent.getRealPath()\n    let markers = this.getMarkers(path, {\n      surfaceId: textPropertyComponent.getSurfaceId(),\n      containerId: textPropertyComponent.getContainerId()\n    })\n    // console.log('## providing %s markers for %s', markers.length, path)\n    textPropertyComponent.setState({\n      markers: markers\n    })\n  }\n\n}\n\n/*\n  A DocumentIndex implementation for keeping track of markers\n*/\nclass MarkersIndex {\n\n  constructor(editorSession) {\n    this.editorSession = editorSession\n    this.document = editorSession.getDocument()\n    this._documentMarkers = new ArrayTree()\n    this._surfaceMarkers = {}\n    this._containerMarkers = {}\n\n    this._dirtyProps = {}\n\n    this.document.addIndex('markers', this)\n    editorSession.onUpdate('document', this._onDocumentChange, this)\n  }\n\n  dispose() {\n    this.document.indexes.delete('markers')\n    this.editorSession.off(this)\n  }\n\n  reset() {\n    this._documentMarkers = new ArrayTree()\n    this._surfaceMarkers = {}\n    this._containerMarkers = {}\n    let doc = this.document\n    forEach(doc.getNodes(), (node) => {\n      if (this.select(node)) {\n        this.create(node)\n      }\n    })\n  }\n\n  select(node) {\n    return node._isMarker\n  }\n\n  create(marker) {\n    // console.log('Indexing marker', marker)\n    switch (marker.constructor.scope) {\n      case 'document': {\n        this._dirtyProps[marker.path] = true\n        this._documentMarkers.add(marker.path, marker)\n        break\n      }\n      case 'surface': {\n        if (!this._surfaceMarkers[marker.surfaceId]) {\n          this._surfaceMarkers[marker.surfaceId] = new ArrayTree()\n        }\n        this._dirtyProps[marker.path] = true\n        this._surfaceMarkers[marker.surfaceId].add(marker.path, marker)\n        break\n      }\n      case 'container': {\n        console.warn('Container scoped markers are not supported yet')\n        break\n      }\n      default:\n        console.error('Invalid marker scope.')\n    }\n  }\n\n  delete(marker) {\n    switch (marker.constructor.scope) {\n      case 'document': {\n        this._dirtyProps[marker.path] = true\n        this._documentMarkers.remove(marker.path, marker)\n        break\n      }\n      case 'surface': {\n        if (!this._surfaceMarkers[marker.surfaceId]) {\n          this._surfaceMarkers[marker.surfaceId] = new ArrayTree()\n        }\n        this._dirtyProps[marker.path] = true\n        this._surfaceMarkers[marker.surfaceId].remove(marker.path, marker)\n        break\n      }\n      case 'container': {\n        console.warn('Container scoped markers are not supported yet')\n        break\n      }\n      default:\n        console.error('Invalid marker scope.')\n    }\n  }\n\n  get(path, surfaceId) {\n    let markers = this._documentMarkers[path] || []\n    if (surfaceId && this._surfaceMarkers[surfaceId]) {\n      let surfaceMarkers = this._surfaceMarkers[surfaceId][path]\n      if (surfaceMarkers) markers = markers.concat(surfaceMarkers)\n    }\n    // TODO support container scoped markers\n    return markers\n  }\n\n  _collectDirtyProps() {\n    let dirtyProps = this._dirtyProps\n    this._dirtyProps = {}\n    return dirtyProps\n  }\n\n  // used for applying transformations\n  _getAllCustomMarkers(path) {\n    let markers = this._documentMarkers[path] || []\n    for(let surfaceId in this._surfaceMarkers) {\n      if (!this._surfaceMarkers.hasOwnProperty(surfaceId)) continue\n      let surfaceMarkers = this._surfaceMarkers[surfaceId][path]\n      if (surfaceMarkers) markers = markers.concat(surfaceMarkers)\n    }\n    // TODO: support container markers\n    return markers\n  }\n\n  _onDocumentChange(change) {\n    let doc = this.doc\n    change.ops.forEach((op) => {\n      let markers = this._getAllCustomMarkers(op.path)\n      if (op.type === 'update' && op.diff._isTextOperation) {\n        let diff = op.diff\n        switch (diff.type) {\n          case 'insert':\n            this._transformInsert(doc, markers, diff)\n            break\n          case 'delete':\n            this._transformDelete(doc, markers, diff)\n            break\n          default:\n            //\n        }\n      }\n    })\n  }\n\n  _transformInsert(doc, markers, op) {\n    const pos = op.pos\n    const length = op.str.length\n    if (length === 0) return\n    markers.forEach(function(marker) {\n      console.log('Transforming marker after insert')\n      var start = marker.startOffset;\n      var end = marker.endOffset;\n      var newStart = start;\n      var newEnd = end;\n      if (pos >= end) return\n      if (pos <= start) {\n        newStart += length\n        newEnd += length\n        marker.startOffset = newStart\n        marker.endOffset = newEnd\n        return\n      }\n      if (pos < end) {\n        newEnd += length;\n        marker.endOffset = newEnd\n        if (marker.invalidate) marker.invalidate()\n      }\n    })\n  }\n\n  _transformDelete(doc, markers, op) {\n    const pos1 = op.pos\n    const length = op.str.length\n    const pos2 = pos1 + length\n    if (pos1 === pos2) return\n    markers.forEach((marker) => {\n      var start = marker.startOffset;\n      var end = marker.endOffset;\n      var newStart = start;\n      var newEnd = end;\n      if (pos2 <= start) {\n        newStart -= length;\n        newEnd -= length;\n        marker.startOffset = newStart\n        marker.endOffset = newEnd\n      } else if (pos1 >= end) {\n        // nothing\n      }\n      // the marker needs to be changed\n      // now, there might be cases where the marker gets invalid, such as a spell-correction\n      else {\n        if (pos1 <= start) {\n          newStart = start - Math.min(pos2-pos1, start-pos1);\n        }\n        if (pos1 <= end) {\n          newEnd = end - Math.min(pos2-pos1, end-pos1);\n        }\n        // TODO: we should do something special when the change occurred inside the marker\n        if (start !== end && newStart === newEnd) {\n          marker.remove()\n          return\n        }\n        if (start !== newStart) {\n          marker.startOffset = newStart\n        }\n        if (end !== newEnd) {\n          marker.endOffset = newEnd\n        }\n        if (marker.invalidate) marker.invalidate()\n      }\n    })\n  }\n\n}\n\nexport default MarkersManager\n","import { get, setWith } from 'lodash-es'\nimport isString from './isString'\nimport isArray from './isArray'\nimport deleteFromArray from './deleteFromArray'\n\nclass TreeNode {}\n\n/*\n * A tree-structure for indexes.\n *\n * @class TreeIndex\n * @param {object} [obj] An object to operate on\n * @memberof module:Basics\n * @example\n *\n * var index = new TreeIndex({a: \"aVal\", b: {b1: 'b1Val', b2: 'b2Val'}});\n */\n\nclass TreeIndex {\n  /**\n   * Get value at path.\n   *\n   * @return {object} The value stored for a given path\n   *\n   * @example\n   *\n   * obj.get(['b', 'b1']);\n   * => b1Val\n   */\n  get(path) {\n    if (arguments.length > 1) {\n      path = Array.prototype.slice(arguments, 0);\n    }\n    if (isString(path)) {\n      path = [path];\n    }\n    return get(this, path);\n  }\n\n  getAll(path) {\n    if (arguments.length > 1) {\n      path = Array.prototype.slice(arguments, 0);\n    }\n    if (isString(path)) {\n      path = [path];\n    }\n    if (!isArray(path)) {\n      throw new Error('Illegal argument for TreeIndex.get()');\n    }\n    var node = get(this, path);\n    return this._collectValues(node);\n  }\n\n  set(path, value) {\n    if (isString(path)) {\n      path = [path];\n    }\n    setWith(this, path, value, function(val) {\n      if (!val) return new TreeNode();\n    });\n  }\n\n  delete(path) {\n    if (isString(path)) {\n      delete this[path];\n    } else if(path.length === 1) {\n      delete this[path[0]];\n    } else {\n      var key = path[path.length-1];\n      path = path.slice(0, -1);\n      var parent = get(this, path);\n      if (parent) {\n        delete parent[key];\n      }\n    }\n  }\n\n  clear() {\n    var root = this;\n    for (var key in root) {\n      if (root.hasOwnProperty(key)) {\n        delete root[key];\n      }\n    }\n  }\n\n  traverse(fn) {\n    this._traverse(this, [], fn);\n  }\n\n  forEach(...args) {\n    this.traverse(...args)\n  }\n\n  _traverse(root, path, fn) {\n    var id;\n    for (id in root) {\n      if (!root.hasOwnProperty(id)) continue;\n      var child = root[id];\n      var childPath = path.concat([id]);\n      if (child instanceof TreeNode) {\n        this._traverse(child, childPath, fn);\n      } else {\n        fn(child, childPath);\n      }\n    }\n  }\n\n  _collectValues(root) {\n    // TODO: don't know if this is the best solution\n    // We use this only for indexes, e.g., to get all annotation on one node\n    var vals = {};\n    this._traverse(root, [], function(val, path) {\n      var key = path[path.length-1];\n      vals[key] = val;\n    });\n    return vals;\n  }\n}\n\nclass TreeIndexArrays extends TreeIndex {\n\n  contains(path) {\n    let val = super.get(path)\n    return Boolean(val)\n  }\n\n  get(path) {\n    let val = super.get(path)\n    if (val instanceof TreeNode) {\n      val = val.__values__ || [];\n    }\n    return val;\n  }\n\n  set(path, arr) {\n    let val = super.get(path)\n    val.__values__ = arr\n  }\n\n  add(path, value) {\n    if (isString(path)) {\n      path = [path];\n    }\n    if (!isArray(path)) {\n      throw new Error('Illegal arguments.');\n    }\n    var arr;\n\n    // We are using setWith, as it allows us to create nodes on the way down\n    // setWith can be controlled via a hook called for each key in the path\n    // If val is not defined, a new node must be created and returned.\n    // If val is defined, then we must return undefined to keep the original tree node\n    // __dummy__ is necessary as setWith is used to set a value, but we want\n    // to append to the array\n    setWith(this, path.concat(['__values__','__dummy__']), undefined, function(val, key) {\n      if (key === '__values__') {\n        if (!val) val = [];\n        arr = val;\n      } else if (!val) {\n        val = new TreeNode();\n      }\n      return val;\n    })\n    delete arr.__dummy__\n    arr.push(value)\n  }\n\n  remove(path, value) {\n    var arr = get(this, path);\n    if (arr instanceof TreeNode) {\n      if (arguments.length === 1) {\n        delete arr.__values__\n      } else {\n        deleteFromArray(arr.__values__, value);\n      }\n    }\n  }\n\n  _collectValues(root) {\n    var vals = []\n    this._traverse(root, [], function(val) {\n      vals.push(val);\n    })\n    vals = Array.prototype.concat.apply([], vals)\n    return vals\n  }\n}\n\nTreeIndex.Arrays = TreeIndexArrays\n\nexport default TreeIndex;\n","import isArray from '../../util/isArray'\nimport forEach from '../../util/forEach'\nimport TreeIndex from '../../util/TreeIndex'\n\n/*\n  Index for Nodes.\n\n  Node indexes are first-class citizens in {@link model/data/Data}.\n  I.e., they are updated after each operation, and before any other listener is notified.\n */\nclass NodeIndex {\n\n  constructor() {\n    /**\n      Internal storage.\n\n      @property {TreeIndex} index\n      @private\n     */\n    this.index = new TreeIndex()\n\n    this._property = \"id\"\n  }\n\n  /**\n    Get all indexed nodes for a given path.\n\n    @param {Array<String>} path\n    @returns A node or an object with ids and nodes as values.\n   */\n  get(path) {\n    return this.index.get(path) || {}\n  }\n\n  /**\n    Collects nodes recursively.\n\n    @returns An object with ids as keys and nodes as values.\n   */\n  getAll(path) {\n    return this.index.getAll(path)\n  }\n\n  /**\n    The property used for indexing.\n\n    @private\n    @type {String}\n   */\n  get property() { return this._property }\n\n  set property(p) { this._property = p }\n\n  /**\n    Check if a node should be indexed.\n\n    Used internally only. Override this in subclasses to achieve a custom behavior.\n\n    @private\n    @param {Node}\n    @returns {Boolean} true if the given node should be added to the index.\n   */\n  select(node) {\n    if(!this.type) {\n      return true\n    } else {\n      return node.isInstanceOf(this.type)\n    }\n  }\n\n  /**\n    Called when a node has been created.\n\n    Override this in subclasses for customization.\n\n    @private\n    @param {Node} node\n   */\n  create(node) {\n    var values = node[this.property]\n    if (!isArray(values)) {\n      values = [values]\n    }\n    forEach(values, function(value) {\n      this.index.set([value, node.id], node)\n    }.bind(this))\n  }\n\n  /**\n   * Called when a node has been deleted.\n   *\n   * Override this in subclasses for customization.\n   *\n   * @private\n   * @param {model/data/Node} node\n   */\n  delete(node) {\n    var values = node[this.property]\n    if (!isArray(values)) {\n      values = [values]\n    }\n    forEach(values, function(value) {\n      this.index.delete([value, node.id])\n    }.bind(this))\n  }\n\n  /**\n    Called when a property has been updated.\n\n    Override this in subclasses for customization.\n\n    @private\n    @param {Node} node\n   */\n  update(node, path, newValue, oldValue) {\n    if (!this.select(node) || path[1] !== this.property) return\n    var values = oldValue\n    if (!isArray(values)) {\n      values = [values]\n    }\n    forEach(values, function(value) {\n      this.index.delete([value, node.id])\n    }.bind(this))\n    values = newValue\n    if (!isArray(values)) {\n      values = [values]\n    }\n    forEach(values, function(value) {\n      this.index.set([value, node.id], node)\n    }.bind(this))\n  }\n\n  set(node, path, newValue, oldValue) {\n    this.update(node, path, newValue, oldValue)\n  }\n\n  /**\n    Reset the index using a Data instance.\n\n    @private\n   */\n  reset(data) {\n    this.index.clear()\n    this._initialize(data)\n  }\n\n  /**\n    Clone this index.\n\n    @return A cloned NodeIndex.\n   */\n  clone() {\n    var NodeIndexClass = this.constructor\n    var clone = new NodeIndexClass()\n    return clone\n  }\n\n  _initialize(data) {\n    forEach(data.getNodes(), function(node) {\n      if (this.select(node)) {\n        this.create(node)\n      }\n    }.bind(this))\n  }\n\n}\n\n/**\n  Create a new NodeIndex using the given prototype as mixin.\n\n  @param {Object} prototype\n  @returns {NodeIndex} A customized NodeIndex.\n */\nNodeIndex.create = function(prototype) {\n  var index = Object.assign(new NodeIndex(), prototype)\n  index.clone = function() {\n    return NodeIndex.create(prototype)\n  }\n  return index\n}\n\n/**\n  Create a filter to filter nodes by type.\n\n  @param {String} type\n  @returns {function}\n */\nNodeIndex.filterByType = function(type) {\n  return function(node) {\n    return node.isInstanceOf(type)\n  }\n}\n\nexport default NodeIndex\n","import NodeIndex from './data/NodeIndex'\n\nclass DocumentIndex extends NodeIndex {}\n\nexport default DocumentIndex\n","import { filter } from 'lodash-es'\nimport isString from '../util/isString'\nimport forEach from '../util/forEach'\nimport DocumentIndex from './DocumentIndex'\nimport Selection from './Selection'\nimport ObjectOperation from './data/ObjectOperation'\nimport DocumentChange from './DocumentChange'\n\n/**\n  Some helpers for working with Documents.\n\n  @module\n  @example\n\n  ```js\n  import { documentHelpers } from 'substance'\n  documentHelpers.isContainerAnnotation(doc, 'comment')\n  ```\n*/\nconst documentHelpers = {};\n\n/**\n  @param {Document} doc\n  @param {String} type\n  @return {Boolean} `true` if given type is a {@link ContainerAnnotation}\n*/\ndocumentHelpers.isContainerAnnotation = function(doc, type) {\n  var schema = doc.getSchema();\n  return schema.isInstanceOf(type, 'container-annotation');\n};\n\n/**\n  For a given selection get all property annotations\n\n  @param {Document} doc\n  @param {Selection} sel\n  @return {PropertyAnnotation[]} An array of property annotations.\n          Returns an empty array when selection is a container selection.\n*/\ndocumentHelpers.getPropertyAnnotationsForSelection = function(doc, sel, options) {\n  options = options || {};\n  if (!sel.isPropertySelection()) {\n    return [];\n  }\n  var path = doc.getRealPath(sel.path)\n  var annotations = doc.getIndex('annotations').get(path, sel.startOffset, sel.endOffset);\n  if (options.type) {\n    annotations = filter(annotations, DocumentIndex.filterByType(options.type));\n  }\n  return annotations;\n};\n\n/**\n  For a given selection get all container annotations\n\n  @param {Document} doc\n  @param {Selection} sel\n  @param {String} containerId\n  @param {String} options.type provides only annotations of that type\n  @return {Array} An array of container annotations\n*/\ndocumentHelpers.getContainerAnnotationsForSelection = function(doc, sel, containerId, options) {\n  // ATTENTION: looking for container annotations is not as efficient as property\n  // selections, as we do not have an index that has notion of the spatial extend\n  // of an annotation. Opposed to that, common annotations are bound\n  // to properties which make it easy to lookup.\n  if (!containerId) {\n    throw new Error(\"'containerId' is required.\");\n  }\n  options = options || {};\n  var index = doc.getIndex('container-annotations');\n  var annotations = index.get(containerId, options.type);\n  annotations = filter(annotations, function(anno) {\n    return sel.overlaps(anno.getSelection());\n  });\n  return annotations;\n};\n\n/**\n  For a given selection, get annotations of a certain type\n\n  @param {Document} doc\n  @param {Selection} sel\n  @param {string} annotationType\n  @param {string} containerId (only needed when type is a container annotation)\n  @return {array} all matching annotations\n*/\ndocumentHelpers.getAnnotationsForSelection = function(doc, sel, annotationType, containerId) {\n  var annos;\n  var isContainerAnno = documentHelpers.isContainerAnnotation(doc, annotationType);\n\n  if (isContainerAnno) {\n    var container = doc.get(containerId, 'strict');\n    annos = documentHelpers.getContainerAnnotationsForSelection(doc, sel, container, {\n      type: annotationType\n    });\n  } else {\n    annos = documentHelpers.getPropertyAnnotationsForSelection(doc, sel, { type: annotationType });\n  }\n  return annos;\n};\n\n/**\n  For a given selection, get the corresponding text string\n\n  @param {Document} doc\n  @param {Selection} sel\n  @return {string} text enclosed by the annotation\n*/\ndocumentHelpers.getTextForSelection = function(doc, sel) {\n  var text;\n  if (!sel || sel.isNull()) {\n    return \"\";\n  } else if (sel.isPropertySelection()) {\n    text = doc.get(sel.start.path);\n    return text.substring(sel.start.offset, sel.end.offset);\n  } else if (sel.isContainerSelection()) {\n    var result = [];\n    var fragments = sel.getFragments();\n    fragments.forEach(function(fragment) {\n      if (fragment instanceof Selection.Fragment) {\n        var text = doc.get(fragment.path);\n        if (isString(text)) {\n          result.push(\n            text.substring(fragment.startOffset, fragment.endOffset)\n          );\n        }\n      }\n    });\n    return result.join('\\n');\n  }\n};\n\ndocumentHelpers.getMarkersForSelection = function(doc, sel) {\n  // only PropertySelections are supported right now\n  if (!sel || !sel.isPropertySelection()) return []\n  const path = doc.getRealPath(sel.getPath())\n  // markers are stored as one hash for each path, grouped by marker key\n  let markers = doc.getIndex('markers').get(path)\n  const filtered = filter(markers, function(m) {\n    return m.isInsideOf(sel)\n  })\n  return filtered\n}\n\ndocumentHelpers.getChangeFromDocument = function(doc) {\n  let nodes = doc.getNodes()\n  let annotations = []\n  let contentNodes = []\n  let containers = []\n\n  forEach(nodes, (node) => {\n    if (node._isAnnotation) {\n      annotations.push(node)\n    } else if (node._isContainer) {\n      containers.push(node)\n    } else {\n      contentNodes.push(node)\n    }\n  })\n\n  let ops = contentNodes.concat(containers).concat(annotations).map((node) => {\n    return ObjectOperation.Create([node.id], node.toJSON())\n  })\n\n  return new DocumentChange({ops: ops})\n}\n\nexport default documentHelpers\n","import TreeIndex from '../util/TreeIndex'\nimport Selection from './Selection'\nimport documentHelpers from './documentHelpers'\n\nclass SelectionState {\n\n  constructor(doc) {\n    this.document = doc\n\n    this.selection = Selection.nullSelection\n    this._state = {}\n    this._resetState()\n  }\n\n  setSelection(sel) {\n    if (!sel) {\n      sel = Selection.nullSelection\n    } else {\n      sel.attach(this.document)\n    }\n    // TODO: selection state is selection plus derived state,\n    // thus we need to return false only if both did not change\n    this._deriveState(sel)\n    this.selection = sel\n    return true\n  }\n\n  getSelection() {\n    return this.selection\n  }\n\n  getAnnotationsForType(type) {\n    var state = this._state\n    if (state.annosByType) {\n      return state.annosByType.get(type) || []\n    }\n    return []\n  }\n\n  getMarkers() {\n    // returns markers under the current selection\n    return this._state.markers || []\n  }\n\n  isInlineNodeSelection() {\n    return this._state.isInlineNodeSelection\n  }\n\n  _deriveState(sel) {\n    this._resetState()\n\n    this._deriveAnnoState(sel)\n    if (this.document.getIndex('markers')) {\n      this._deriveMarkerState(sel)\n    }\n  }\n\n  _deriveAnnoState(sel) {\n    var doc = this.document\n    var state = this._state\n\n    // create a mapping by type for the currently selected annotations\n    var annosByType = new TreeIndex.Arrays()\n    var propAnnos = documentHelpers.getPropertyAnnotationsForSelection(doc, sel)\n    propAnnos.forEach(function(anno) {\n      annosByType.add(anno.type, anno)\n    })\n\n    if (propAnnos.length === 1 && propAnnos[0].isInline()) {\n      state.isInlineNodeSelection = propAnnos[0].getSelection().equals(sel)\n    }\n\n    var containerId = sel.containerId\n    if (containerId) {\n      var containerAnnos = documentHelpers.getContainerAnnotationsForSelection(doc, sel, containerId)\n      containerAnnos.forEach(function(anno) {\n        annosByType.add(anno.type, anno)\n      })\n    }\n    state.annosByType = annosByType\n  }\n\n  _deriveMarkerState(sel) {\n    const doc = this.document\n    let state = this._state\n    let markers = documentHelpers.getMarkersForSelection(doc, sel)\n    state.markers = markers\n  }\n\n  _resetState() {\n    this._state = {\n      // all annotations under the current selection\n      annosByType: null,\n      // markers under the current selection\n      markers: null,\n      // flags to make node selection (IsolatedNodes) stuff more convenient\n      isNodeSelection: false,\n      nodeId: null,\n      nodeSelectionMode: '', // full, before, after\n      // flags for inline nodes\n      isInlineNodeSelection: false\n    }\n    return this._state\n  }\n}\n\nexport default SelectionState\n","\nclass ChangeHistory {\n\n  constructor() {\n    // undo list\n    this.doneChanges = []\n    // redo list\n    this.undoneChanges = []\n    // last change for accumlation\n    this.lastChange = null\n  }\n\n  canUndo() {\n    return this.doneChanges.length > 0\n  }\n\n  canRedo() {\n    return this.undoneChanges.length > 0\n  }\n\n  push(change) {\n    this.doneChanges.push(change)\n    this.undoneChanges = []\n  }\n\n}\n\nexport default ChangeHistory\n","// Note: in iron-node window is defined - but it has window.process\n// which is not there in a real browser env\nvar inBrowser = ( typeof window !== 'undefined')\n\nexport default inBrowser\n","import inBrowser from '../../util/inBrowser'\n\nclass SurfaceManager {\n\n  constructor(editorSession) {\n    this.editorSession = editorSession\n    this.surfaces = {}\n    this._state = {\n      focusedSurfaceId: null,\n      selection: null,\n    }\n    editorSession.onUpdate('selection', this._onSelectionChanged, this)\n    editorSession.onPostRender(this._recoverDOMSelection, this)\n  }\n\n  dispose() {\n    this.editorSession.off(this)\n  }\n\n  /**\n   * Get Surface instance\n   *\n   * @param {String} name Name under which the surface is registered\n   * @return {ui/Surface} The surface instance\n   */\n  getSurface(name) {\n    if (name) {\n      return this.surfaces[name]\n    }\n  }\n\n  /**\n   * Get the currently focused Surface.\n   *\n   * @return {ui/Surface} Surface instance\n   */\n  getFocusedSurface() {\n    if (this._state.focusedSurfaceId) {\n      return this.getSurface(this._state.focusedSurfaceId)\n    }\n  }\n\n  /**\n   * Register a surface\n   *\n   * @param surface {ui/Surface} A new surface instance to register\n   */\n  registerSurface(surface) {\n    this.surfaces[surface.getId()] = surface\n  }\n\n  /**\n   * Unregister a surface\n   *\n   * @param surface {ui/Surface} A surface instance to unregister\n   */\n  unregisterSurface(surface) {\n    surface.off(this)\n    let surfaceId = surface.getId()\n    let registeredSurface = this.surfaces[surfaceId]\n    if (registeredSurface === surface) {\n      let focusedSurface = this.getFocusedSurface()\n      delete this.surfaces[surfaceId]\n      if (surface && focusedSurface === surface) {\n        this._state.focusedSurfaceId = null\n      }\n    }\n  }\n\n  _onSelectionChanged(selection) {\n    const state = this._state\n    state.selection = selection\n    state.focusedSurfaceId = selection.surfaceId\n    // HACK: removing DOM selection *and* blurring when having a CustomSelection\n    // otherwise we will receive events on the wrong surface\n    // instead of bubbling up to GlobalEventManager\n    if (selection && selection.isCustomSelection() && inBrowser) {\n      window.getSelection().removeAllRanges()\n      window.document.activeElement.blur()\n    }\n  }\n\n  _recoverDOMSelection() {\n    // at the end of the update flow, make sure the surface is focused\n    // and displays the right DOM selection.\n    let focusedSurface = this.getFocusedSurface()\n    if (focusedSurface && !focusedSurface.isDisabled()) {\n      // console.log('Rendering selection on surface', focusedSurface.getId(), this.editorSession.getSelection().toString());\n      focusedSurface.focus()\n      focusedSurface.rerenderDOMSelection()\n    }\n  }\n}\n\nexport default SurfaceManager\n","export default function isFunction(f) {\n  return typeof f === 'function'\n}","import { isString, isNumber, filter } from 'lodash-es'\nimport map from '../util/map'\nimport TreeIndex from '../util/TreeIndex'\nimport DocumentIndex from './DocumentIndex'\n\n// PropertyAnnotation Index\n// ----------------\n//\n// Lets us look up existing annotations by path and type\n//\n// To get all annotations for the content of a text node\n//\n//    var aIndex = doc.annotationIndex\n//    aIndex.get([\"text_1\", \"content\"])\n//\n// You can also scope for a specific range\n//\n//    aIndex.get([\"text_1\", \"content\"], 23, 45)\n\nclass AnnotationIndex extends DocumentIndex {\n\n  constructor() {\n    super()\n\n    this.byPath = new TreeIndex()\n    this.byType = new TreeIndex()\n  }\n\n  get property() { return \"path\" }\n\n  select(node) {\n    return Boolean(node._isPropertyAnnotation)\n  }\n\n  reset(data) {\n    this.byPath.clear()\n    this.byType.clear()\n    this._initialize(data)\n  }\n\n  // TODO: use object interface? so we can combine filters (path and type)\n  get(path, start, end, type) {\n    var annotations\n    if (isString(path) || path.length === 1) {\n      annotations = this.byPath.getAll(path) || {}\n    } else {\n      annotations = this.byPath.get(path)\n    }\n    annotations = map(annotations)\n    if (isNumber(start)) {\n      annotations = filter(annotations, AnnotationIndex.filterByRange(start, end))\n    }\n    if (type) {\n      annotations = filter(annotations, DocumentIndex.filterByType(type))\n    }\n    return annotations\n  }\n\n  create(anno) {\n    this.byType.set([anno.type, anno.id], anno)\n    this.byPath.set(anno.path.concat([anno.id]), anno)\n  }\n\n  delete(anno) {\n    this.byType.delete([anno.type, anno.id])\n    this.byPath.delete(anno.path.concat([anno.id]))\n  }\n\n  update(node, path, newValue, oldValue) {\n    if (this.select(node) && path[1] === this.property) {\n      this.delete({ id: node.id, type: node.type, path: oldValue })\n      this.create(node)\n    }\n  }\n\n}\n\nAnnotationIndex.filterByRange = function(start, end) {\n  return function(anno) {\n    var aStart = anno.startOffset\n    var aEnd = anno.endOffset\n    var overlap = (aEnd >= start)\n    // Note: it is allowed to omit the end part\n    if (isNumber(end)) {\n      overlap = overlap && (aStart <= end)\n    }\n    return overlap\n  }\n}\n\nexport default AnnotationIndex\n","import { isString, filter } from 'lodash-es'\nimport map from '../util/map'\nimport TreeIndex from '../util/TreeIndex'\nimport DocumentIndex from './DocumentIndex'\n\nclass ContainerAnnotationIndex extends DocumentIndex {\n\n  constructor() {\n    super()\n    this.byId = new TreeIndex()\n  }\n\n  select(node) {\n    return Boolean(node._isContainerAnnotation)\n  }\n\n  reset(data) {\n    this.byId.clear()\n    this._initialize(data)\n  }\n\n  get(containerId, type) {\n    var annotations = map(this.byId.get(containerId))\n    if (isString(type)) {\n      annotations = filter(annotations, DocumentIndex.filterByType)\n    }\n    return annotations\n  }\n\n  create(anno) {\n    this.byId.set([anno.containerId, anno.id], anno)\n  }\n\n  delete(anno) {\n    this.byId.delete([anno.containerId, anno.id])\n  }\n\n  update(node, path, newValue, oldValue) { // eslint-disable-line\n    // TODO should we support moving a container anno from one container to another?\n  }\n\n}\n\nexport default ContainerAnnotationIndex\n","import { filter } from 'lodash-es'\nimport TreeIndex from '../util/TreeIndex'\nimport DocumentIndex from './DocumentIndex'\n\nclass AnchorIndex extends DocumentIndex {\n\n  constructor(doc) {\n    super()\n\n    this.doc = doc\n    this.byPath = new TreeIndex.Arrays()\n    this.byId = {}\n  }\n\n  select(node) {\n    return (node._isContainerAnnotation)\n  }\n\n  reset(data) {\n    this.byPath.clear()\n    this.byId = {}\n    this._initialize(data)\n  }\n\n  get(path, containerName) {\n    var anchors = this.byPath.getAll(path)\n    if (containerName) {\n      return filter(anchors, function(anchor) {\n        return (anchor.containerId === containerName)\n      })\n    } else {\n      // return a copy of the array\n      return anchors.slice(0)\n    }\n  }\n\n  create(containerAnno) {\n    var startAnchor = containerAnno.getStartAnchor()\n    var endAnchor = containerAnno.getEndAnchor()\n    this.byPath.add(startAnchor.path, startAnchor)\n    this.byPath.add(endAnchor.path, endAnchor)\n    this.byId[containerAnno.id] = containerAnno\n  }\n\n  delete(containerAnno) {\n    var startAnchor = containerAnno.getStartAnchor()\n    var endAnchor = containerAnno.getEndAnchor()\n    this.byPath.remove(startAnchor.path, startAnchor)\n    this.byPath.remove(endAnchor.path, endAnchor)\n    delete this.byId[containerAnno.id]\n  }\n\n  update(node, path, newValue, oldValue) {\n    if (this.select(node)) {\n      var anchor = null\n      if (path[1] === 'startPath') {\n        anchor = node.getStartAnchor()\n      } else if (path[1] === 'endPath') {\n        anchor = node.getEndAnchor()\n      } else {\n        return\n      }\n      this.byPath.remove(oldValue, anchor)\n      this.byPath.add(anchor.path, anchor)\n    }\n  }\n}\n\nexport default AnchorIndex\n","import { isEqual } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport isArray from '../util/isArray'\nimport TreeIndex from '../util/TreeIndex'\n\nclass PathEventProxy {\n\n  constructor(doc) {\n    this.listeners = new TreeIndex.Arrays()\n    this._list = []\n    this.doc = doc\n  }\n\n  on(path, method, context) {\n    this._add(context, path, method)\n  }\n\n  // proxy.off(this)\n  // proxy.off(this, path)\n  // proxy.off(this, path, this.onPropertyUpdate)\n  off(context, path, method) {\n    this._remove(context, path, method)\n  }\n\n  connect(listener, path, method) {\n    console.warn('DEPRECATED: use proxy.on(path, this.onPropertyChange, this) instead')\n    this.on(path, method, listener)\n  }\n\n  disconnect(listener) {\n    console.warn('DEPRECATED: use proxy.off(this) instead')\n    this.off(listener)\n  }\n\n  onDocumentChanged(change, info, doc) {\n    // stop if no listeners registered\n    if (this._list.length === 0) {\n      return\n    }\n    var listeners = this.listeners\n    forEach(change.updated, function(_, pathStr) {\n      var scopedListeners = listeners.get(pathStr.split(','))\n      if (isArray(scopedListeners)) scopedListeners = scopedListeners.slice(0)\n      forEach(scopedListeners, function(entry) {\n        entry.method.call(entry.listener, change, info, doc)\n      })\n    })\n  }\n\n  _add(listener, path, method) {\n    if (!method) {\n      throw new Error('Invalid argument: expected function but got ' + method)\n    }\n    var entry = { listener: listener, path: path, method: method }\n    this.listeners.add(path, entry)\n    this._list.push(entry)\n  }\n\n  _remove(listener, path, method) {\n    for (var i = 0; i < this._list.length; i++) {\n      var item = this._list[i]\n      var match = (\n        (!path || isEqual(item.path, path)) &&\n        (!listener || item.listener === listener) &&\n        (!method || item.method !== method)\n      )\n      if (match) {\n        var entry = this._list[i]\n        this._list.splice(i, 1)\n        this.listeners.remove(entry.path, entry)\n      }\n    }\n  }\n}\n\nexport default PathEventProxy\n","export default function isPlainObject(o) {\n  if (!o) return false\n  return o.constructor === Object\n}","class NodeFactory {\n\n  constructor(nodeRegistry) {\n    this.nodeRegistry = nodeRegistry\n  }\n\n  create(nodeType, nodeData) {\n    var NodeClass = this.nodeRegistry.get(nodeType)\n    if (!NodeClass) {\n      throw new Error('No Node registered by that name: ' + nodeType)\n    }\n    return new NodeClass(nodeData)\n  }\n}\n\nexport default NodeFactory\n","import { cloneDeep } from 'lodash-es'\nimport isArray from '../../util/isArray'\nimport isPlainObject from '../../util/isPlainObject'\nimport isString from '../../util/isString'\nimport EventEmitter from '../../util/EventEmitter'\nimport forEach from '../../util/forEach'\nimport NodeFactory from './NodeFactory'\n\n/*\n  A data storage implemention that supports data defined via a {@link Schema},\n  and incremental updates which are backed by a OT library.\n\n  It forms the underlying implementation for {@link Document}.\n */\nclass Data extends EventEmitter {\n\n  /**\n    @param {Schema} schema\n    @param {Object} [options]\n  */\n  constructor(schema, options) {\n    super()\n\n    options = options || {}\n    this.schema = schema\n    this.nodes = {}\n    this.indexes = {}\n    this.options = options || {}\n\n    this.nodeFactory = options.nodeFactory || new NodeFactory(schema.nodeRegistry)\n\n    // Sometimes necessary to resolve issues with updating indexes in presence\n    // of cyclic dependencies\n    this.__QUEUE_INDEXING__ = false\n    this.queue = []\n  }\n\n  /**\n    Check if this storage contains a node with given id.\n\n    @returns {bool} `true` if a node with id exists, `false` otherwise.\n   */\n  contains(id) {\n    return Boolean(this.nodes[id])\n  }\n\n  /**\n    Get a node or value via path.\n\n    @param {String|String[]} path node id or path to property.\n    @returns {Node|Object|Primitive|undefined} a Node instance, a value or undefined if not found.\n   */\n  get(path, strict) {\n    let result\n    let realPath = this.getRealPath(path)\n    if (!realPath) {\n      return undefined\n    }\n    if (isString(realPath)) {\n      result = this.nodes[realPath]\n    } else if (realPath.length === 1) {\n      result = this.nodes[realPath[0]]\n    } else {\n      result = this.nodes[realPath[0]][realPath[1]]\n    }\n    if (strict && result === undefined) {\n      if (isString(path)) {\n        throw new Error(\"Could not find node with id '\"+path+\"'.\")\n      } else {\n        throw new Error(\"Property for path '\"+path+\"' us undefined.\")\n      }\n    }\n    return result\n  }\n\n  getRealPath(path) {\n    if (!path) return false\n    if (isString(path)) return path\n    if (path.length < 3) return path\n    let realPath = []\n    let context = this.nodes[path[0]]\n    let prop, name\n    let L = path.length\n    let i = 1\n    for (; i<L-1; i++) {\n      if (!context) return false\n      name = path[i]\n      prop = context[name]\n      if (isArray(prop) || isPlainObject(prop)) {\n        realPath.push(name)\n        context = prop\n      } else if (isString(prop)) {\n        context = this.nodes[prop]\n        realPath = [prop]\n      } else {\n        return false\n      }\n    }\n    realPath.push(path[i])\n    return realPath\n  }\n\n  /**\n    Get the internal storage for nodes.\n\n    @return The internal node storage.\n   */\n  getNodes() {\n    return this.nodes\n  }\n\n  /**\n    Create a node from the given data.\n\n    @return {Node} The created node.\n   */\n  create(nodeData) {\n    var node = this.nodeFactory.create(nodeData.type, nodeData)\n    if (!node) {\n      throw new Error('Illegal argument: could not create node for data:', nodeData)\n    }\n    if (this.contains(node.id)) {\n      throw new Error(\"Node already exists: \" + node.id)\n    }\n    if (!node.id || !node.type) {\n      throw new Error(\"Node id and type are mandatory.\")\n    }\n    this.nodes[node.id] = node\n\n    var change = {\n      type: 'create',\n      node: node\n    }\n\n    if (this.__QUEUE_INDEXING__) {\n      this.queue.push(change)\n    } else {\n      this._updateIndexes(change)\n    }\n\n    return node\n  }\n\n  /**\n    Delete the node with given id.\n\n    @param {String} nodeId\n    @returns {Node} The deleted node.\n   */\n  delete(nodeId) {\n    var node = this.nodes[nodeId]\n    node.dispose()\n    delete this.nodes[nodeId]\n\n    var change = {\n      type: 'delete',\n      node: node,\n    }\n\n    if (this.__QUEUE_INDEXING__) {\n      this.queue.push(change)\n    } else {\n      this._updateIndexes(change)\n    }\n\n    return node\n  }\n\n  /**\n    Set a property to a new value.\n\n    @param {Array} property path\n    @param {Object} newValue\n    @returns {Node} The deleted node.\n   */\n  set(path, newValue) {\n    var realPath = this.getRealPath(path)\n    if (!realPath) {\n      console.error('Could not resolve path', path)\n      return\n    }\n    var node = this.get(realPath[0])\n    var oldValue = node[realPath[1]]\n    node[realPath[1]] = newValue\n\n    var change = {\n      type: 'set',\n      node: node,\n      path: realPath,\n      newValue: newValue,\n      oldValue: oldValue\n    }\n\n    if (this.__QUEUE_INDEXING__) {\n      this.queue.push(change)\n    } else {\n      this._updateIndexes(change)\n    }\n\n    return oldValue\n  }\n\n  /**\n    Update a property incrementally.\n\n    @param {Array} property path\n    @param {Object} diff\n    @returns {any} The value before applying the update.\n  */\n  update(path, diff) {\n    // TODO: do we really want this incremental implementation here?\n    var realPath = this.getRealPath(path)\n    if (!realPath) {\n      console.error('Could not resolve path', path)\n      return\n    }\n    var node = this.get(realPath[0])\n    var oldValue = this.get(realPath)\n    var newValue\n    if (diff.isOperation) {\n      newValue = diff.apply(oldValue)\n    } else {\n      diff = this._normalizeDiff(oldValue, diff)\n      if (isString(oldValue)) {\n        switch (diff.type) {\n          case 'delete': {\n            newValue = oldValue.split('').splice(diff.start, diff.end-diff.start).join('')\n            break\n          }\n          case 'insert': {\n            newValue = [oldValue.substring(0, diff.start), diff.text, oldValue.substring(diff.start)].join('')\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      } else if (isArray(oldValue)) {\n        newValue = oldValue.slice(0)\n        switch (diff.type) {\n          case 'delete': {\n            newValue.splice(diff.pos, 1)\n            break\n          }\n          case 'insert': {\n            newValue.splice(diff.pos, 0, diff.value)\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      } else if (oldValue._isCoordinate) {\n        switch (diff.type) {\n          case 'shift': {\n            // ATTENTION: in this case we do not want to create a new value\n            oldValue = { path: oldValue.path, offset: oldValue.offset }\n            newValue = oldValue\n            newValue.offset += diff.value\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      } else {\n        throw new Error('Diff is not supported:', JSON.stringify(diff))\n      }\n    }\n    this.nodes.set(realPath, newValue)\n\n    var change = {\n      type: 'update',\n      node: node,\n      path: realPath,\n      newValue: newValue,\n      oldValue: oldValue\n    }\n\n    if (this.__QUEUE_INDEXING__) {\n      this.queue.push(change)\n    } else {\n      this._updateIndexes(change)\n    }\n\n    return oldValue\n  }\n\n  // normalize to support legacy formats\n  _normalizeDiff(value, diff) {\n    if (isString(value)) {\n      // legacy\n      if (diff['delete']) {\n        console.warn('DEPRECATED: use doc.update(path, {type:\"delete\", start:s, end: e}) instead')\n        diff = {\n          type: 'delete',\n          start: diff['delete'].start,\n          end: diff['delete'].end\n        }\n      } else if (diff['insert']) {\n        console.warn('DEPRECATED: use doc.update(path, {type:\"insert\", start:s, text: t}) instead')\n        diff = {\n          type: 'insert',\n          start: diff['insert'].offset,\n          text: diff['insert'].value\n        }\n      }\n    } else if (isArray(value)) {\n      // legacy\n      if (diff['delete']) {\n        console.warn('DEPRECATED: use doc.update(path, {type:\"delete\", pos:1}) instead')\n        diff = {\n          type: 'delete',\n          pos: diff['delete'].offset\n        }\n      } else if (diff['insert']) {\n        console.warn('DEPRECATED: use doc.update(path, {type:\"insert\", pos:1, value: \"foo\"}) instead')\n        diff = {\n          type: 'insert',\n          pos: diff['insert'].offset,\n          value: diff['insert'].value\n        }\n      }\n    } else if (value._isCoordinate) {\n      if (diff.hasOwnProperty('shift')) {\n        console.warn('DEPRECATED: use doc.update(path, {type:\"shift\", value:2}) instead')\n        diff = {\n          type: 'shift',\n          value: diff['shift']\n        }\n      }\n    }\n    return diff\n  }\n\n  /*\n    DEPRECATED: We moved away from having JSON as first-class exchange format.\n    We will remove this soon.\n\n    @internal\n    @deprecated\n   */\n  toJSON() {\n    return {\n      schema: [this.schema.id, this.schema.version],\n      nodes: cloneDeep(this.nodes)\n    }\n  }\n\n  /**\n    Clear nodes.\n\n    @internal\n   */\n  reset() {\n    this.nodes.clear()\n  }\n\n  /**\n    Add a node index.\n\n    @param {String} name\n    @param {NodeIndex} index\n   */\n  addIndex(name, index) {\n    if (this.indexes[name]) {\n      console.error('Index with name %s already exists.', name)\n    }\n    index.reset(this)\n    this.indexes[name] = index\n    return index\n  }\n\n  /**\n    Get the node index with given name.\n\n    @param {String} name\n    @returns {NodeIndex} The node index.\n   */\n  getIndex(name) {\n    return this.indexes[name]\n  }\n\n  /**\n    Update a node index by providing of change object.\n\n    @param {Object} change\n   */\n  _updateIndexes(change) {\n    if (!change || this.__QUEUE_INDEXING__) return\n    forEach(this.indexes, function(index) {\n      if (index.select(change.node)) {\n        if (!index[change.type]) {\n          console.error('Contract: every NodeIndex must implement ' + change.type)\n        }\n        index[change.type](change.node, change.path, change.newValue, change.oldValue)\n      }\n    })\n  }\n\n  /**\n    Stops indexing process, all changes will be collected in indexing queue.\n\n    @private\n  */\n  _stopIndexing() {\n    this.__QUEUE_INDEXING__ = true\n  }\n\n  /**\n    Update all index changes from indexing queue.\n\n    @private\n  */\n  _startIndexing() {\n    this.__QUEUE_INDEXING__ = false\n    while(this.queue.length >0) {\n      var change = this.queue.shift()\n      this._updateIndexes(change)\n    }\n  }\n\n}\n\nexport default Data\n","import { cloneDeep } from 'lodash-es'\nimport isString from '../../util/isString'\nimport isArray from '../../util/isArray'\nimport Data from './Data'\nimport ObjectOperation from './ObjectOperation'\nimport ArrayOperation from './ArrayOperation'\nimport TextOperation from './TextOperation'\nimport CoordinateOperation from './CoordinateOperation'\n\n/**\n  Incremental data storage implemention.\n\n  @internal\n */\nclass IncrementalData extends Data {\n\n  /**\n    Create a new node.\n\n    @param {object} nodeData\n    @returns {ObjectOperation} The applied operation.\n   */\n  create(nodeData) {\n    var op = ObjectOperation.Create([nodeData.id], nodeData)\n    this.apply(op)\n    return op\n  }\n\n  /**\n    Delete a node.\n\n    @param {String} nodeId\n    @returns {ObjectOperation} The applied operation.\n   */\n  delete(nodeId) {\n    var op = null\n    var node = this.get(nodeId)\n    if (node) {\n      var nodeData = node.toJSON()\n      op = ObjectOperation.Delete([nodeId], nodeData)\n      this.apply(op)\n    }\n    return op\n  }\n\n  /**\n    Update a property incrementally.\n\n    The diff can be of the following forms (depending on the updated property type):\n      - String:\n        - `{ insert: { offset: Number, value: Object } }`\n        - `{ delete: { start: Number, end: Number } }`\n      - Array:\n        - `{ insert: { offset: Number, value: Object } }`\n        - `{ delete: { offset: Number } }`\n\n    @param {array} path\n    @param {object} diff\n    @returns {ObjectOperation} The applied operation.\n  */\n  update(path, diff) {\n    var diffOp = this._getDiffOp(path, diff)\n    var op = ObjectOperation.Update(path, diffOp)\n    this.apply(op)\n    return op\n  }\n\n  /**\n    Set a property to a new value\n\n    @param {Array} path\n    @param {Object} newValue\n    @returns {ObjectOperation} The applied operation.\n   */\n  set(path, newValue) {\n    var oldValue = this.get(path)\n    var op = ObjectOperation.Set(path, oldValue, newValue)\n    this.apply(op)\n    return op\n  }\n\n  /**\n    Apply a given operation.\n\n    @param {ObjectOperation} op\n   */\n  apply(op) {\n    if (op.type === ObjectOperation.NOP) return\n    else if (op.type === ObjectOperation.CREATE) {\n      // clone here as the operations value must not be changed\n      super.create(cloneDeep(op.val))\n    } else if (op.type === ObjectOperation.DELETE) {\n      super.delete(op.val.id)\n    } else if (op.type === ObjectOperation.UPDATE) {\n      var oldVal = this.get(op.path)\n      var diff = op.diff\n      if (op.propertyType === 'array') {\n        if (! (diff._isArrayOperation) ) {\n          diff = ArrayOperation.fromJSON(diff)\n        }\n        // array ops work inplace\n        diff.apply(oldVal)\n      } else if (op.propertyType === 'string') {\n        if (!(diff._isTextOperation) ) {\n          diff = TextOperation.fromJSON(diff)\n        }\n        var newVal = diff.apply(oldVal)\n        super.set(op.path, newVal)\n      } else if (op.propertyType === 'coordinate') {\n        if (!(diff._isCoordinateOperation) ) {\n          diff = CoordinateOperation.fromJSON(diff)\n        }\n        diff.apply(oldVal)\n      } else {\n        throw new Error(\"Unsupported type for operational update.\")\n      }\n    } else if (op.type === ObjectOperation.SET) {\n      super.set(op.path, op.val)\n    } else {\n      throw new Error(\"Illegal state.\")\n    }\n    this.emit('operation:applied', op, this)\n  }\n\n  /**\n    Creates proper operation based on provided node path and diff.\n\n    @param {Array} path\n    @param {Object} diff\n    @returns {ObjectOperation} operation.\n    @private\n  */\n  _getDiffOp(path, diff) {\n    var diffOp = null\n    if (diff.isOperation) {\n      diffOp = diff\n    } else {\n      var value = this.get(path)\n      diff = this._normalizeDiff(value, diff)\n      if (value === null || value === undefined) {\n        throw new Error('Property has not been initialized: ' + JSON.stringify(path))\n      } else if (isString(value)) {\n        switch (diff.type) {\n          case 'delete': {\n            diffOp = TextOperation.Delete(diff.start, value.substring(diff.start, diff.end))\n            break\n          }\n          case 'insert': {\n            diffOp = TextOperation.Insert(diff.start, diff.text)\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      } else if (isArray(value)) {\n        switch (diff.type) {\n          case 'delete': {\n            diffOp = ArrayOperation.Delete(diff.pos, value[diff.pos])\n            break\n          }\n          case 'insert': {\n            diffOp = ArrayOperation.Insert(diff.pos, diff.value)\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      } else if (value._isCoordinate) {\n        switch (diff.type) {\n          case 'shift': {\n            diffOp = CoordinateOperation.Shift(diff.value)\n            break\n          }\n          default:\n            throw new Error('Unknown diff type')\n        }\n      }\n    }\n    if (!diffOp) {\n      throw new Error('Unsupported diff: ' + JSON.stringify(diff))\n    }\n    return diffOp\n  }\n\n}\n\nexport default IncrementalData\n","class DocumentNodeFactory {\n\n  constructor(doc) {\n    this.doc = doc\n  }\n\n  create(nodeType, nodeData) {\n    var NodeClass = this.doc.schema.getNodeClass(nodeType)\n    if (!NodeClass) {\n      throw new Error('No node registered by that name: ' + nodeType)\n    }\n    return new NodeClass(this.doc, nodeData)\n  }\n}\n\nexport default DocumentNodeFactory\n","import forEach from '../util/forEach'\n\nclass JSONConverter {\n\n  importDocument(doc, json) {\n    if (!json.nodes) {\n      throw new Error('Invalid JSON format.')\n    }\n    var schema = doc.getSchema()\n    if (json.schema && schema.name !== json.schema.name) {\n      throw new Error('Incompatible schema.')\n    }\n    // the json should just be an array of nodes\n    var nodes = json.nodes\n    // import data in a block with deactivated indexers and listeners\n    // as the data contains cyclic references which\n    // cause problems.\n    doc.import(function(tx) {\n      forEach(nodes, function(node) {\n        // overwrite existing nodes\n        if (tx.get(node.id)) {\n          tx.delete(node.id)\n        }\n        tx.create(node)\n      })\n    })\n    return doc\n  }\n\n  exportDocument(doc) {\n    var schema = doc.getSchema()\n    var json = {\n      schema: {\n        name: schema.name\n      },\n      nodes: {}\n    }\n    forEach(doc.getNodes(), function(node) {\n      if (node._isDocumentNode) {\n        json.nodes[node.id] = node.toJSON()\n      }\n    })\n    return json\n  }\n}\n\nexport default JSONConverter\n","import { isEqual, isObject} from 'lodash-es'\n\nimport isArray from '../util/isArray'\nimport isString from '../util/isString'\nimport forEach from '../util/forEach'\nimport uuid from '../util/uuid'\nimport EventEmitter from '../util/EventEmitter'\nimport DocumentIndex from './DocumentIndex'\nimport AnnotationIndex from './AnnotationIndex'\nimport ContainerAnnotationIndex from './ContainerAnnotationIndex'\nimport AnchorIndex from './AnchorIndex'\nimport DocumentChange from './DocumentChange'\nimport PathEventProxy from './PathEventProxy'\nimport IncrementalData from './data/IncrementalData'\nimport DocumentNodeFactory from './DocumentNodeFactory'\nimport Selection from './Selection'\nimport PropertySelection from './PropertySelection'\nimport ContainerSelection from './ContainerSelection'\nimport NodeSelection from './NodeSelection'\nimport CustomSelection from './CustomSelection'\nimport Coordinate from './Coordinate'\nimport Range from './Range'\nimport docHelpers from './documentHelpers'\nimport JSONConverter from './JSONConverter'\n\nvar converter = new JSONConverter()\n\n/**\n  Basic implementation of a Document.\n\n  @example\n\n  ```js\n  import { Document } from 'substance'\n\n  class MyArticle extends Document {\n    constructor(...args) {\n      super(...args)\n\n      this.addIndex('foo', FooIndex)\n    }\n  }\n  ```\n*/\n\nclass Document extends EventEmitter {\n\n  /**\n    @param {DocumentSchema} schema The document schema.\n  */\n  constructor(schema) {\n    super()\n\n    // HACK: to be able to inherit but not execute this ctor\n    if (arguments[0] === 'SKIP') return\n\n    this.__id__ = uuid()\n\n    if (!schema) {\n      throw new Error('A document needs a schema for reflection.')\n    }\n\n    this.schema = schema\n    this.nodeFactory = new DocumentNodeFactory(this)\n    this.data = new IncrementalData(schema, {\n      nodeFactory: this.nodeFactory\n    })\n\n    // all by type\n    this.addIndex('type', DocumentIndex.create({ property: \"type\" }))\n\n    // special index for (property-scoped) annotations\n    this.addIndex('annotations', new AnnotationIndex())\n\n    // TODO: these are only necessary if there is a container annotation\n    // in the schema\n    // special index for (container-scoped) annotations\n    this.addIndex('container-annotations', new ContainerAnnotationIndex())\n    this.addIndex('container-annotation-anchors', new AnchorIndex())\n\n    // change event proxies are triggered after a document change has been applied\n    // before the regular document:changed event is fired.\n    // They serve the purpose of making the event notification more efficient\n    // In earlier days all observers such as node views where listening on the same event 'operation:applied'.\n    // This did not scale with increasing number of nodes, as on every operation all listeners where notified.\n    // The proxies filter the document change by interest and then only notify a small set of observers.\n    // Example: NotifyByPath notifies only observers which are interested in changes to a certain path.\n    this.eventProxies = {\n      'path': new PathEventProxy(this),\n    }\n\n    // Note: using the general event queue (as opposed to calling _updateEventProxies from within _notifyChangeListeners)\n    // so that handler priorities are considered correctly\n    this.on('document:changed', this._updateEventProxies, this)\n  }\n\n  get id() {\n    return this.__id__\n  }\n\n  /**\n    @returns {model/DocumentSchema} the document's schema.\n  */\n  getSchema() {\n    return this.schema\n  }\n\n  /**\n    Check if this storage contains a node with given id.\n\n    @returns {Boolean} `true` if a node with id exists, `false` otherwise.\n  */\n  contains(id) {\n    return this.data.contains(id)\n  }\n\n  /**\n    Provides the so called real for a property.\n\n    With our flat model, properties usually have 2-component path,\n    e.g. 'text1.content'\n    With ids, which are comparable to symlinks on the file-system\n    it sometimes makes sense to describe a property in its parent context.\n    For example a list item could be addressed via its parent: `['list1', 'items', 1, 'content']`\n    Here `this.getRealPath()` would provide something like `['list-item-xyz', 'content']`\n    The real path makes Operational Transforms more robust, as such changes are independent\n    of its parent.\n  */\n  getRealPath(path) {\n    return this.data.getRealPath(path)\n  }\n\n  /**\n    Get a node or value via path.\n\n    @param {String|String[]} path node id or path to property.\n    @returns {DocumentNode|any|undefined} a Node instance, a value or undefined if not found.\n  */\n  get(path, strict) {\n    return this.data.get(path, strict)\n  }\n\n  /**\n    @return {Object} A hash of {@link model/DocumentNode} instances.\n  */\n  getNodes() {\n    return this.data.getNodes()\n  }\n\n  /**\n    Creates a context like a transaction for importing nodes.\n    This is important in presence of cyclic dependencies.\n    Indexes will not be updated during the import but will afterwards\n    when all nodes are have been created.\n\n    @private\n    @param {Function} importer a `function(doc)`, where with `doc` is a `model/AbstractDocument`\n\n    @example\n\n    Consider the following example from our documentation generator:\n    We want to have a member index, which keeps track of members of namespaces, modules, and classes.\n    grouped by type, and in the case of classes, also grouped by 'instance' and 'class'.\n\n    ```\n    ui\n      - class\n        - ui/Component\n    ui/Component\n      - class\n        - method\n          - mount\n      - instance\n        - method\n          - render\n    ```\n\n    To decide which grouping to apply, the parent type of a member needs to be considered.\n    Using an incremental approach, this leads to the problem, that the parent must exist\n    before the child. At the same time, e.g. when deserializing, the parent has already\n    a field with all children ids. This cyclic dependency is best address, by turning\n    off all listeners (such as indexes) until the data is consistent.\n\n  */\n  import(importer) {\n    try {\n      this.data._stopIndexing()\n      importer(this)\n      this.data._startIndexing()\n    } finally {\n      this.data.queue = []\n      this.data._startIndexing()\n    }\n  }\n\n  /**\n    Create a node from the given data.\n\n    @param {Object} plain node data.\n    @return {DocumentNode} The created node.\n\n    @example\n\n    ```js\n    doc.transaction(function(tx) {\n      tx.create({\n        id: 'p1',\n        type: 'paragraph',\n        content: 'Hi I am a Substance paragraph.'\n      })\n    })\n    ```\n  */\n  create(nodeData) {\n    if (!nodeData.id) {\n      nodeData.id = uuid(nodeData.type)\n    }\n    var op = this._create(nodeData)\n    var change = new DocumentChange([op], {}, {})\n    change._extractInformation(this)\n    this._notifyChangeListeners(change, { hidden: true })\n    return this.data.get(nodeData.id)\n  }\n\n  /**\n    Delete the node with given id.\n\n    @param {String} nodeId\n    @returns {DocumentNode} The deleted node.\n\n    @example\n\n    ```js\n    doc.transaction(function(tx) {\n      tx.delete('p1')\n    })\n    ```\n  */\n  delete(nodeId) {\n    var node = this.get(nodeId)\n    var op = this._delete(nodeId)\n    var change = new DocumentChange([op], {}, {})\n    change._extractInformation(this)\n    this._notifyChangeListeners(change, { hidden: true })\n    return node\n  }\n\n  /**\n    Set a property to a new value.\n\n    @param {String[]} property path\n    @param {any} newValue\n    @returns {DocumentNode} The deleted node.\n\n    @example\n\n    ```js\n    doc.transaction(function(tx) {\n      tx.set(['p1', 'content'], \"Hello there! I'm a new paragraph.\")\n    })\n    ```\n  */\n  set(path, value) {\n    var oldValue = this.get(path)\n    var op = this._set(path, value)\n    var change = new DocumentChange([op], {}, {})\n    change._extractInformation(this)\n    this._notifyChangeListeners(change, { hidden: true })\n    return oldValue\n  }\n\n  /**\n    Update a property incrementally.\n\n    @param {Array} property path\n    @param {Object} diff\n    @returns {any} The value before applying the update.\n\n    @example\n\n\n    Inserting text into a string property:\n    ```\n    doc.update(['p1', 'content'], { insert: {offset: 3, value: \"fee\"} })\n    ```\n    would turn \"Foobar\" into \"Foofeebar\".\n\n    Deleting text from a string property:\n    ```\n    doc.update(['p1', 'content'], { delete: {start: 0, end: 3} })\n    ```\n    would turn \"Foobar\" into \"bar\".\n\n    Inserting into an array:\n    ```\n    doc.update(['p1', 'content'], { insert: {offset: 2, value: 0} })\n    ```\n    would turn `[1,2,3,4]` into `[1,2,0,3,4]`.\n\n    Deleting from an array:\n    ```\n    doc.update(['body', 'nodes'], { delete: 2 })\n    ```\n    would turn `[1,2,3,4]` into `[1,2,4]`.\n  */\n  update(path, diff) {\n    var op = this._update(path, diff)\n    var change = new DocumentChange([op], {}, {})\n    change._extractInformation(this)\n    this._notifyChangeListeners(change, { hidden: true })\n    return op\n  }\n\n  /**\n    Add a document index.\n\n    @param {String} name\n    @param {DocumentIndex} index\n  */\n  addIndex(name, index) {\n    return this.data.addIndex(name, index)\n  }\n\n  /**\n    @param {String} name\n    @returns {DocumentIndex} the node index with given name.\n  */\n  getIndex(name) {\n    return this.data.getIndex(name)\n  }\n\n  /**\n    Creates a selection which is attached to this document.\n    Every selection implementation provides its own\n    parameter format which is basically a JSON representation.\n\n    @param {model/Selection} sel An object describing the selection.\n\n    @example\n\n    Creating a PropertySelection:\n\n    ```js\n    doc.createSelection([ 'text1', 'content'], 10, 20)\n    ```\n\n    Creating a ContainerSelection:\n\n    ```js\n    doc.createSelection('main', [ 'p1', 'content'], 10, [ 'p2', 'content'], 20)\n    ```\n\n    Creating a NullSelection:\n\n    ```js\n    doc.createSelection(null)\n    ```\n\n    You can also call this method with JSON data\n\n    ```js\n    doc.createSelection({\n      type: 'property',\n      path: [ 'p1', 'content'],\n      startOffset: 10,\n      endOffset: 20\n    })\n    ```\n  */\n  createSelection() {\n    var sel = _createSelection.apply(this, arguments)\n    if (!sel.isNull()) {\n      sel.attach(this)\n    }\n    return sel\n  }\n\n  getEventProxy(name) {\n    return this.eventProxies[name]\n  }\n\n  newInstance() {\n    var DocumentClass = this.constructor\n    return new DocumentClass(this.schema)\n  }\n\n  // useful in combination with paste transformation\n  createSnippet() {\n    var snippet = this.newInstance()\n    var snippetContainer = snippet.create({\n      type: 'container',\n      id: Document.SNIPPET_ID\n    })\n    snippet.getContainer = function() {\n      return snippetContainer\n    }\n    snippet.show = function() {\n      snippetContainer.show.apply(snippetContainer, arguments)\n    }\n    return snippet\n  }\n\n  fromSnapshot(data) {\n    var doc = this.newInstance()\n    doc.loadSeed(data)\n    return doc\n  }\n\n  getDocumentMeta() {\n    return this.get('document')\n  }\n\n  _apply(documentChange) {\n    forEach(documentChange.ops, function(op) {\n      this.data.apply(op)\n      this.emit('operation:applied', op)\n    }.bind(this))\n    // extract aggregated information, such as which property has been affected etc.\n    documentChange._extractInformation(this)\n  }\n\n  _notifyChangeListeners(change, info) {\n    info = info || {}\n    this.emit('document:changed', change, info, this)\n  }\n\n  _updateEventProxies(change, info) {\n    forEach(this.eventProxies, function(proxy) {\n      proxy.onDocumentChanged(change, info, this)\n    }.bind(this))\n  }\n\n  /**\n   * DEPRECATED: We will drop support as this should be done in a more\n   *             controlled fashion using an importer.\n   * @skip\n   */\n  loadSeed(seed) {\n    // clear all existing nodes (as they should be there in the seed)\n    forEach(this.data.nodes, function(node) {\n      this.delete(node.id)\n    }.bind(this))\n    // create nodes\n    forEach(seed.nodes, function(nodeData) {\n      this.create(nodeData)\n    }.bind(this))\n  }\n\n  /**\n    Convert to JSON.\n\n    @returns {Object} Plain content.\n  */\n  toJSON() {\n    return converter.exportDocument(this)\n  }\n\n  getTextForSelection(sel) {\n    console.warn('DEPRECATED: use docHelpers.getTextForSelection() instead.')\n    return docHelpers.getTextForSelection(this, sel)\n  }\n\n  setText(path, text, annotations) {\n    // TODO: this should go into document helpers.\n    var idx\n    var oldAnnos = this.getIndex('annotations').get(path)\n    // TODO: what to do with container annotations\n    for (idx = 0; idx < oldAnnos.length; idx++) {\n      this.delete(oldAnnos[idx].id)\n    }\n    this.set(path, text)\n    for (idx = 0; idx < annotations.length; idx++) {\n      this.create(annotations[idx])\n    }\n  }\n\n  getAnnotations(path) {\n    return this.getIndex('annotations').get(path)\n  }\n\n  _create(nodeData) {\n    var op = this.data.create(nodeData)\n    return op\n  }\n\n  _delete(nodeId) {\n    var op = this.data.delete(nodeId)\n    return op\n  }\n\n  _update(path, diff) {\n    var op = this.data.update(path, diff)\n    return op\n  }\n\n  _set(path, value) {\n    var op = this.data.set(path, value)\n    return op\n  }\n\n}\n\nDocument.prototype._isDocument = true\n\n// used by transforms copy, paste\n// and by ClipboardImporter/Exporter\nDocument.SNIPPET_ID = \"snippet\"\nDocument.TEXT_SNIPPET_ID = \"text-snippet\"\n\n\nexport default Document\n\n\nfunction _createSelection() {\n  var doc = this; // eslint-disable-line\n  var coor, range, path, startOffset, endOffset\n  if (arguments.length === 1 && arguments[0] === null) {\n    return Selection.nullSelection\n  }\n  if (arguments[0] instanceof Coordinate) {\n    coor = arguments[0]\n    if (coor.isNodeCoordinate()) {\n      return NodeSelection._createFromCoordinate(coor)\n    } else {\n      return new PropertySelection(coor.path, coor.offset, coor.offset)\n    }\n  }\n  else if (arguments[0] instanceof Range) {\n    range = arguments[0]\n    var inOneNode = isEqual(range.start.path, range.end.path)\n    if (inOneNode) {\n      if (range.start.isNodeCoordinate()) {\n        return NodeSelection._createFromRange(range)\n      } else {\n        return new PropertySelection(range.start.path, range.start.offset, range.end.offset, range.reverse, range.containerId)\n      }\n    } else {\n      return new ContainerSelection(range.containerId, range.start.path, range.start.offset, range.end.path, range.end.offset, range.reverse)\n    }\n  }\n  else if (arguments.length === 1 && isObject(arguments[0])) {\n    return _createSelectionFromData(doc, arguments[0])\n  }\n  // createSelection(startPath, startOffset)\n  else if (arguments.length === 2 && isArray(arguments[0])) {\n    path = arguments[0]\n    startOffset = arguments[1]\n    return new PropertySelection(path, startOffset, startOffset)\n  }\n  // createSelection(startPath, startOffset, endOffset)\n  else if (arguments.length === 3 && isArray(arguments[0])) {\n    path = arguments[0]\n    startOffset = arguments[1]\n    endOffset = arguments[2]\n    return new PropertySelection(path, startOffset, endOffset, startOffset>endOffset)\n  }\n  // createSelection(containerId, startPath, startOffset, endPath, endOffset)\n  else if (arguments.length === 5 && isString(arguments[0])) {\n    return _createSelectionFromData(doc, {\n      type: 'container',\n      containerId: arguments[0],\n      startPath: arguments[1],\n      startOffset: arguments[2],\n      endPath: arguments[3],\n      endOffset: arguments[4]\n    })\n  } else {\n    console.error('Illegal arguments for Selection.create().', arguments)\n    return Selection.nullSelection\n  }\n}\n\nfunction _createSelectionFromData(doc, selData) {\n  var tmp\n  if (selData.type === 'property') {\n    if (selData.endOffset === null || selData.endOffset === undefined) {\n      selData.endOffset = selData.startOffset\n    }\n    if (!selData.hasOwnProperty('reverse')) {\n      if (selData.startOffset>selData.endOffset) {\n        tmp = selData.startOffset\n        selData.startOffset = selData.endOffset\n        selData.endOffset = tmp\n        selData.reverse = true\n      } else {\n        selData.reverse = false\n      }\n    }\n    return new PropertySelection(selData.path, selData.startOffset, selData.endOffset, selData.reverse, selData.containerId, selData.surfaceId)\n  } else if (selData.type === 'container') {\n    var container = doc.get(selData.containerId, 'strict')\n    if (!container) throw new Error('Can not create ContainerSelection: container \"'+selData.containerId+'\" does not exist.')\n    var start = new Coordinate(selData.startPath, selData.startOffset)\n    var end = new Coordinate(selData.endPath, selData.endOffset)\n    var startAddress = container.getAddress(start)\n    var endAddress = container.getAddress(end)\n    var isReverse = selData.reverse\n    if (!startAddress) {\n      throw new Error('Invalid arguments for ContainerSelection: ', start.toString())\n    }\n    if (!endAddress) {\n      throw new Error('Invalid arguments for ContainerSelection: ', end.toString())\n    }\n    if (!selData.hasOwnProperty('reverse')) {\n      isReverse = endAddress.isBefore(startAddress, 'strict')\n      if (isReverse) {\n        tmp = start\n        start = end\n        end = tmp\n      }\n    }\n\n    // ATTENTION: since Beta4 we are not supporting partial\n    // selections of nodes other than text nodes\n    // Thus we are turning other property coordinates into node coordinates\n    _allignCoordinate(doc, start, true)\n    _allignCoordinate(doc, end, false)\n\n    return new ContainerSelection(container.id, start.path, start.offset, end.path, end.offset, isReverse, selData.surfaceId)\n  }\n  else if (selData.type === 'node') {\n    return NodeSelection.fromJSON(selData)\n  } else if (selData.type === 'custom') {\n    return CustomSelection.fromJSON(selData)\n  } else {\n    throw new Error('Illegal selection type', selData)\n  }\n}\n\nfunction _allignCoordinate(doc, coor, isStart) {\n  if (!coor.isNodeCoordinate()) {\n    var nodeId = coor.getNodeId()\n    var node = doc.get(nodeId)\n    if (!node.isText()) {\n      console.warn('Selecting a non-textish node partially is not supported. Select the full node.')\n      coor.path = [nodeId]\n      coor.offset = isStart ? 0 : 1\n    }\n  }\n}\n","import forEach from '../util/forEach'\nimport uuid from '../util/uuid'\nimport Document from './Document'\nimport IncrementalData from './data/IncrementalData'\nimport DocumentNodeFactory from './DocumentNodeFactory'\n\nvar __id__ = 0\n\n/**\n  A {@link Document} instance that is used during transaction.\n\n  During editing a TransactionDocument is kept up-to-date with the real one.\n  Whenever a transaction is started on the document, a TransactionDocument is used to\n  record changes, which are applied en-bloc when the transaction is saved.\n\n  The transaction document is the common way to manipulate the document.\n  It provides a 'turtle-graphics' style API, i.e., it has a state\n\n  @example\n\n  To start a transaction run\n\n  ```\n  doc.transaction(function(tx) {\n    // use tx to record changes\n  })\n  ```\n*/\nclass TransactionDocument extends Document {\n\n  /**\n    @param {model/Document} document a document instance\n  */\n  constructor(document) {\n    super('SKIP')\n\n    this.__id__ = \"TX_\"+__id__++\n\n    this.schema = document.schema\n    this.nodeFactory = new DocumentNodeFactory(this)\n    this.data = new IncrementalData(this.schema, {\n      nodeFactory: this.nodeFactory\n    })\n\n    this.document = document\n\n    // ops recorded since transaction start\n    this.ops = []\n    this.lastOp = null\n\n    // copy all indexes\n    forEach(document.data.indexes, function(index, name) {\n      this.data.addIndex(name, index.clone())\n    }.bind(this))\n\n    this.loadSeed(document.toJSON())\n\n    // make sure that we mirror all changes that are done outside of transactions\n    document.on('document:changed', this._onDocumentChanged, this)\n  }\n\n  dispose() {\n    this.document.off(this)\n  }\n\n  create(nodeData) {\n    if (!nodeData.id) {\n      nodeData.id = uuid(nodeData.type)\n    }\n    if (!nodeData.type) {\n      throw new Error('No node type provided')\n    }\n    this.lastOp = this.data.create(nodeData)\n    if (this.lastOp) {\n      this.ops.push(this.lastOp)\n      return this.data.get(nodeData.id)\n    }\n  }\n\n  createDefaultTextNode(text, dir) {\n    return this.create({\n      type: this.getSchema().getDefaultTextType(),\n      content: text || '',\n      direction: dir\n    })\n  }\n\n  delete(nodeId) {\n    this.lastOp = this.data.delete(nodeId)\n    if (this.lastOp) {\n      this.ops.push(this.lastOp)\n    }\n  }\n\n  set(path, value) {\n    var realPath = this.getRealPath(path)\n    if (!realPath) throw new Error('Invalid path')\n    this.lastOp = this.data.set(realPath, value)\n    if (this.lastOp) {\n      this.ops.push(this.lastOp)\n    }\n  }\n\n  update(path, diffOp) {\n    var realPath = this.getRealPath(path)\n    if (!realPath) throw new Error('Invalid path')\n    let op = this.lastOp = this.data.update(realPath, diffOp)\n    if (op) {\n      this.ops.push(op)\n      return op\n    }\n  }\n\n  _onDocumentChanged(change) {\n    // NOTE: this is hooked to document:changed (low-level), to make sure that we\n    // update the transaction document too when the document is manipulated directly, e.g. using `document.create(...)`\n    this._apply(change)\n  }\n\n  _apply(documentChange) {\n    documentChange.ops.forEach(function(op) {\n      this.data.apply(op)\n    }.bind(this))\n  }\n\n  _reset() {\n    this.ops = []\n    this.lastOp = null\n  }\n\n  _rollback() {\n    for (var i = this.ops.length - 1; i >= 0; i--) {\n      this.data.apply(this.ops[i].invert())\n    }\n    this.ops = []\n    this.lastOp = null\n  }\n\n  newInstance() {\n    return this.document.newInstance()\n  }\n}\n\nTransactionDocument.prototype.isTransactionDocument = true\n\nexport default TransactionDocument\n","import { uniq } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport isArray from '../util/isArray'\nimport uuid from '../util/uuid'\n\n// TODO: this should be implemented as transformations\n\n// A collection of methods to update annotations\n// --------\n//\n// As we treat annotations as overlay of plain text we need to keep them up-to-date during editing.\n\nfunction insertedText(doc, coordinate, length) {\n  if (!length) return;\n  var index = doc.getIndex('annotations');\n  var annotations = index.get(coordinate.path);\n  forEach(annotations, function(anno) {\n    var pos = coordinate.offset;\n    var start = anno.startOffset;\n    var end = anno.endOffset;\n    var newStart = start;\n    var newEnd = end;\n    if ( (pos < start) ||\n         (pos === start) ) {\n      newStart += length;\n    }\n    // inline nodes do not expand automatically\n    if ( (pos < end) ||\n         (pos === end && !anno.isInline()) ) {\n      newEnd += length;\n    }\n    if (newStart !== start) {\n      doc.set([anno.id, 'startOffset'], newStart);\n    }\n    if (newEnd !== end) {\n      doc.set([anno.id, 'endOffset'], newEnd);\n    }\n  });\n  // same for container annotation anchors\n  index = doc.getIndex('container-annotation-anchors');\n  var anchors = index.get(coordinate.path);\n  forEach(anchors, function(anchor) {\n    var pos = coordinate.offset;\n    var start = anchor.offset;\n    var changed = false;\n    if ( (pos < start) ||\n         (pos === start && !coordinate.after) ) {\n      start += length;\n      changed = true;\n    }\n    if (changed) {\n      var property = (anchor.isStart?'startOffset':'endOffset');\n      doc.set([anchor.id, property], start);\n    }\n  });\n}\n\nfunction deletedText(doc, path, startOffset, endOffset) {\n  if (startOffset === endOffset) return;\n  var index = doc.getIndex('annotations');\n  var annotations = index.get(path);\n  var length = endOffset - startOffset;\n  forEach(annotations, function(anno) {\n    var pos1 = startOffset;\n    var pos2 = endOffset;\n    var start = anno.startOffset;\n    var end = anno.endOffset;\n    var newStart = start;\n    var newEnd = end;\n    if (pos2 <= start) {\n      newStart -= length;\n      newEnd -= length;\n      doc.set([anno.id, 'startOffset'], newStart);\n      doc.set([anno.id, 'endOffset'], newEnd);\n    } else {\n      if (pos1 <= start) {\n        newStart = start - Math.min(pos2-pos1, start-pos1);\n      }\n      if (pos1 <= end) {\n        newEnd = end - Math.min(pos2-pos1, end-pos1);\n      }\n      // delete the annotation if it has collapsed by this delete\n      if (start !== end && newStart === newEnd) {\n        doc.delete(anno.id);\n      } else {\n        if (start !== newStart) {\n          doc.set([anno.id, 'startOffset'], newStart);\n        }\n        if (end !== newEnd) {\n          doc.set([anno.id, 'endOffset'], newEnd);\n        }\n      }\n    }\n  });\n  // same for container annotation anchors\n  index = doc.getIndex('container-annotation-anchors');\n  var anchors = index.get(path);\n  var containerAnnoIds = [];\n  forEach(anchors, function(anchor) {\n    containerAnnoIds.push(anchor.id);\n    var pos1 = startOffset;\n    var pos2 = endOffset;\n    var start = anchor.offset;\n    var changed = false;\n    if (pos2 <= start) {\n      start -= length;\n      changed = true;\n    } else {\n      if (pos1 <= start) {\n        var newStart = start - Math.min(pos2-pos1, start-pos1);\n        if (start !== newStart) {\n          start = newStart;\n          changed = true;\n        }\n      }\n    }\n    if (changed) {\n      var property = (anchor.isStart?'startOffset':'endOffset');\n      doc.set([anchor.id, property], start);\n    }\n  });\n  // check all anchors after that if they have collapsed and remove the annotation in that case\n  forEach(uniq(containerAnnoIds), function(id) {\n    var anno = doc.get(id);\n    var annoSel = anno.getSelection();\n    if(annoSel.isCollapsed()) {\n      // console.log(\"...deleting container annotation because it has collapsed\" + id);\n      doc.delete(id);\n    }\n  });\n}\n\n// used when breaking a node to transfer annotations to the new property\nfunction transferAnnotations(doc, path, offset, newPath, newOffset) {\n  var index = doc.getIndex('annotations');\n  var annotations = index.get(path, offset);\n  forEach(annotations, function(a) {\n    var isInside = (offset > a.startOffset && offset < a.endOffset);\n    var start = a.startOffset;\n    var end = a.endOffset;\n    var newStart, newEnd;\n    // 1. if the cursor is inside an annotation it gets either split or truncated\n    if (isInside) {\n      // create a new annotation if the annotation is splittable\n      if (a.canSplit()) {\n        var newAnno = a.toJSON();\n        newAnno.id = uuid(a.type + \"_\");\n        newAnno.startOffset = newOffset;\n        newAnno.endOffset = newOffset + a.endOffset - offset;\n        newAnno.path = newPath;\n        doc.create(newAnno);\n      }\n      // in either cases truncate the first part\n      newStart = a.startOffset;\n      newEnd = offset;\n      // if after truncate the anno is empty, delete it\n      if (newEnd === newStart) {\n        doc.delete(a.id);\n      }\n      // ... otherwise update the range\n      else {\n        if (newStart !== start) {\n          doc.set([a.id, \"startOffset\"], newStart);\n        }\n        if (newEnd !== end) {\n          doc.set([a.id, \"endOffset\"], newEnd);\n        }\n      }\n    }\n    // 2. if the cursor is before an annotation then simply transfer the annotation to the new node\n    else if (a.startOffset >= offset) {\n      // Note: we are preserving the annotation so that anything which is connected to the annotation\n      // remains valid.\n      newStart = newOffset + a.startOffset - offset;\n      newEnd = newOffset + a.endOffset - offset;\n      doc.set([a.id, \"path\"], newPath);\n      doc.set([a.id, \"startOffset\"], newStart);\n      doc.set([a.id, \"endOffset\"], newEnd);\n    }\n  });\n  // same for container annotation anchors\n  index = doc.getIndex('container-annotation-anchors');\n  var anchors = index.get(path);\n  var containerAnnoIds = [];\n  forEach(anchors, function(anchor) {\n    containerAnnoIds.push(anchor.id);\n    var start = anchor.offset;\n    if (offset <= start) {\n      var pathProperty = (anchor.isStart?'startPath':'endPath');\n      var offsetProperty = (anchor.isStart?'startOffset':'endOffset');\n      doc.set([anchor.id, pathProperty], newPath);\n      doc.set([anchor.id, offsetProperty], newOffset + anchor.offset - offset);\n    }\n  });\n  // check all anchors after that if they have collapsed and remove the annotation in that case\n  forEach(uniq(containerAnnoIds), function(id) {\n    var anno = doc.get(id);\n    var annoSel = anno.getSelection();\n    if(annoSel.isCollapsed()) {\n      // console.log(\"...deleting container annotation because it has collapsed\" + id);\n      doc.delete(id);\n    }\n  });\n}\n\n/*\n @param {model/Document} tx\n @param {model/PropertyAnnotation} args.anno annotation which should be expanded\n @param {model/Selection}  args.selection selection to which to expand\n*/\nfunction truncateAnnotation(tx, anno, sel) {\n  if (!sel || !sel._isSelection) throw new Error('Argument \"selection\" is required.')\n  if (!anno || !anno._isAnnotation) throw new Error('Argument \"anno\" is required.')\n  let annoSel = anno.getSelection()\n  let newAnnoSel = annoSel.truncateWith(sel)\n  anno.updateRange(tx, newAnnoSel)\n  return anno\n}\n\n/*\n @param {model/Document} tx\n @param {model/PropertyAnnotation} args.anno annotation which should be expanded\n @param {model/Selection}  args.selection selection to which to expand\n*/\nfunction expandAnnotation(tx, anno, sel) {\n  if (!sel || !sel._isSelection) throw new Error('Argument \"selection\" is required.')\n  if (!anno || !anno._isAnnotation) throw new Error('Argument \"anno\" is required.')\n  let annoSel = anno.getSelection()\n  let newAnnoSel = annoSel.expand(sel)\n  anno.updateRange(tx, newAnnoSel)\n  return anno\n}\n\n/*\n @param {model/Document} tx\n @param {model/PropertyAnnotation[]} args.annos annotations which should be fused\n*/\nfunction fuseAnnotation(tx, annos) {\n  if (!isArray(annos) || annos.length < 2) {\n    throw new Error('fuseAnnotation(): at least two annotations are necessary.')\n  }\n  let sel, annoType\n  annos.forEach(function(anno, idx) {\n    if (idx === 0) {\n      sel = anno.getSelection()\n      annoType = anno.type\n    } else {\n      if (anno.type !== annoType) {\n        throw new Error('fuseAnnotation(): all annotations must be of the same type.')\n      }\n      sel = sel.expand(anno.getSelection())\n    }\n  })\n  // expand the first and delete the others\n  for (var i = 1; i < annos.length; i++) {\n    tx.delete(annos[i].id)\n  }\n  expandAnnotation(tx, annos[0], sel)\n  tx.setSelection(sel)\n}\n\n\nexport default {\n  insertedText: insertedText,\n  deletedText: deletedText,\n  transferAnnotations: transferAnnotations,\n  expandAnnotation: expandAnnotation,\n  fuseAnnotation: fuseAnnotation,\n  truncateAnnotation: truncateAnnotation\n}\n","import { cloneDeep, last } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport Document from './Document'\nimport annotationHelpers from './annotationHelpers'\n\n/**\n  Creates a new document instance containing only the selected content\n\n  @param {Object} args object with `selection`\n  @return {Object} with a `doc` property that has a fresh doc with the copied content\n*/\n\nfunction copySelection(doc, selection) {\n  if (!selection) throw new Error(\"'selection' is mandatory.\")\n  let copy = null\n  if (!selection.isNull() && !selection.isCollapsed()) {\n    // return a simplified version if only a piece of text is selected\n    if (selection.isPropertySelection()) {\n      copy = _copyPropertySelection(doc, selection)\n    }\n    else if (selection.isContainerSelection()) {\n      copy = _copyContainerSelection(doc, selection)\n    }\n    else if (selection.isNodeSelection()) {\n      copy = _copyNodeSelection(doc, selection)\n    }\n    else {\n      console.error('Copy is not yet supported for selection type.')\n    }\n  }\n  return copy\n}\n\nfunction _copyPropertySelection(doc, selection) {\n  let path = selection.start.path\n  let offset = selection.start.offset\n  let endOffset = selection.end.offset\n  let text = doc.get(path)\n  let snippet = doc.createSnippet()\n  let containerNode = snippet.getContainer()\n  snippet.create({\n    type: doc.schema.getDefaultTextType(),\n    id: Document.TEXT_SNIPPET_ID,\n    content: text.substring(offset, endOffset)\n  })\n  containerNode.show(Document.TEXT_SNIPPET_ID)\n  let annotations = doc.getIndex('annotations').get(path, offset, endOffset)\n  forEach(annotations, function(anno) {\n    let data = cloneDeep(anno.toJSON())\n    data.path = [Document.TEXT_SNIPPET_ID, 'content']\n    data.startOffset = Math.max(offset, anno.startOffset)-offset\n    data.endOffset = Math.min(endOffset, anno.endOffset)-offset\n    snippet.create(data)\n  })\n  return snippet\n}\n\n// TODO: copying nested nodes is not straight-forward,\n// as it is not clear if the node is valid to be created just partially\n// Basically this needs to be implemented for each nested node.\n// The default implementation ignores partially selected nested nodes.\nfunction _copyContainerSelection(doc, selection) {\n  let snippet = doc.createSnippet()\n  let container = snippet.getContainer()\n\n  let fragments = selection.getFragments()\n  if (fragments.length === 0) return snippet\n  let created = {}\n  // copy nodes and annotations.\n  for (let i = 0; i < fragments.length; i++) {\n    let fragment = fragments[i]\n    let nodeId = fragment.path[0]\n    let node = doc.get(nodeId)\n    // skip created nodes\n    if (!created[nodeId]) {\n      _copyNode(node).forEach((nodeData) => {\n        let copy = snippet.create(nodeData)\n        created[copy.id] = true\n      })\n      container.show(nodeId)\n    }\n  }\n\n  let firstFragment = fragments[0]\n  let lastFragment = last(fragments)\n  let path, offset, text\n\n  // if first is a text node, remove part before the selection\n  if (firstFragment.type === 'selection-fragment') {\n    path = firstFragment.path\n    offset = firstFragment.startOffset\n    text = doc.get(path)\n    snippet.update(path, { type: 'delete', start: 0, end: offset })\n    annotationHelpers.deletedText(snippet, path, 0, offset)\n  }\n\n  // if last is a is a text node, remove part before the selection\n  if (lastFragment.type === 'selection-fragment') {\n    path = lastFragment.path\n    offset = lastFragment.endOffset\n    text = doc.get(path)\n    snippet.update(path, { type: 'delete', start: offset, end: text.length })\n    annotationHelpers.deletedText(snippet, path, offset, text.length)\n  }\n\n  return snippet\n}\n\nfunction _copyNodeSelection(doc, selection) {\n  let snippet = doc.createSnippet()\n  let containerNode = snippet.getContainer()\n  let nodeId = selection.getNodeId()\n  let node = doc.get(nodeId)\n  _copyNode(node).forEach((nodeData) => {\n    snippet.create(nodeData)\n  })\n  containerNode.show(node.id)\n  return snippet\n}\n\n/*\n  Creates a 'deep' JSON copy of a node returning an array of JSON objects\n  that can be used to create the object tree owned by the given root node.\n\n  @param {DocumentNode} node\n*/\nfunction _copyNode(node) {\n  let nodes = []\n  // EXPERIMENTAL: using schema reflection to determine whether to do a 'deep' copy or just shallow\n  let nodeSchema = node.getSchema()\n  let doc = node.getDocument()\n  forEach(nodeSchema, (prop) => {\n    // ATM we do a cascaded copy if the property has type 'id', ['array', 'id'], or 'file'\n    if ((prop.isReference() && prop.owner) || (prop.type === 'file')) {\n      let val = node[prop.name]\n      if (prop.isArray()) {\n        val.forEach((id) => {\n          nodes = nodes.concat(_copyNode(doc.get(id)))\n        })\n      } else {\n        nodes = nodes.concat(_copyNode(doc.get(val)))\n      }\n    }\n  })\n  nodes.push(node.toJSON())\n  let annotationIndex = node.getDocument().getIndex('annotations')\n  let annotations = annotationIndex.get([node.id])\n  forEach(annotations, function(anno) {\n    nodes.push(anno.toJSON())\n  })\n  return nodes\n}\n\nexport default copySelection\n","export default function last(arr) {\n  return arr[arr.length-1]\n}","import last from '../util/last'\nimport forEach from '../util/forEach'\nimport uuid from '../util/uuid'\nimport Document from '../model/Document'\n\n/**\n  Pastes clipboard content at the current selection\n\n  @param {Object} args object with `selection` and `doc` for Substance content or\n  `text` for external HTML content\n  @return {Object} with updated `selection`\n*/\n\nfunction paste(tx, args) {\n  let sel = tx.selection\n  if (!sel || sel.isNull()) {\n    throw new Error(\"Can not paste, without selection.\")\n  }\n  args = args || {}\n  args.text = args.text || ''\n  let pasteDoc = args.doc\n  // TODO: is there a better way to detect that this paste is happening within a\n  // container?\n  let inContainer = Boolean(sel.containerId)\n\n  // when we are in a container, we interpret line-breaks\n  // and create a document with multiple paragraphs\n  // in a PropertyEditor we paste the text as is\n  if (!pasteDoc && !inContainer) {\n    tx.insertText(args.text)\n    return\n  }\n  if (!pasteDoc) {\n    pasteDoc = _convertPlainTextToDocument(tx, args)\n  }\n  if (!sel.isCollapsed()) {\n    tx.deleteSelection()\n  }\n  let nodes = pasteDoc.get(Document.SNIPPET_ID).nodes\n  let schema = tx.getSchema()\n  if (nodes.length > 0) {\n    let first = pasteDoc.get(nodes[0])\n    if (schema.isInstanceOf(first.type, 'text')) {\n      _pasteAnnotatedText(tx, pasteDoc)\n      // HACK: this changes the container's nodes array.\n      // We do this, to be able to call _pasteDocument inserting the remaining nodes\n      nodes.shift()\n    }\n    // if still nodes left > 0\n    if (nodes.length > 0) {\n      _pasteDocument(tx, pasteDoc)\n    }\n  }\n  return args\n}\n\n/*\n  Splits plain text by lines and puts them into paragraphs.\n*/\nfunction _convertPlainTextToDocument(tx, args) {\n  let lines = args.text.split(/\\s*\\n\\s*\\n/)\n  let pasteDoc = tx.getDocument().newInstance()\n  let defaultTextType = pasteDoc.getSchema().getDefaultTextType()\n  let container = pasteDoc.create({\n    type: 'container',\n    id: Document.SNIPPET_ID,\n    nodes: []\n  })\n  let node\n  if (lines.length === 1) {\n    node = pasteDoc.create({\n      id: Document.TEXT_SNIPPET_ID,\n      type: defaultTextType,\n      content: lines[0]\n    })\n    container.show(node.id)\n  } else {\n    for (let i = 0; i < lines.length; i++) {\n      node = pasteDoc.create({\n        id: uuid(defaultTextType),\n        type: defaultTextType,\n        content: lines[i]\n      })\n      container.show(node.id);\n    }\n  }\n  return pasteDoc\n}\n\nfunction _pasteAnnotatedText(tx, copy) {\n  let sel = tx.selection\n  let nodes = copy.get(Document.SNIPPET_ID).nodes\n  let textPath = [nodes[0], 'content']\n  let text = copy.get(textPath)\n  let annotations = copy.getIndex('annotations').get(textPath)\n  // insert plain text\n  let path = sel.start.path\n  let offset = sel.start.offset\n  tx.insertText(text)\n  // copy annotations\n  forEach(annotations, function(anno) {\n    let data = anno.toJSON()\n    data.path = path.slice(0)\n    data.startOffset += offset\n    data.endOffset += offset\n    // create a new uuid if a node with the same id exists already\n    if (tx.get(data.id)) data.id = uuid(data.type)\n    tx.create(data)\n  })\n}\n\nfunction _pasteDocument(tx, pasteDoc) {\n  let sel = tx.selection\n  let containerId = sel.containerId\n  let container = tx.get(containerId)\n  let insertPos\n  if (sel.isPropertySelection()) {\n    let startPath = sel.start.path\n    let startPos = container.getPosition(sel.start.getNodeId())\n    let text = tx.get(startPath)\n    // Break, unless we are at the last character of a node,\n    // then we can simply insert after the node\n    if ( text.length === sel.start.offset ) {\n      insertPos = startPos + 1\n    } else {\n      tx.break()\n      insertPos = startPos + 1\n    }\n  } else if (sel.isNodeSelection()) {\n    let nodePos = container.getPosition(sel.getNodeId())\n    if (sel.isBefore()) {\n      insertPos = nodePos\n    } else if (sel.isAfter()) {\n      insertPos = nodePos+1\n    } else {\n      throw new Error('Illegal state: the selection should be collapsed.')\n    }\n  }\n\n  // TODO how should this check be useful?\n  if (insertPos < 0) {\n    console.error('Could not find insertion position in ContainerNode.')\n  }\n  // transfer nodes from content document\n  let nodeIds = pasteDoc.get(Document.SNIPPET_ID).nodes\n  let annoIndex = pasteDoc.getIndex('annotations')\n  let insertedNodes = []\n  for (let i = 0; i < nodeIds.length; i++) {\n    let nodeId = nodeIds[i]\n    let node = _copyNode(tx, pasteDoc.get(nodeId))\n    container.show(node.id, insertPos++)\n    insertedNodes.push(node)\n    // transfer annotations\n    // what if we have changed the id of nodes that are referenced by annotations?\n    let annos = annoIndex.get(nodeId)\n    for (let j = 0; j < annos.length; j++) {\n      let data = annos[j].toJSON()\n      if (node.id !== nodeId) {\n        data.path[0] = node.id\n      }\n      if (tx.get(data.id)) {\n        data.id = uuid(data.type)\n      }\n      tx.create(data)\n    }\n  }\n\n  if (insertedNodes.length > 0) {\n    // select the whole pasted block\n    let firstNode = insertedNodes[0]\n    let lastNode = last(insertedNodes)\n    tx.setSelection({\n      type: 'container',\n      startPath: [firstNode.id],\n      startOffset: 0,\n      endPath: [lastNode.id],\n      endOffset: 1,\n      containerId: containerId\n    })\n  }\n}\n\nfunction _copyNode(tx, pasteNode) {\n  let nodeId = pasteNode.id\n  let data = pasteNode.toJSON()\n  // create a new id if the node exists already\n  if (tx.get(nodeId)) {\n    data.id = uuid(pasteNode.type)\n  }\n  if (pasteNode.hasChildren()) {\n    let children = pasteNode.getChildren()\n    let childrenIds = data[pasteNode.getChildrenProperty()]\n    for (let i = 0; i < children.length; i++) {\n      let childNode = _copyNode(tx, children[i])\n      childrenIds[i] = childNode.id\n    }\n  }\n  return tx.create(data)\n}\n\nexport default paste\n","import isArrayEqual from '../util/isArrayEqual'\nimport Coordinate from '../model/Coordinate'\nimport Range from '../model/Range'\nimport annotationHelpers from '../model/annotationHelpers'\n\nclass TextNodeEditing {\n\n  /*\n    <-->: anno\n    |--|: area of change\n    I: <--> |--|     :   nothing\n    II: |--| <-->    :   move both by total span+L\n    III: |-<-->-|    :   delete anno\n    IV: |-<-|->      :   move start by diff to start+L, and end by total span+L\n    V: <-|->-|       :   move end by diff to start+L\n    VI: <-|--|->     :   move end by total span+L\n  */\n  type(tx, range, text) {\n    range = this._normalizeRange(tx, range)\n    // console.log('### typing over range', range.toString())\n    let start = range.start\n    let end = range.end\n    if (!isArrayEqual(start.path, end.path)) {\n      throw new Error('Unsupported state: range should be on one property')\n    }\n    let realPath = tx.getRealPath(start.path)\n    let startOffset = start.offset\n    let endOffset = end.offset\n    let typeover = !range.isCollapsed()\n    let L = text.length\n    // delete selected text\n    if (typeover) {\n      tx.update(realPath, { type: 'delete', start: startOffset, end: endOffset })\n    }\n    // insert new text\n    tx.update(realPath, { type: 'insert', start: startOffset, text: text })\n    // update annotations\n    let annos = tx.getAnnotations(realPath)\n    annos.forEach(function(anno) {\n      let annoStart = anno.start.offset\n      let annoEnd = anno.end.offset\n      // I anno is before\n      if (annoEnd<startOffset) {\n        return\n      }\n      // II anno is after\n      else if (annoStart>=endOffset) {\n        tx.update([anno.id, 'start'], { type: 'shift', value: startOffset-endOffset+L })\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset+L })\n      }\n      // III anno is deleted\n      else if (annoStart>=startOffset && annoEnd<endOffset) {\n        tx.delete(anno.id)\n      }\n      // IV anno.start between and anno.end after\n      else if (annoStart>=startOffset && annoEnd>=endOffset) {\n        // do not move start if typing over\n        if (annoStart>startOffset || !typeover) {\n          tx.update([anno.id, 'start'], { type: 'shift', value: startOffset-annoStart+L })\n        }\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset+L })\n      }\n      // V anno.start before and anno.end between\n      else if (annoStart<startOffset && annoEnd<endOffset) {\n        // NOTE: here the anno gets expanded (that's the common way)\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-annoEnd+L })\n      }\n      // VI anno.start before and anno.end after\n      else if (annoStart<startOffset && annoEnd>=endOffset) {\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset+L })\n      }\n      else {\n        console.warn('TODO: handle annotation update case.')\n      }\n    })\n  }\n\n  /*\n    <-->: anno\n    |--|: area of change\n    I: <--> |--|     :   nothing\n    II: |--| <-->    :   move both by total span\n    III: |-<-->-|    :   delete anno\n    IV: |-<-|->      :   move start by diff to start, and end by total span\n    V: <-|->-|       :   move end by diff to start\n    VI: <-|--|->     :   move end by total span\n  */\n  delete(tx, range) {\n    range = this._normalizeRange(tx, range)\n    let start = range.start\n    let end = range.end\n    if (!isArrayEqual(start.path, end.path)) {\n      throw new Error('Unsupported state: range should be on one property')\n    }\n    let realPath = tx.getRealPath(start.path)\n    let startOffset = start.offset\n    let endOffset = end.offset\n    tx.update(realPath, { type: 'delete', start: startOffset, end: endOffset })\n    // update annotations\n    let annos = tx.getAnnotations(realPath)\n    annos.forEach(function(anno) {\n      let annoStart = anno.start.offset\n      let annoEnd = anno.end.offset\n      // I anno is before\n      if (annoEnd<=startOffset) {\n        return\n      }\n      // II anno is after\n      else if (annoStart>=endOffset) {\n        tx.update([anno.id, 'start'], { type: 'shift', value: startOffset-endOffset })\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset })\n      }\n      // III anno is deleted\n      else if (annoStart>=startOffset && annoEnd<=endOffset) {\n        tx.delete(anno.id)\n      }\n      // IV anno.start between and anno.end after\n      else if (annoStart>=startOffset && annoEnd>=endOffset) {\n        if (annoStart>startOffset) {\n          tx.update([anno.id, 'start'], { type: 'shift', value: startOffset-annoStart })\n        }\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset })\n      }\n      // V anno.start before and anno.end between\n      else if (annoStart<=startOffset && annoEnd<=endOffset) {\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-annoEnd })\n      }\n      // VI anno.start before and anno.end after\n      else if (annoStart<startOffset && annoEnd >= endOffset) {\n        tx.update([anno.id, 'end'], { type: 'shift', value: startOffset-endOffset })\n      }\n      else {\n        console.warn('TODO: handle annotation update case.')\n      }\n    })\n    tx.setSelection({\n      type: 'property',\n      path: start.path,\n      startOffset: startOffset,\n      containerId: range.containerId\n    })\n  }\n\n  break(tx, node, coor, container) {\n    let path = coor.path\n    let offset = coor.offset\n    let nodePos = container.getPosition(node.id)\n    let text = node.getText()\n\n    // when breaking at the first position, a new node of the same\n    // type will be inserted.\n    if (offset === 0) {\n      let newNode = tx.create({\n        type: node.type,\n        content: \"\"\n      })\n      // show the new node\n      container.show(newNode.id, nodePos)\n      tx.setSelection({\n        type: 'property',\n        path: path,\n        startOffset: 0,\n        containerId: container.id\n      })\n    }\n    // otherwise split the text property and create a new paragraph node with trailing text and annotations transferred\n    else {\n      let newNode = node.toJSON()\n      delete newNode.id\n      newNode.content = text.substring(offset)\n      // if at the end insert a default text node no matter in which text node we are\n      if (offset === text.length) {\n        newNode.type = tx.getSchema().getDefaultTextType()\n      }\n      newNode = tx.create(newNode)\n      // Now we need to transfer annotations\n      if (offset < text.length) {\n        // transfer annotations which are after offset to the new node\n        annotationHelpers.transferAnnotations(tx, path, offset, newNode.getTextPath(), 0)\n        // truncate the original property\n        tx.update(path, { type: 'delete', start: offset, end: text.length })\n      }\n      // show the new node\n      container.show(newNode.id, nodePos+1)\n      // update the selection\n      tx.setSelection({\n        type: 'property',\n        path: newNode.getTextPath(),\n        startOffset: 0,\n        containerId: container.id\n      })\n    }\n  }\n\n  merge(tx, node, coor, container, direction, previous, next) {\n    let first, second\n    if (direction === 'left') {\n      if (!previous) return\n      first = previous\n      second = node\n    } else if (direction === 'right') {\n      if (!next) return\n      first = node\n      second = next\n    }\n    if (!first.isText() && direction === 'left') {\n      tx.setSelection({\n        type: 'node',\n        nodeId: first.id,\n        mode: 'full',\n        containerId: container.id\n      })\n      return\n    } else if (!second.isText() && direction === 'right') {\n      tx.setSelection({\n        type: 'node',\n        nodeId: second.id,\n        mode: 'full',\n        containerId: container.id\n      })\n      return\n    } else if (!first || !second || !first.isText() || !second.isText()) {\n      return\n    }\n    let firstPath = first.getTextPath()\n    let firstText = first.getText()\n    let firstLength = firstText.length\n    let secondPath = second.getTextPath()\n    let secondText = second.getText()\n    if (firstLength === 0) {\n      // hide the second node\n      container.hide(firstPath[0])\n      // delete the second node\n      tx.delete(firstPath[0])\n      // set the selection to the end of the first component\n      tx.setSelection({\n        type: 'property',\n        path: secondPath,\n        startOffset: 0,\n        containerId: container.id\n      })\n    } else {\n      // append the second text\n      tx.update(firstPath, { type: 'insert', start: firstLength, text: secondText })\n      // transfer annotations\n      annotationHelpers.transferAnnotations(tx, secondPath, 0, firstPath, firstLength)\n      // hide the second node\n      container.hide(secondPath[0])\n      // delete the second node\n      tx.delete(secondPath[0])\n      // set the selection to the end of the first component\n      tx.setSelection({\n        type: 'property',\n        path: firstPath,\n        startOffset: firstLength,\n        containerId: container.id\n      })\n    }\n  }\n\n  _normalizeRange(tx, range) {\n    // HACK: this is not really cool\n    let start = range.start\n    let end = range.end\n    if (range.start === 'before') {\n      start = { path: tx.get(end.path[0]).getTextPath(), offset: 0 }\n    } else if (range.start.path.length === 1) {\n      start = { path: tx.get(start.path[0]).getTextPath(), offset: range.start.offset }\n    }\n    if (range.end === 'after') {\n      end = { path:  tx.get(start.path[0]).getTextPath(), offset: tx.get(start.path[0]).getText().length }\n    } else if (range.end.path.length === 1) {\n      end = { path: tx.get(end.path[0]).getTextPath(), offset: tx.get(end.path[0]).getText().length }\n    }\n    if (!start._isCoordinate) start = new Coordinate(start.path, start.offset)\n    if (!end._isCoordinate) end = new Coordinate(end.path, end.offset)\n    return new Range(start, end)\n  }\n}\n\nexport default TextNodeEditing","import TextNodeEditing from '../../model/TextNodeEditing'\nimport annotationHelpers from '../../model/annotationHelpers'\n\nclass ListEditing extends TextNodeEditing {\n\n  break(tx, list, coor, container) {\n    let path = coor.path\n    let offset = coor.offset\n    let realPath = tx.getRealPath(path)\n    let listItem = tx.get(realPath[0])\n\n    let L = list.length\n    let itemPos = list.getPosition(listItem.id)\n    let text = listItem.getText()\n    let newItem = listItem.toJSON()\n    delete newItem.id\n    if (offset === 0) {\n      // if breaking at an empty list item, then the list is split into two\n      if (!text) {\n        // if it is the first or last item, a default text node is inserted before or after, and the item is removed\n        // if the list has only one element, it is removed\n        let nodePos = container.getPosition(list.id)\n        let newTextNode = tx.createDefaultTextNode()\n        // if the list is empty, replace it with a paragraph\n        if (L < 2) {\n          container.hide(list.id)\n          tx.delete(list.id)\n          container.show(newTextNode.id, nodePos)\n        }\n        // if at the first list item, remove the item\n        else if (itemPos === 0) {\n          list.hide(listItem.id)\n          tx.delete(listItem.id)\n          container.show(newTextNode.id, nodePos)\n        }\n        // if at the last list item, remove the item and append the paragraph\n        else if (itemPos >= L-1) {\n          list.hide(listItem.id)\n          tx.delete(listItem.id)\n          container.show(newTextNode.id, nodePos+1)\n        }\n        // otherwise create a new list\n        else {\n          let tail = []\n          let items = list.items\n          for (var i = L-1; i > itemPos; i--) {\n            tail.unshift(items[i])\n            list.hide(items[i])\n          }\n          list.hide(items[itemPos])\n          let newList = tx.create({\n            type: 'list',\n            items: tail\n          })\n          container.show(newTextNode.id, nodePos+1)\n          container.show(newList.id, nodePos+2)\n        }\n        tx.setSelection({\n          type: 'property',\n          path: newTextNode.getTextPath(),\n          startOffset: 0\n        })\n      } else {\n        newItem.content = \"\"\n        newItem = tx.create(newItem)\n        list.show(newItem.id, itemPos)\n        tx.setSelection({\n          type: 'property',\n          path: [list.id, 'items', itemPos+1, 'content'],\n          startOffset: 0\n        })\n      }\n    }\n    // otherwise split the text property and create a new paragraph node with trailing text and annotations transferred\n    else {\n      newItem.content = text.substring(offset)\n      newItem = tx.create(newItem)\n      // Now we need to transfer annotations\n      if (offset < text.length) {\n        // transfer annotations which are after offset to the new node\n        annotationHelpers.transferAnnotations(tx, realPath, offset, [newItem.id,'content'], 0)\n        // truncate the original property\n        tx.update(realPath, { type: 'delete', start: offset, end: text.length })\n      }\n      list.show(newItem.id, itemPos+1)\n      tx.setSelection({\n        type: 'property',\n        startPath: [list.id, 'items', itemPos+1, 'content'],\n        startOffset: 0\n      })\n    }\n  }\n\n  merge() {\n    console.log('TODO: merge list node')\n  }\n}\n\nexport default ListEditing\n","import isString from '../util/isString'\nimport annotationHelpers from '../model/annotationHelpers'\nimport paste from '../model/paste'\nimport uuid from '../util/uuid'\nimport forEach from '../util/forEach'\nimport TextNodeEditing from '../model/TextNodeEditing'\nimport ListEditing from '../packages/list/ListEditing'\n\n/**\n  Core editing implementation, that controls meta behavior\n  such as deleting a selection, merging nodes, etc.\n\n  Some of the implementation are then delegated to specific editing behaviors,\n  such as manipulating content of a text-property, merging or breaking text nodes\n\n  Note: this is pretty much the same what we did with transforms before.\n        We decided to move this here, to switch to a stateful editor implementation (aka turtle-graphics-style)\n */\nclass Editing {\n\n  constructor() {\n    // TODO: this should come from configurator\n    this.nodeEditing = {\n      text: new TextNodeEditing(),\n      list: new ListEditing()\n    }\n  }\n\n  // create an annotation for the current selection using the given data\n  annotate(tx, annotation) {\n    let sel = tx.selection\n    if (!sel || sel.isNull() || sel.isCollapsed()) {\n      throw new Error('Non-collapsed selection required for tx.annotate()')\n    }\n    if (sel.isCollapsed()) return\n    let schema = tx.getSchema()\n    let AnnotationClass = schema.getNodeClass(annotation.type)\n    if (!AnnotationClass) throw new Error('Unknown annotation type', annotation)\n    if (sel.isNodeSelection()) {\n      throw new Error('Node selections are not supported by tx.annotate()')\n    } else if (sel.isCustomSelection()) {\n      throw new Error('Custom selections are not supported by tx.annotate()')\n    }\n    let nodeData\n    if (sel.isPropertySelection()) {\n      if (AnnotationClass.prototype._isContainerAnnotation) {\n        nodeData = {\n          containerId: sel.containerId,\n          startPath: sel.path,\n          startOffset: sel.startOffset,\n          endPath: sel.path,\n          endOffset: sel.endOffset\n        }\n      } else if (AnnotationClass.prototype._isPropertyAnnotation) {\n        nodeData = {\n          path: sel.path,\n          startOffset: sel.startOffset,\n          endOffset: sel.endOffset\n        }\n      } else {\n        throw new Error('Annotation can not be created for a property selection.')\n      }\n    } else if (sel.isContainerSelection()) {\n      if (AnnotationClass.prototype._isContainerAnnotation) {\n        nodeData = {\n          containerId: sel.containerId,\n          startPath: sel.path,\n          startOffset: sel.startOffset,\n          endPath: sel.path,\n          endOffset: sel.endOffset\n        }\n      } else if (AnnotationClass.prototype._isPropertyAnnotation) {\n        console.warn('NOT SUPPORTED YET: creating property annotations for a non collapsed container selection.')\n      }\n    } else {\n      throw new Error('Unsupported selection.')\n    }\n    Object.assign(nodeData, annotation)\n    return tx.create(nodeData)\n  }\n\n  break(tx) {\n    let sel = tx.selection\n    if (sel.isNodeSelection()) {\n      let containerId = sel.containerId\n      let container = tx.get(containerId)\n      let nodeId = sel.getNodeId()\n      let nodePos = container.getPosition(nodeId)\n      let textNode = tx.createDefaultTextNode()\n      if (sel.isBefore()) {\n        tx.update(container.getContentPath(), { type: 'insert', pos: nodePos, value: textNode.id })\n        // leave selection as is\n      } else if (sel.isAfter()) {\n        tx.update(container.getContentPath(), { type: 'insert', pos: nodePos+1, value: textNode.id })\n        this._setCursor(tx, textNode, containerId, 'before')\n      } else {\n        tx.update(container.getContentPath(), { type: 'delete', pos: nodePos })\n        tx.delete(nodeId)\n        tx.update(container.getContentPath(), { type: 'insert', pos: nodePos, value: textNode.id })\n        this._setCursor(tx, textNode, containerId, 'before')\n      }\n    } else if (sel.isCustomSelection()) {\n      // TODO: what to do with custom selections?\n    }\n    else if (sel.isCollapsed() || sel.isPropertySelection()) {\n      let containerId = sel.containerId\n      if (!sel.isCollapsed()) {\n        // delete the selection\n        this.deletePropertySelection(tx, sel)\n        tx.setSelection(sel.collapse('left'))\n      }\n      // then break the node\n      if (containerId) {\n        let container = tx.get(containerId)\n        let nodeId = sel.start.path[0]\n        let node = tx.get(nodeId)\n        let nodeEditing = this._getNodeEditing(node)\n        nodeEditing.break(tx, node, sel.start, container)\n      } else {\n        // TODO: do we still want a soft-break thingie here? i.e. insert a <br>\n      }\n    } else if (sel.isContainerSelection()) {\n      if (sel.start.hasSamePath(sel.end)) {\n        this.deleteContainerSelection(tx, sel)\n        this.break(tx)\n      } else {\n        let start = sel.start\n        let containerId = sel.containerId\n        let container = tx.get(containerId)\n        let startNodeId = start.path[0]\n        let nodePos = container.getPosition(startNodeId)\n        this.deleteContainerSelection(tx, sel)\n        if (nodePos < container.length-1) {\n          this._setCursor(tx, container.getNodeAt(nodePos+1), containerId, 'before')\n        } else {\n          tx.setSelection(sel.collapse('left'))\n          this.break(tx)\n        }\n      }\n    }\n  }\n\n  delete(tx, direction) {\n    let sel = tx.selection\n    // special implementation for node selections:\n    // either delete the node (replacing with an empty text node)\n    // or just move the cursor\n    if (sel.isNodeSelection()) {\n      if (sel.isFull() ||\n          sel.isBefore() && direction === 'right' ||\n          sel.isAfter() && direction === 'left' ) {\n        // replace the node with default text node\n        let nodeId = sel.getNodeId()\n        let container = tx.get(sel.containerId)\n        let nodePos = container.getPosition(nodeId)\n        let contentPath = container.getContentPath()\n        tx.update(contentPath, { type: 'delete', pos: nodePos })\n        tx.delete(nodeId)\n        let newNode = tx.createDefaultTextNode()\n        tx.update(contentPath, { type: 'insert', pos: nodePos, value: newNode.id })\n        tx.setSelection({\n          type: 'property',\n          path: newNode.getTextPath(),\n          startOffset: 0,\n          containerId: container.id,\n        })\n      } else {\n        // just put the selection in the next or previous node\n        // TODO: need to be implemented\n        console.log('TODO: put the selection into previous/next node.')\n      }\n      return\n    }\n    if (sel.isCustomSelection()) {\n      // TODO: what to do with custom selections?\n      return\n    }\n    // if the selection is collapsed this is the classical one-character deletion\n    // either backwards (backspace) or forward (delete)\n    if (sel.isCollapsed()) {\n      let path = sel.start.path\n      let node = tx.get(path[0])\n\n      let nodeEditing = this._getNodeEditing(node)\n      // TODO: are we sure that this is the default implementation? or is it specific to text nodes?\n      let offset = sel.start.offset\n      let text = tx.get(path)\n      if ( ((offset === 0 && direction === 'left') || (offset === text.length && direction === 'right')) && sel.containerId) {\n        // need to merge\n        let container = tx.get(sel.containerId)\n        let nodePos = container.getPosition(node.id)\n        let previous = nodePos > 0 ? container.getNodeAt(nodePos-1) : null\n        let next = nodePos < container.getLength()-1 ? container.getNodeAt(nodePos+1) : null\n        nodeEditing.merge(tx, node, sel.start, container, direction, previous, next)\n      } else {\n        let start = offset\n        if (direction === 'left') start = start-1\n        let end = start+1\n        nodeEditing.delete(tx, {\n          start: { path: path, offset: start},\n          end: { path: path, offset: end }\n        })\n        // TODO: this should go into the nodeEditing impl\n        tx.setSelection({\n          type: 'property',\n          path: path,\n          startOffset: start,\n          containerId: sel.containerId\n        })\n      }\n      return\n    }\n    // simple deletion of a range of characters\n    if (sel.isPropertySelection()) {\n      let path = sel.start.path\n      let node = tx.get(path[0])\n      let nodeEditing = this._getNodeEditing(node)\n      nodeEditing.delete(tx, sel)\n    }\n    else if (sel.isContainerSelection()) {\n      this.deleteContainerSelection(tx, sel)\n    }\n  }\n\n  deletePropertySelection(tx, sel) {\n    let realPath = tx.getRealPath(sel.path)\n    let start = sel.startOffset\n    let end = sel.endOffset\n    tx.update(realPath, { type: 'delete', start: start, end: end })\n    annotationHelpers.deletedText(tx, realPath, start, end)\n  }\n\n  // deletes all inner nodes and 'truncates' start and end node\n  deleteContainerSelection(tx, sel) {\n    let containerId = sel.containerId\n    let container = tx.get(containerId)\n    let startPath = sel.startPath\n    let endPath = sel.endPath\n    let startId = startPath[0]\n    let endId = endPath[0]\n    let startPos = container.getPosition(startId)\n    let endPos = container.getPosition(endId)\n\n    // delete or truncate last node\n    if (startPos < endPos) {\n      if (sel.end.isNodeCoordinate() && sel.end.offset > 0) {\n        tx.update([container.id, 'nodes'], { type: 'delete', pos: endPos })\n        tx.delete(endId)\n      } else {\n        let endNode = tx.get(endId)\n        let endEditing = this._getNodeEditing(endNode)\n        endEditing.delete(tx, { start: 'before', end: sel.end })\n      }\n    }\n\n    // delete inner nodes\n    for (var i = endPos-1; i > startPos; i--) {\n      let nodeId = container.nodes[i]\n      // remove from container\n      tx.update([container.id, 'nodes'], { type: 'delete', pos: i })\n      // delete node\n      tx.delete(nodeId)\n    }\n\n    // if the first node coordinate is node before -> delete the node and insert a default text node\n    if (sel.start.isNodeCoordinate() && sel.start.offset === 0) {\n      tx.update([container.id, 'nodes'], { type: 'delete', pos: startPos })\n      tx.delete(startId)\n      let startNode = tx.createDefaultTextNode()\n      tx.update([container.id, 'nodes'], { type: 'insert', pos: startPos, value: startNode.id })\n      tx.setSelection({\n        type: 'property',\n        path: startNode.getTextPath(),\n        startOffset: 0,\n        containerId: sel.containerId,\n        surfaceId: sel.surfaceId\n      })\n    } else {\n      let startNode = tx.get(startId)\n      let startEditing = this._getNodeEditing(startNode)\n      startEditing.delete(tx, { start: sel.start, end: 'after' })\n      tx.setSelection(sel.collapse('left'))\n    }\n  }\n\n  /*\n    Delete a node and all annotations attached to it,\n    and removes the node from all containers.\n\n    @param {String} nodeId\n    @param {String} [containerId]\n   */\n  deleteNode(tx, nodeId, containerId) {\n    if (!nodeId) throw new Error('Parameter `nodeId` is mandatory.')\n    let node = tx.get(nodeId)\n    if (!node) throw new Error('Node does not exist')\n\n    let container\n    // remove all associated annotations\n    let annos = tx.getIndex('annotations').get(nodeId)\n    for (let i = 0; i < annos.length; i++) {\n      tx.delete(annos[i].id);\n    }\n    // transfer anchors of ContainerAnnotations to previous or next node:\n    //  - start anchors go to the next node\n    //  - end anchors go to the previous node\n    let anchors = tx.getIndex('container-annotation-anchors').get(nodeId)\n    for (let i = 0; i < anchors.length; i++) {\n      let anchor = anchors[i]\n      container = tx.get(anchor.containerId)\n      // Note: during the course of this loop we might have deleted the node already\n      // so, don't do it again\n      if (!tx.get(anchor.id)) continue\n      let pos = container.getPosition(anchor.path[0])\n      let path, offset\n      if (anchor.isStart) {\n        if (pos < container.getLength()-1) {\n          let nextNode = container.getChildAt(pos+1)\n          if (nextNode.isText()) {\n            path = [nextNode.id, 'content']\n          } else {\n            path = [nextNode.id]\n          }\n          tx.set([anchor.id, 'startPath'], path)\n          tx.set([anchor.id, 'startOffset'], 0)\n        } else {\n          tx.delete(anchor.id)\n        }\n      } else {\n        if (pos > 0) {\n          let previousNode = container.getChildAt(pos-1)\n          if (previousNode.isText()) {\n            path = [previousNode.id, 'content']\n            offset = tx.get(path).length\n          } else {\n            path = [previousNode.id]\n            offset = 1\n          }\n          tx.set([anchor.id, 'endPath'], path)\n          tx.set([anchor.id, 'endOffset'], offset)\n        } else {\n          tx.delete(anchor.id)\n        }\n      }\n    }\n    let newSel = null\n    if (containerId) {\n      // hide the node from the one container if provided\n      container = tx.get(containerId)\n      let nodePos = container.getPosition(nodeId)\n      if (nodePos >= 0) {\n        if (nodePos < container.getLength()-1) {\n          let nextNode = container.getNodeAt(nodePos+1)\n          if (nextNode.isText()) {\n            newSel = tx.createSelection({\n              type: 'property',\n              containerId: containerId,\n              path: nextNode.getTextPath(),\n              startOffset: 0,\n              endOffset: 0\n            })\n          } else {\n            newSel = tx.createSelection({\n              type: 'node',\n              containerId: containerId,\n              nodeId: nextNode.id,\n              mode: 'before',\n              reverse: false\n            })\n          }\n        }\n      }\n      container.hide(nodeId)\n    }\n\n    // delete recursively\n    // EXPERIMENTAL: using schema reflection to determine whether to do a 'deep' delete or just shallow\n    let nodeSchema = node.getSchema()\n    forEach(nodeSchema, (prop) => {\n      // ATM we do a cascaded delete if the property has type 'id', ['array', 'id'], or 'file'\n      if ((prop.isReference() && prop.owner) || (prop.type === 'file')) {\n        if (prop.isArray()) {\n          let ids = node[prop.name]\n          ids.forEach((id) => {\n            this.deleteNode(tx, id)\n          })\n        } else {\n          this.deleteNode(tx, node[prop.name])\n        }\n      }\n    })\n\n    // finally delete the node itself\n    tx.delete(nodeId)\n    tx.setSelection(newSel)\n  }\n\n  insertInlineNode(tx, nodeData) {\n    let sel = tx.selection\n    if (!sel.isPropertySelection()) throw new Error('insertInlineNode requires a PropertySelection')\n    let text = \"\\uFEFF\"\n    this.insertText(tx, text)\n    sel = tx.selection\n    let endOffset = tx.selection.endOffset\n    let startOffset = endOffset - text.length\n    nodeData = Object.assign({}, nodeData, {\n      path: sel.path,\n      startOffset: startOffset,\n      endOffset: endOffset\n    })\n    return tx.create(nodeData)\n  }\n\n  insertBlockNode(tx, nodeData) {\n    let sel = tx.selection\n    if (!sel || sel.isNull()) throw new Error('Selection is null.')\n    // don't create the node if it already exists\n    let blockNode\n    if (!nodeData._isNode || !tx.get(nodeData.id)) {\n      blockNode = tx.create(nodeData)\n    } else {\n      blockNode = tx.get(nodeData.id)\n    }\n    if (sel.isNodeSelection()) {\n      let containerId = sel.containerId\n      let container = tx.get(containerId)\n      let nodePos = container.getPosition(sel.getNodeId())\n      // insert before\n      if (sel.isBefore()) {\n        tx.update(container.getContentPath(), { type: 'insert', pos: nodePos, value: blockNode.id })\n      }\n      // insert after\n      else if (sel.isAfter()) {\n        tx.update(container.getContentPath(), { type: 'insert', pos: nodePos+1, value: blockNode.id })\n        tx.setSelection({\n          type: 'node',\n          containerId: containerId,\n          nodeId: blockNode.id,\n          mode: 'after'\n        })\n      } else {\n        tx.update(container.getContentPath(), { type: 'delete', pos: nodePos })\n        tx.delete(sel.getNodeId())\n        tx.update([container.id, 'nodes'], { type: 'insert', pos: nodePos, value: blockNode.id })\n        tx.setSelection({\n          type: 'node',\n          containerId: containerId,\n          nodeId: blockNode.id,\n          mode: 'after'\n        })\n      }\n    } else if (sel.isPropertySelection()) {\n      if (!sel.containerId) throw new Error('insertBlockNode can only be used within a container.')\n      let container = tx.get(sel.containerId)\n      if (!sel.isCollapsed()) {\n        this.deletePropertySelection(tx)\n        tx.setSelection(sel.collapse('left'))\n      }\n      let node = tx.get(sel.path[0])\n      if (!node) throw new Error('Invalid selection.')\n      let nodePos = container.getPosition(node.id)\n      if (node.isText()) {\n        let text = node.getText()\n        // replace node\n        if (text.length === 0) {\n          tx.update(container.getContentPath(), { type: 'delete', pos: nodePos })\n          tx.delete(node.id)\n          tx.update([container.id, 'nodes'], { type: 'insert', pos: nodePos, value: blockNode.id })\n          this._setCursor(tx, blockNode, container.id, 'after')\n        }\n        // insert before\n        else if (sel.startOffset === 0) {\n          tx.update(container.getContentPath(), { type: 'insert', pos: nodePos, value: blockNode.id })\n        }\n        // insert after\n        else if (sel.startOffset === text.length) {\n          tx.update(container.getContentPath(), { type: 'insert', pos: nodePos+1, value: blockNode.id })\n          this._setCursor(tx, blockNode, container.id, 'before')\n        }\n        // break\n        else {\n          this.break(tx)\n          tx.update(container.getContentPath(), { type: 'insert', pos: nodePos+1, value: blockNode.id })\n          this._setCursor(tx, blockNode, container.id, 'after')\n        }\n      } else {\n        // TODO: this will be necessary for lists\n        console.error('Not yet implemented: insertBlockNode() on a custom node')\n      }\n    } else if (sel.isContainerSelection()) {\n      if (sel.isCollapsed()) {\n        let start = sel.start\n        if (start.isPropertyCoordinate()) {\n          tx.setSelection({\n            type: 'property',\n            path: start.path,\n            startOffset: start.offset,\n            containerId: sel.containerId,\n          })\n        } else if (start.isNodeCoordinate()) {\n          tx.setSelection({\n            type: 'node',\n            containerId: sel.containerId,\n            nodeId: start.path[0],\n            mode: start.offset === 0 ? 'before' : 'after',\n          })\n        } else {\n          throw new Error('Unsupported selection for insertBlockNode')\n        }\n        return this.insertBlockNode(tx, blockNode)\n      }\n    }\n  }\n\n  insertText(tx, text) {\n    let sel = tx.selection\n    // type over a selected node or insert a paragraph before\n    // or after\n    if (sel.isNodeSelection()) {\n      let containerId = sel.containerId\n      let container = tx.get(containerId)\n      let nodeId = sel.getNodeId()\n      let nodePos = container.getPosition(nodeId)\n      let textNode = tx.createDefaultTextNode(text)\n      if (sel.isBefore()) {\n        container.show(textNode, nodePos)\n      } else if (sel.isAfter()) {\n        container.show(textNode, nodePos+1)\n      } else {\n        container.hide(nodeId)\n        tx.delete(nodeId)\n        container.show(textNode, nodePos)\n      }\n      this._setCursor(tx, textNode, sel.containerId, 'after')\n    } else if (sel.isCustomSelection()) {\n      // TODO: what to do with custom selections?\n    } else if (sel.isCollapsed() || sel.isPropertySelection()) {\n      let path = sel.start.path\n      let nodeId = path[0]\n      let node = tx.get(nodeId)\n      let nodeEditing = this._getNodeEditing(node)\n      // console.log('#### before', sel.toString())\n      nodeEditing.type(tx, sel, text)\n      if (node.isText()) {\n        let offset = sel.startOffset + text.length\n        tx.setSelection({\n          type: 'property',\n          path: path,\n          startOffset: offset,\n          containerId: sel.containerId,\n          surfaceId: sel.surfaceId\n        })\n      }\n      // console.log('### setting selection after typing: ', tx.selection.toString())\n    } else if (sel.isContainerSelection()) {\n      this.deleteContainerSelection(tx, sel)\n      this.insertText(tx, text)\n    }\n  }\n\n  paste(tx, content) {\n    if (!content) return\n    if (isString(content)) {\n      paste(tx, {text: content})\n    } else if (content._isDocument) {\n      paste(tx, {doc: content})\n    } else {\n      throw new Error('Illegal content for paste.')\n    }\n  }\n\n  /**\n    Switch text type for a given node. E.g. from `paragraph` to `heading`.\n\n    @param {Object} args object with `selection`, `containerId` and `data` with new node data\n    @return {Object} object with updated `selection`\n\n    @example\n\n    ```js\n    switchTextType(tx, {\n      selection: bodyEditor.getSelection(),\n      containerId: bodyEditor.getContainerId(),\n      data: {\n        type: 'heading',\n        level: 2\n      }\n    })\n    ```\n  */\n  switchTextType(tx, data) {\n    let sel = tx.selection\n    if (!sel.isPropertySelection()) {\n      throw new Error(\"Selection must be a PropertySelection.\")\n    }\n    let containerId = sel.containerId\n    if (!containerId) {\n      throw new Error(\"Selection must be within a container.\")\n    }\n    let path = sel.path\n    let nodeId = path[0]\n    let node = tx.get(nodeId)\n    if (!(node.isInstanceOf('text'))) {\n      throw new Error('Trying to use switchTextType on a non text node. Skipping.')\n    }\n    // create a new node and transfer annotations\n    let newNode = Object.assign({\n      id: uuid(data.type),\n      type: data.type,\n      content: node.content,\n      direction: node.direction\n    }, data)\n    let newPath = [newNode.id, 'content']\n    newNode = tx.create(newNode)\n    annotationHelpers.transferAnnotations(tx, path, 0, newPath, 0)\n\n    // hide the old one, show the new node\n    let container = tx.get(sel.containerId)\n    let pos = container.getPosition(nodeId)\n    if (pos >= 0) {\n      container.hide(nodeId)\n      container.show(newNode.id, pos)\n    }\n    // remove the old one from the document\n    this.deleteNode(tx, node.id, containerId)\n    tx.setSelection({\n      type: 'property',\n      path: newPath,\n      startOffset: sel.startOffset,\n      endOffset: sel.endOffset,\n      containerId: containerId\n    })\n\n    return newNode\n  }\n\n  _getNodeEditing(node) {\n    let nodeEditing = this.nodeEditing[node.type]\n    if (!nodeEditing) {\n      // iconsole.warn('No editing behavior defined for node type', node.type)\n      if (!node.isText()) {\n        console.warn('No editing behavior defined for node type', node.type, 'Falling back to text editing behavior')\n      }\n      nodeEditing = this.nodeEditing.text\n    }\n    return nodeEditing\n  }\n\n  _setCursor(tx, node, containerId, mode) {\n    if (node.isText()) {\n      let offset = 0\n      if (mode === 'after') {\n        let text = node.getText()\n        offset = text.length\n      }\n      tx.setSelection({\n        type: 'property',\n        path: node.getTextPath(),\n        startOffset: offset,\n        containerId: containerId\n      })\n    } else {\n      tx.setSelection({\n        type: 'node',\n        containerId: containerId,\n        nodeId: node.id,\n        mode: mode\n      })\n    }\n  }\n\n}\n\nexport default Editing\n","import isPlainObject from '../util/isPlainObject'\nimport copySelection from '../model/copySelection'\nimport Editing from '../model/Editing'\nimport Selection from '../model/Selection'\n\n/*\n  Abstract base class for document editor APIs such as Transaction.\n\n  It implements a turtle-graphics way of editing by maintaining a selection state\n  and providing an interface for low- and high-level manipulation.\n\n  Low-level manipulations are dispatched to the edited document instance.\n  Higher-level manipulations involve complex manipulations keeping the selection in a correct state.\n */\nclass EditingInterface {\n\n  constructor(doc) {\n    this._document = doc\n    this._selection = null\n    // TODO: allow for custom editing implementation\n    this._impl = new Editing()\n    this._direction = null\n  }\n\n  getDocument() {\n    return this._document\n  }\n\n  /* low-level API */\n\n  get(...args) {\n    return this._document.get(...args)\n  }\n\n  create(nodeData) {\n    return this._document.create(nodeData)\n  }\n\n  createDefaultTextNode(content) {\n    return this._document.createDefaultTextNode(content, this._direction)\n  }\n\n  delete(nodeId) {\n    return this._document.delete(nodeId)\n  }\n\n  set(path, value) {\n    return this._document.set(path, value)\n  }\n\n  update(path, diffOp) {\n    return this._document.update(path, diffOp)\n  }\n\n  /* Selection API */\n\n  createSelection(...args) {\n    return this._document.createSelection(...args)\n  }\n\n  setSelection(sel) {\n    if (!sel) sel = Selection.nullSelection\n    else if (isPlainObject(sel)) {\n      sel = this.createSelection(sel)\n    }\n    let oldSel = this._selection\n    if (oldSel && sel && !sel.isNull()) {\n      if (!sel.containerId) {\n        sel.containerId = oldSel.containerId\n      }\n    }\n    this._selection = sel\n  }\n\n  getSelection() {\n    return this._selection\n  }\n\n  get selection() {\n    return this._selection\n  }\n\n  set selection(sel) {\n    this.setSelection(sel)\n  }\n\n  /*\n    ATTENTION/TODO: text direction could be different on different paragraphs\n    I.e. it should probably be a TextNode property\n  */\n  get textDirection() {\n    return this._direction\n  }\n\n  set textDirection(dir) {\n    this._direction = dir\n  }\n\n  /* High-level editing */\n\n  annotate(annotationData) {\n    return this._impl.annotate(this, annotationData)\n  }\n\n  break() {\n    this._impl.break(this)\n  }\n\n  copySelection() {\n    return copySelection(this.getDocument(), this._selection)\n  }\n\n  deleteSelection(options) {\n    this._impl.delete(this, 'right', options)\n  }\n\n  deleteCharacter(direction) {\n    if (!this._selection.isCollapsed()) {\n      this.deleteSelection()\n    } else {\n      this._impl.delete(this, direction)\n    }\n  }\n\n  insertText(text) {\n    this._impl.insertText(this, text)\n  }\n\n  // insert an inline node with given data at the current selection\n  insertInlineNode(inlineNode) {\n    this._impl.insertInlineNode(this, inlineNode)\n  }\n\n  insertBlockNode(blockNode) {\n    this._impl.insertBlockNode(this, blockNode)\n  }\n\n  paste(content) {\n    this._impl.paste(this, content)\n  }\n\n  switchTextType(nodeData) {\n    this._impl.switchTextType(this, nodeData)\n  }\n\n\n  /* Legacy low-level API */\n\n  getIndex(...args) {\n    return this._document.getIndex(...args)\n  }\n\n  getRealPath(...args) {\n    return this._document.getRealPath(...args)\n  }\n\n  getAnnotations(...args) {\n    return this._document.getAnnotations(...args)\n  }\n\n  getSchema() {\n    return this._document.getSchema()\n  }\n\n  createSnippet() {\n    return this._document.createSnippet()\n  }\n\n}\n\nexport default EditingInterface","import isFunction from '../util/isFunction'\nimport DocumentChange from '../model/DocumentChange'\nimport TransactionDocument from '../model/TransactionDocument'\nimport EditingInterface from '../model/EditingInterface'\n\n/*\n  A transaction for editing a document in an EditorSession.\n\n  Wherever you see `tx`, it is an instance of this class.\n\n  The transaction is used to manipulate the document in a 'turtle-graphics' style.\n  For that it maintains an internal state consisting of an array of operations, a selection, and\n  the current surface.\n\n  Usually, at the beginning of a transaction, one Surface is focused. This is used to initialize\n  the transaction state. Depending on the type of Surface or the type of the current selection,\n  some manipulations are allowed or others are not: it is not possible to create a ContainerAnnotation without\n  a ContainerSelection, or pasting a list of nodes into a TextPropertyEditor will strip the structure and just\n  the text content.\n\n*/\nclass Transaction extends EditingInterface {\n\n  /*\n    @param {Document} doc\n  */\n  constructor(doc, editorSession) {\n    super()\n\n    // TransactionDocument is essentially a clone of the document used to apply a sequence of document operations\n    // without touching the original document\n    this._stageDoc = this._document = new TransactionDocument(doc, this)\n    this._editorSession = editorSession\n\n    // internal state\n    this._isTransacting = false\n    this._state = 'idle'\n    this._surface = null\n  }\n\n  dispose() {\n    this._stageDoc.dispose()\n  }\n\n  setSelection(sel) {\n    super.setSelection(sel)\n\n    // NOTE: we might want to remove 'surfaceId' from selection, and instead\n    // map surfaces to model paths. For the time being we keep it the old\n    // way, but take it from the currently focused surface\n    sel = this._selection\n    if (!sel.isNull()) {\n      if (!sel.surfaceId) {\n        // TODO: We could check if the selection is valid within the given surface\n        let surface = this._editorSession.getFocusedSurface()\n        if (surface) {\n          sel.surfaceId = surface.id\n        } else {\n          // TODO: instead of warning we could try to 'find' a suitable surface. However, this would also be a bit 'magical'\n          console.warn('No focused surface. Selection will not be rendered.')\n        }\n      }\n    }\n  }\n\n  // internal API\n\n  // NOTE: ops are actually owned by TransactionDocument\n  // we use the transaction document internally and not this instance\n  get ops() {\n    return this._stageDoc.ops\n  }\n  set ops(ops) {\n    this._stageDoc.ops = ops\n  }\n\n  rollback() {\n    this._stageDoc._rollback()\n  }\n\n  _apply(...args) {\n    this._stageDoc._apply(...args)\n  }\n\n  // _ensureStarted() {\n  //   if (this._state !== 'started') throw new Error('Transaction has not been started, or cancelled or saved already.')\n  // }\n\n  /**\n    Start a transaction to manipulate the document\n\n    @param {function} transformation a function(tx) that performs actions on the transaction document tx\n\n    @example\n\n    ```js\n    doc.transaction(function(tx, args) {\n      tx.update(...)\n      ...\n      return {\n        selection: newSelection\n      }\n    })\n    ```\n  */\n  _recordChange(transformation, selection) {\n    // TODO: we could get rid of isTransacting and use this._state instead\n    if (this._isTransacting) throw new Error('Nested transactions are not supported.')\n    if (!isFunction(transformation)) throw new Error('Document.transaction() requires a transformation function.')\n    this._isTransacting = true\n    this._reset()\n    this._state = 'started'\n    let change\n    try {\n      this.setSelection(selection)\n      let selBefore = this.getSelection()\n      transformation(this, {\n        selection: selBefore\n      }) || {}\n      let ops = this.ops\n      if (ops.length > 0) {\n        change = new DocumentChange(ops, this._before, this._after)\n        change.before = { selection: selBefore }\n        change.after = { selection: this.getSelection() }\n      }\n      this._state = 'finished'\n    } finally {\n      if (this._state !== 'finished') {\n        this.rollback()\n      }\n      this._state = 'idle'\n      this._isTransacting = false\n    }\n    return change\n  }\n\n  _reset() {\n    this._before = {}\n    this._after = {}\n    this._stageDoc._reset()\n    this._info = {}\n    this.setSelection(null)\n  }\n}\n\nexport default Transaction\n","import forEach from './forEach'\n\n// just as a reference to detect name collisions\n// with native Object properties\nlet _obj = {}\n\n/*\n * Simple registry implementation.\n *\n * @class Registry\n * @private\n */\nclass Registry {\n  constructor(entries, validator) {\n    this.entries = {}\n    this.names = []\n    this.validator = validator\n\n    if (entries) {\n      forEach(entries, function(entry, name) {\n        this.add(name, entry)\n      }.bind(this))\n    }\n  }\n\n  get _isRegistry() { return true }\n\n  /**\n   * Check if an entry is registered for a given name.\n   *\n   * @param {String} name\n   * @method contains\n   * @memberof module:Basics.Registry.prototype\n   */\n  contains(name) {\n    return this.entries.hasOwnProperty(name)\n  }\n\n  /**\n   * Add an entry to the registry.\n   *\n   * @param {String} name\n   * @param {Object} entry\n   * @method add\n   * @memberof module:Basics.Registry.prototype\n   */\n  add(name, entry) {\n    if (this.validator) {\n      this.validator(entry)\n    }\n    if (_obj[name]) {\n      throw new Error('Illegal key: \"'+name+'\" is a property of Object which is thus not allowed as a key.')\n    }\n    if (this.contains(name)) {\n      this.remove(name)\n    }\n    this.entries[name] = entry\n    this.names.push(name)\n  }\n\n  /**\n   * Remove an entry from the registry.\n   *\n   * @param {String} name\n   * @method remove\n   * @memberof module:Basics.Registry.prototype\n   */\n  remove(name) {\n    let pos = this.names.indexOf(name)\n    if (pos >= 0) {\n      this.names.splice(pos, 1)\n    }\n    delete this.entries[name]\n  }\n\n  /**\n   * @method clear\n   * @memberof module:Basics.Registry.prototype\n   */\n  clear() {\n    this.names = []\n    this.entries = {}\n  }\n\n  /**\n   * Get the entry registered for a given name.\n   *\n   * @param {String} name\n   * @return The registered entry\n   * @method get\n   * @memberof module:Basics.Registry.prototype\n   */\n  get(name) {\n    return this.entries[name]\n  }\n\n  /*\n   * Iterate all registered entries in the order they were registered.\n   *\n   * @param {Function} callback with signature function(entry, name)\n   * @param {Object} execution context\n   */\n  each(callback, ctx) {\n    console.warn('DEPRECATED: use Registry.forEach(cb) instead')\n    return this.forEach(callback.bind(ctx))\n  }\n\n  forEach(callback) {\n    for (let i = 0; i < this.names.length; i++) {\n      let name = this.names[i]\n      let _continue = callback(this.entries[name], name)\n      if (_continue === false) {\n        break\n      }\n    }\n  }\n\n  map(callback) {\n    let result = []\n    this.forEach(function(entry, name) {\n      result.push(callback(entry, name))\n    })\n    return result\n  }\n\n  filter(callback) {\n    let result = []\n    this.forEach(function(entry, name) {\n      if (callback(entry, name)) {\n        result.push(entry)\n      }\n    })\n    return result\n  }\n}\n\nexport default Registry","import { extend, isEqual } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport Registry from '../util/Registry'\n\n/*\n  Listens to changes on the document and selection and updates the commandStates\n  accordingly.\n\n  @class CommandManager\n*/\nclass CommandManager {\n\n  constructor(context, commands) {\n    if (!context.editorSession) {\n      throw new Error('EditorSession required.')\n    }\n\n    this.editorSession = context.editorSession\n    this.doc = this.editorSession.getDocument()\n    this.context = extend({}, context, {\n      // for convenienve we provide access to the doc directly\n      doc: this.doc\n    })\n    // Set up command registry\n    this.commandRegistry = new Registry()\n    forEach(commands, function(command) {\n      if(!command._isCommand) {\n        throw new Error(\"Expecting instances of ui/Command.\")\n      }\n      this.commandRegistry.add(command.name, command)\n    }.bind(this))\n\n    this.editorSession.onUpdate(this.onSessionUpdate, this)\n    this.updateCommandStates(this.editorSession)\n  }\n\n  dispose() {\n    this.editorSession.off(this)\n  }\n\n  onSessionUpdate(editorSession) {\n    if (editorSession.hasChanged('change') || editorSession.hasChanged('selection')) {\n      this.updateCommandStates(editorSession)\n    }\n  }\n\n  /*\n    Compute new command states object\n  */\n  updateCommandStates(editorSession) {\n    let commandStates = {}\n    let commandContext = this.getCommandContext()\n    let params = this._getCommandParams()\n    this.commandRegistry.forEach(function(cmd) {\n      commandStates[cmd.getName()] = cmd.getCommandState(params, commandContext)\n    })\n    // poor-man's immutable style\n    if (!isEqual(this.commandStates, commandStates)) {\n      this.commandStates = commandStates\n      editorSession.setCommandStates(commandStates)\n    }\n  }\n\n  /*\n    Execute a command, given a context and arguments.\n\n    Commands are run async if cmd.isAsync() returns true.\n  */\n  executeCommand(commandName, userParams, cb) {\n    let cmd = this.commandRegistry.get(commandName)\n    if (!cmd) {\n      console.warn('command', commandName, 'not registered')\n      return\n    }\n    let commandState = this.commandStates[commandName]\n    let params = extend(this._getCommandParams(), userParams, {\n      commandState: commandState\n    })\n\n    if (cmd.isAsync) {\n      // TODO: Request UI lock here\n      this.editorSession.lock()\n      cmd.execute(params, this.getCommandContext(), (err, info) => {\n        if (err) {\n          if (cb) {\n            cb(err)\n          } else {\n            console.error(err)\n          }\n        } else {\n          if (cb) cb(null, info)\n        }\n        this.editorSession.unlock()\n      })\n    } else {\n      let info = cmd.execute(params, this.getCommandContext())\n      return info\n    }\n  }\n\n  /*\n    Exposes the current commandStates object\n  */\n  getCommandStates() {\n    return this.commandStates\n  }\n\n  getCommandContext() {\n    return this.context\n  }\n\n  // TODO: while we need it here this should go into the flow thingie later\n  _getCommandParams() {\n    let editorSession = this.context.editorSession\n    let selectionState = editorSession.getSelectionState()\n    let sel = selectionState.getSelection()\n    let surface = this.context.surfaceManager.getFocusedSurface()\n    return {\n      editorSession: editorSession,\n      selectionState: selectionState,\n      surface: surface,\n      selection: sel,\n    }\n  }\n}\n\nexport default CommandManager\n","/**\n  A place to store global variables.\n*/\nvar substanceGlobals = {};\n\nvar _global = (typeof global !== 'undefined') ? global : window\n\nif (_global.hasOwnProperty('Substance')) {\n  substanceGlobals = _global.Substance\n} else {\n  _global.Substance = substanceGlobals\n}\n\nsubstanceGlobals.DEBUG_RENDERING = true\n\nexport default substanceGlobals\n","/*\n  An iterator for arrays.\n\n  @class\n  @param {Array} arr\n */\nclass ArrayIterator {\n\n  constructor(arr) {\n    this.arr = arr\n    this.pos = -1\n  }\n\n  get _isArrayIterator() {\n    return true\n  }\n\n  /**\n    @returns {Boolean} true if there is another child node left.\n   */\n  hasNext() {\n    return this.pos < this.arr.length - 1\n  }\n\n  /**\n    Increments the iterator providing the next child node.\n\n    @returns {HTMLElement} The next child node.\n   */\n  next() {\n    this.pos += 1\n    var next = this.arr[this.pos]\n    return next\n  }\n\n  /**\n    Decrements the iterator.\n   */\n  back() {\n    if (this.pos >= 0) {\n      this.pos -= 1\n    }\n    return this\n  }\n}\n\nexport default ArrayIterator\n","/* eslint-disable no-unused-vars */\nimport { isObject, findIndex } from 'lodash-es'\nimport isFunction from '../util/isFunction'\nimport isString from '../util/isString'\nimport isArray from '../util/isArray'\nimport forEach from '../util/forEach'\nimport ArrayIterator from '../util/ArrayIterator'\n\nconst NOT_IMPLEMENTED = 'This method is not implemented.'\n\n/**\n  A unified interface for DOM elements used by Substance.\n\n  There are three different implementations of this interface:\n  - {@link ui/DefaultDOMElement}\n  - {@link ui/VirtualElement}\n  - {@link ui/Component}\n\n  Methods which rely on a CSS selector implementation are only available for {@link ui/DefaultDOMElement} instance, which is used during DOM import.\n  I.e., don't use the following methods in Component renderers:\n  - {@link ui/DOMElement#is()}\n  - {@link ui/DOMElement#find()}\n  - {@link ui/DOMElement#findAll()}\n\n  @abstract\n*/\nclass DOMElement {\n\n  /*\n    The element's id.\n    @property {String} ui/DOMElement#id\n  */\n\n  /*\n    The element's tag name in lower case.\n    @property {String} ui/DOMElement#tagName\n  */\n\n  /*\n    @property {String} ui/DOMElement#textContent\n   */\n\n  /*\n    The inner HTML string.\n\n    @property {String} ui/DOMElement#innerHTML\n   */\n\n  /*\n    The outer HTML string.\n\n    @property {String} ui/DOMElement#outerHTML\n   */\n\n  /*\n    An array of child nodes, including nodes such as TextNodes.\n\n    @property {Array<ui/DOMElement>} ui/DOMElement#childNodes\n   */\n\n  /*\n    An array of child elements.\n\n    @property {Array<ui/DOMElement>} ui/DOMElement#children children\n   */\n\n  /*\n    The computed height.\n\n    @property {Array<ui/DOMElement>} ui/DOMElement#height\n   */\n\n  /*\n    The computed width.\n\n    @property {Array<ui/DOMElement>} ui/DOMElement#width\n   */\n\n  /**\n    @returns the native element\n  */\n  getNativeElement() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if a CSS class is set.\n\n    @abstract\n    @param {String} className\n    @returns {Boolean} true if the CSS class is set\n  */\n  hasClass(className) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Adds a CSS class.\n\n    @abstract\n    @param {String} classString A space-separated string with CSS classes\n    @returns {this}\n  */\n  addClass(classString) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Removes a CSS class.\n\n    @abstract\n    @param {String} classString A space-separated string with CSS classes\n    @returns {this}\n  */\n  removeClass(classString) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    jQuery style getter and setter for attributes.\n\n    @abstract\n    @param {String} name\n    @param {String} [value] if present the attribute will be set\n    @returns {String|this} if used as getter the attribute value, otherwise this element for chaining\n   */\n  attr() {\n    if (arguments.length === 1) {\n      if (isString(arguments[0])) {\n        return this.getAttribute(arguments[0])\n      } else if (isObject(arguments[0])) {\n        forEach(arguments[0], function(value, name) {\n          this.setAttribute(name, value)\n        }.bind(this))\n      }\n    } else if (arguments.length === 2) {\n      this.setAttribute(arguments[0], arguments[1])\n    }\n    return this\n  }\n\n  /**\n    Removes an attribute.\n\n    @abstract\n    @param {String} name\n    @returns {this}\n  */\n  removeAttr(name) {\n    var names = name.split(/\\s+/)\n    if (names.length === 1) {\n      this.removeAttribute(name)\n    } else {\n      names.forEach(function(name) {\n        this.removeAttribute(name)\n      }.bind(this))\n    }\n    return this\n  }\n\n  /**\n    Get the attribute with a given name.\n\n    @abstract\n    @returns {String} the attribute's value.\n  */\n  getAttribute(name) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Set the attribute with a given name.\n\n    @abstract\n    @param {String} the attribute's value.\n    @returns {this}\n  */\n  setAttribute(name, value) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  removeAttribute(name) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getAttributes() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    jQuery style getter and setter for HTML element properties.\n\n    @abstract\n    @param {String} name\n    @param {String} [value] if present the property will be set\n    @returns {String|this} if used as getter the property value, otherwise this element for chaining\n   */\n  htmlProp() {\n    if (arguments.length === 1) {\n      if (isString(arguments[0])) {\n        return this.getProperty(arguments[0])\n      } else if (isObject(arguments[0])) {\n        forEach(arguments[0], function(value, name) {\n          this.setProperty(name, value)\n        }.bind(this))\n      }\n    } else if (arguments.length === 2) {\n      this.setProperty(arguments[0], arguments[1])\n    }\n    return this\n  }\n\n  getProperty(name) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  setProperty(name, value) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  removeProperty(name) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get the tagName of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.tagName}\n    @returns {String} the tag name in lower-case.\n   */\n  getTagName() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Set the tagName of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.tagName}\n    @param {String} tagName the new tag name\n    @returns {this}\n  */\n  setTagName(tagName) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get the id of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.id}\n    @returns {String} the id.\n   */\n  getId() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Set the id of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.id}\n    @param {String} id the new id\n    @returns {this}\n  */\n  setId(id) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    jQuery style getter and setter for the *value* of an element.\n\n    @abstract\n    @param {String} [value] The value to set.\n    @returns {String|this} the value if used as a getter, `this` otherwise\n  */\n  val(value) {\n    if (arguments.length === 0) {\n      return this.getValue()\n    } else {\n      this.setValue(value)\n      return this\n    }\n  }\n\n  getValue() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  setValue(value) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    jQuery style method to set or get inline CSS styles.\n\n    @param {String} name the style name\n    @param {String} [value] the style value\n    @returns {String|this} the style value or this if used as a setter\n  */\n  css() {\n    if (arguments.length === 1) {\n      if (isString(arguments[0])) {\n        return this.getStyle(arguments[0])\n      } else if (isObject(arguments[0])) {\n        forEach(arguments[0], function(value, name) {\n          this.setStyle(name, value)\n        }.bind(this))\n      } else {\n        throw new Error('Illegal arguments.')\n      }\n    } else if (arguments.length === 2) {\n      this.setStyle(arguments[0], arguments[1])\n    } else {\n      throw new Error('Illegal arguments.')\n    }\n    return this\n  }\n\n  getStyle(name) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  setStyle(name, value) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Gets or sets the text content of an element.\n\n    @abstract\n    @param {String} [text] The text content to set.\n    @returns {String|this} The text content if used as a getter, `this` otherwise\n  */\n  text(text) {\n    if (arguments.length === 0) {\n      return this.getTextContent()\n    } else {\n      this.setTextContent(text)\n    }\n    return this\n  }\n\n  /**\n    Get the textContent of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.innerHTML}\n    @returns {String}\n  */\n  getTextContent() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Set the textContent of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {ui/DOMElement.prototype.innerHTML}\n    @param {String} text the new text content\n    @returns {this}\n  */\n  setTextContent(text) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    jQuery style getter and setter for the innerHTML of an element.\n\n    @abstract\n    @param {String} [html] The html to set.\n    @returns {String|this} the inner html if used as a getter, `this` otherwise\n   */\n  html(html) {\n    if (arguments.length === 0) {\n      return this.getInnerHTML()\n    } else {\n      this.setInnerHTML(html)\n    }\n    return this\n  }\n\n  /**\n    Get the innerHTML of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {@link ui/DOMElement.prototype.innerHTML}\n    @returns {String}\n  */\n  getInnerHTML() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Set the innerHTML of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {@link ui/DOMElement.prototype.innerHTML}\n    @param {String} text the new text content\n    @returns {this}\n  */\n  setInnerHTML(html) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get the outerHTML of this element.\n\n    @abstract\n    @private\n    @note Considered as private API, in favor of the property {@link ui/DOMElement.prototype.outerHTML}\n    @returns {String}\n  */\n  getOuterHTML() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Registers an Element event handler.\n\n    @param {String} event The event name.\n    @param {Function} handler The handler function.\n    @param {Object} [context] context where the function should be bound to\n    @param {Object} [options]\n    @param {Object} [options.selector] for event delegation\n    @param {Object} [options.capture] to register the event in the event's capture phase (bubbling top-down)\n    @returns {this}\n  */\n  on(eventName, handler, context, options) {\n    if (!isString(eventName)) {\n      throw new Error('Illegal argument: \"event\" must be a String.')\n    }\n    options = options || {}\n    if (context) {\n      options.context = context\n    }\n    if (options.selector && !isString(options.selector)) {\n      throw new Error('Illegal argument: selector must be a string.')\n    }\n    if (!handler || !isFunction(handler)) {\n      throw new Error('Illegal argument: invalid handler function for event ' + eventName)\n    }\n    this.addEventListener(eventName, handler, options)\n    return this\n  }\n\n  /**\n    Unregisters the handler of a given event.\n\n    @param {String} event The event name.\n    @returns {this}\n  */\n  off(eventName, handler) {\n    // el.off(this): disconnect all listeners bound to the given context\n    if (arguments.length === 1 && !isString(eventName)) {\n      var context = arguments[0]\n      var listeners = this.getEventListeners().filter(function(l) {\n        return l.context === context\n      }).forEach(function(l) {\n        this.removeEventListener(l)\n      }.bind(this))\n    } else {\n      this.removeEventListener(eventName, handler)\n    }\n    return this\n  }\n\n  addEventListener(eventName, handler, options) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  removeEventListener(eventName, handler) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getEventListeners() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Gets the type of this element in lower-case.\n\n    @private\n    @note Considered as private API, in favor of the property {@link ui/DOMElement.prototype.nodeType}\n    @returns {String}\n  */\n  getNodeType() {\n    if (this.isTextNode()) {\n      return \"text\"\n    } else if (this.isCommentNode()) {\n      return \"comment\"\n    } else if (this.isElementNode()) {\n      return \"element\"\n    } else if (this.isDocumentNode()) {\n      return \"document\"\n    } else {\n      throw new Error(\"Unsupported node type\")\n    }\n  }\n\n  getChildCount() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get child nodes of this element.\n\n    This method provides a new array with wrapped native elements.\n    Better use getChildAt().\n\n    @abstract\n    @private Considered as private API, in favor of the property {ui/DOMElement.prototype.childNodes}\n    @returns {Array<ui/DOMElement>}\n   */\n  getChildNodes() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get child elements of this element.\n\n    This method provides a new array with wrapped native elements.\n    Better use getChildAt().\n\n    @abstract\n    @private Considered as private API, in favor of the property {ui/DOMElement.prototype.children}\n    @returns {Array<ui/DOMElement>}\n   */\n  getChildren() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getChildAt(pos) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getChildIndex(child) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getChildNodeIterator() {\n    return new ArrayIterator(this.getChildNodes())\n  }\n\n  getLastChild() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getFirstChild() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getNextSibling() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  getPreviousSibling() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if the element is a TextNode.\n\n    @abstract\n    @returns {Boolean} true if the element is of type `Node.TEXT_NODE`\n   */\n  isTextNode() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if the element is actually an element as opposed to a node.\n\n    @abstract\n    @returns {Boolean} true if the element is of type `Node.ELEMENT_NODE`\n   */\n  isElementNode() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if the element is a CommentNode.\n\n    @abstract\n    @returns {Boolean} true if the element is of type `Node.COMMENT_NODE`\n   */\n  isCommentNode() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if the element is a DocumentNode.\n\n    @abstract\n    @returns {Boolean} true if the element is of type `Node.DOCUMENT_NODE`\n   */\n  isDocumentNode() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Creates a clone of the current element.\n\n    @abstract\n    @returns {ui/DOMElement} A clone of this element.\n  */\n  clone() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Creates a DOMElement.\n\n    @param {String} str a tag name or an HTML element as string.\n    @returns {ui/DOMElement}\n  */\n  createElement(str) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  createTextNode(text) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Checks if a given CSS selector matches for this element.\n\n    **Attention**\n    This method is currently not implemented for {ui/VirtualElement}.\n    This means you should use it only in importer implementations.\n\n    @abstract\n    @param {String} cssSelector\n    @returns {Boolean}\n   */\n  is(cssSelector) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get the parent element of this element.\n\n    @abstract\n    @returns {ui/DOMElement} the parent element\n   */\n  getParent() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Get the root ancestor element of this element.\n\n    In the browser this is the `window.document`.\n\n    @abstract\n    @returns {ui/DOMElement} the root element\n   */\n  getRoot() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Find the first descendant element matching the given CSS selector.\n    Note this differs from jQuery.find() that it returns only one element.\n\n    **Attention**\n    This method is currently not implemented for {ui/VirtualElement}.\n    This means you can use it only in importer implementations, but not in render or exporter implementations.\n\n    @abstract\n    @param {String} cssSelector\n    @returns {ui/DOMElement} found element\n   */\n  find(cssSelector) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Find all descendant elements matching the given CSS selector.\n\n    **Attention**\n    This method is currently not implemented for {ui/VirtualElement}.\n    This means you can use it only in importer implementations, but not in render or exporter implementations.\n\n    @abstract\n    @param {String} cssSelector\n    @returns {Array<ui/DOMElement>} found elements\n   */\n  findAll(cssSelector) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Append a child element.\n\n    @abstract\n    @param {ui/DOMElement|String} child An element or text to append\n    @returns {this}\n   */\n  append(child) {\n    var children\n    if (arguments.length === 1) {\n      if (isArray(child)) {\n        children = child\n      } else {\n        this.appendChild(child)\n        return this\n      }\n    } else {\n      children = arguments\n    }\n    if (children) {\n      Array.prototype.forEach.call(children, this.appendChild.bind(this))\n    }\n    return this\n  }\n\n  appendChild(child) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Insert a child element at a given position.\n\n    @abstract\n    @param {Number} pos insert position\n    @param {ui/DOMElement|String} child The child element or text to insert.\n    @returns {this}\n  */\n  insertAt(pos, child) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  insertBefore(newChild, before) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Remove the child at a given position.\n\n    @abstract\n    @param {Number} pos\n    @returns {this}\n  */\n  removeAt(pos) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  removeChild(child) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  replaceChild(oldChild, newChild) {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  /**\n    Removes this element from its parent.\n\n    @abstract\n    @returns {this}\n  */\n  remove() {\n    var parent = this.getParent()\n    if (parent) {\n      parent.removeChild(this)\n    }\n  }\n\n  /**\n    Removes all child nodes from this element.\n\n    @abstract\n    @returns {this}\n  */\n  empty() {\n    throw new Error(NOT_IMPLEMENTED)\n  }\n\n  serialize() {\n    return this.outerHTML\n  }\n\n  isInDocument() {\n    return false\n  }\n\n  /**\n    Focusses this element.\n\n    **Attention: this makes only sense for elements which are rendered in the browser**\n\n  */\n  focus() {\n    return this\n  }\n\n  /**\n    Blur this element.\n  */\n  blur() {\n    return this\n  }\n\n  /**\n    Trigger a click event on this element.\n  */\n  click() {\n    return this\n  }\n\n  /* API to retrieve layout information */\n\n  getWidth() {\n    return 0\n  }\n\n  getHeight() {\n    return 0\n  }\n\n  /**\n    Outer height as provided by $.outerHeight(withMargin)\n  */\n  getOuterHeight(withMargin) {\n    return 0\n  }\n\n  /**\n    Offset values as provided by $.offset()\n  */\n  getOffset() {\n    return { top: 0, left: 0 }\n  }\n\n  /**\n    Position values as provided by $.position()\n  */\n  getPosition() {\n    return { top: 0, left: 0 }\n  }\n\n  /**\n    Get element factory conveniently\n\n    @example\n\n    var $$ = el.getElementFactory()\n    $$('div').append('bla')\n  */\n  getElementFactory() {\n    return this.createElement.bind(this)\n  }\n\n}\n\nvar _propertyDefinitions = {\n  'id': {\n    configurable: true,\n    get: function() {\n      return this.getId()\n    },\n    set: function(id) {\n      this.setId(id)\n    }\n  },\n  'tagName': {\n    configurable: true,\n    get: function() {\n      return this.getTagName()\n    },\n    set: function(tagName) {\n      this.setTagName(tagName)\n    }\n  },\n  'nodeName': {\n    configurable: true,\n    get: function() {\n      return this.getTagName()\n    }\n  },\n  'nodeType': {\n    configurable: true,\n    get: function() {\n      return this.getNodeType()\n    },\n    set: function() {\n      throw new Error('ui/DOMElement#nodeType is readonly.')\n    }\n  },\n  'textContent': {\n    configurable: true,\n    get: function() {\n      return this.getTextContent()\n    },\n    set: function(text) {\n      this.setTextContent(text)\n    }\n  },\n  'innerHTML': {\n    configurable: true,\n    get: function() {\n      return this.getInnerHTML()\n    },\n    set: function(html) {\n      this.setInnerHTML(html)\n    }\n  },\n  'outerHTML': {\n    configurable: true,\n    get: function() {\n      return this.getOuterHTML()\n    },\n    set: function() {\n      throw new Error('ui/DOMElement#outerHTML is readonly.')\n    }\n  },\n  'childNodes': {\n    configurable: true,\n    get: function() {\n      return this.getChildNodes()\n    },\n    set: function() {\n      throw new Error('ui/DOMElement#childNodes is readonly.')\n    }\n  },\n  'children': {\n    configurable: true,\n    get: function() {\n      return this.getChildren()\n    },\n    set: function() {\n      throw new Error('ui/DOMElement#children is readonly.')\n    }\n  },\n  'parentNode': {\n    configurable: true,\n    get: function() {\n      return this.getParent()\n    },\n    set: function() {\n      throw new Error('ui/DOMElement#parentNode is readonly.')\n    }\n  },\n  'height': {\n    configurable: true,\n    get: function() {\n      return this.getHeight()\n    },\n  },\n  'width': {\n    configurable: true,\n    get: function() {\n      return this.getWidth()\n    },\n  },\n}\n\nDOMElement.prototype._isDOMElement = true\n\nDOMElement._propertyNames = Object.keys(_propertyDefinitions)\n\nDOMElement._defineProperties = function(DOMElementClass, propertyNames) {\n  propertyNames = propertyNames || DOMElement._propertyNames\n  propertyNames.forEach(function(name) {\n    var def = _propertyDefinitions[name]\n    if (def) {\n      Object.defineProperty(DOMElementClass.prototype, name, def)\n    }\n  })\n}\n\nclass DOMElementDelegator extends DOMElement {\n  constructor() {\n    super()\n\n    this.el = null\n  }\n}\n\nvar _delegators = {\n  'getNativeElement': null,\n  'hasClass': false,\n  'getAttribute': null,\n  'getAttributes': {},\n  'getProperty': null,\n  'getTagName': 'throw',\n  'getId': 'throw',\n  'getValue': null,\n  'getStyle': null,\n  'getTextContent': '',\n  'getInnerHTML': '',\n  'getOuterHTML': '',\n  'getChildCount': 0,\n  'getChildNodes': [],\n  'getChildren': [],\n  'getChildAt': null,\n  'getParent': null,\n  'getRoot': null,\n  'getEventListeners': [],\n  'find': null,\n  'findAll': [],\n  'is': false,\n  'isTextNode': false,\n  'isElementNode': false,\n  'isCommentNode': false,\n  'isDocumentNode': false,\n  'isInDocument': false,\n  'position': null\n}\n\nforEach(_delegators, function(defaultValue, method) {\n  DOMElementDelegator.prototype[method] = function() {\n    if (!this.el) {\n      if (defaultValue === 'throw') {\n        throw new Error('This component has not been rendered yet.')\n      } else {\n        return defaultValue\n      }\n    }\n    return this.el[method].apply(this.el, arguments)\n  }\n})\n\n// Delegators implementing the DOMElement interface\n// these are chainable\n;[\n  'addClass', 'removeClass',\n  'setAttribute', 'removeAttribute',\n  'setProperty', 'removeProperty',\n  'setTagName', 'setId', 'setValue', 'setStyle',\n  'setTextContent', 'setInnerHTML',\n  'addEventListener', 'removeEventListener',\n  'appendChild', 'insertAt', 'insertBefore',\n  'remove', 'removeAt', 'removeChild', 'replaceChild', 'empty',\n  'focus', 'blur', 'click'\n].forEach(function(method) {\n  DOMElementDelegator.prototype[method] = function() {\n    if (!this.el) {\n      throw new Error('This component has not been rendered yet.')\n    }\n    this.el[method].apply(this.el, arguments)\n    return this\n  }\n})\n\nDOMElement.Delegator = DOMElementDelegator\n\nclass DOMEventListener {\n  constructor(eventName, handler, options) {\n    if (!isString(eventName) || !isFunction(handler)) {\n      throw new Error(\"Illegal arguments: 'eventName' must be a String, and 'handler' must be a Function.\")\n    }\n    options = options || {}\n    var origHandler = handler\n    var context = options.context\n    var capture = Boolean(options.capture)\n\n    if (context) {\n      handler = handler.bind(context)\n    }\n    if (options.once === true) {\n      handler = _once(this, handler)\n    }\n\n    this.eventName = eventName\n    this.originalHandler = origHandler\n    this.handler = handler\n    this.capture = capture\n    this.context = context\n    this.options = options\n    // set when this gets attached to a DOM element\n    this._el = null\n  }\n\n  get _isDOMEventListener() { return true }\n\n}\n\nDOMEventListener.matches = function(l1, l2) {\n  return l1.eventName === l2.eventName && l1.originalHandler === l2.originalHandler\n}\n\nfunction _once(listener, handler) {\n  return function(event) {\n    handler(event)\n    listener._el.removeEventListener(listener)\n  }\n}\n\nDOMElement.EventListener = DOMEventListener\n\nDOMElement._findEventListenerIndex = function(eventListeners, eventName, handler) {\n  var idx = -1\n  if (arguments[1]._isDOMEventListener) {\n    idx = eventListeners.indexOf(arguments[1])\n  } else {\n    idx = findIndex(eventListeners,\n      DOMEventListener.matches.bind(null, {\n        eventName: eventName,\n        originalHandler: handler\n      })\n    )\n  }\n  return idx\n}\n\nclass TextNode {\n\n  get _isDOMElement() { return true }\n\n  isTextNode() {\n    return true\n  }\n\n  getNodeType() {\n    return 'text'\n  }\n\n  isElementNode() { return false }\n\n  isDocumentNode() { return false }\n\n  isCommentNode() { return false }\n\n}\n\n[\n  'getParent', 'getNextSibling', 'getPreviousSibling',\n  'text', 'getTextContent', 'setTextContent',\n  'clone'\n].forEach(function(name) {\n  TextNode.prototype[name] = DOMElement.prototype[name]\n})\n\n\nDOMElement.TextNode = TextNode\n\nexport default DOMElement\n","import {\n  clone, extend, flattenDeep, isArray, isFunction, isNil,\n  isPlainObject, isString, omit, without\n} from 'lodash-es'\nimport map from '../util/map'\nimport DOMElement from './DOMElement'\n\n/**\n  A virtual {@link DOMElement} which is used by the {@link Component} API.\n\n  A VirtualElement is just a description of a DOM structure. It represents a virtual\n  DOM mixed with Components. This virtual structure needs to be compiled to a {@link Component}\n  to actually create a real DOM element.\n\n  @class\n*/\nclass VirtualElement extends DOMElement {\n\n  constructor(owner) {\n    super()\n\n    // set when this gets inserted into another virtual element\n    this.parent = null\n    // set when created by RenderingContext\n    this._owner = owner\n    // set when ref'd\n    this._ref = null\n  }\n\n  /*\n    For instance of like checks.\n  */\n  get _isVirtualElement() { return true }\n\n  getParent() {\n    return this.parent\n  }\n\n  /*\n    Provides the component after this VirtualElement has been rendered.\n  */\n  getComponent() {\n    return this._comp\n  }\n\n  /**\n    Associates a reference identifier with this element.\n\n    When rendered the corresponding component is stored in the owner using the given key.\n    In addition to that, components with a reference are preserved when its parent is rerendered.\n\n    > Attention: only the owner should use this method, as it only\n      affects the owner's references\n\n    @param {String} ref id for the compiled Component\n  */\n  ref(ref) {\n    if (!ref) throw new Error('Illegal argument')\n    /*\n      Attention: only the owner can create a ref()\n      If you run into this situation, e.g. when you pass down a virtual element\n      to a component which wants to have a ref itself,\n      then you have other options:\n\n      1. via props:\n      ```js\n        this.props.content.getComponent()\n      ```\n\n      2. via Component.getChildAt or Component.find()\n      ```\n        this.getChildAt(0)\n        this.find('.child')\n      ```\n    */\n    if (this._ref) throw new Error('A VirtualElement can only be referenced once.')\n    this._ref = ref\n    if (this._context) {\n      this._context.refs[ref] = this\n    }\n    return this\n  }\n\n}\n\nDOMElement._defineProperties(VirtualElement, without(DOMElement._propertyNames, 'children'))\n\n/*\n  A virtual HTML element.\n\n  @private\n  @class VirtualElement.VirtualHTMLElement\n  @extends ui/VirtualElement\n*/\nclass VirtualHTMLElement extends VirtualElement {\n\n  constructor(tagName) {\n    super()\n\n    this._tagName = tagName\n    this.classNames = null\n    this.attributes = null\n    this.htmlProps = null\n    this.style = null\n    this.eventListeners = null\n\n    this.children = []\n\n  }\n\n  get _isVirtualHTMLElement() { return true; }\n\n  getTagName() {\n    return this._tagName\n  }\n\n  setTagName(tagName) {\n    this._tagName = tagName\n    return this\n  }\n\n  hasClass(className) {\n    if (this.classNames) {\n      return this.classNames.indexOf(className) > -1\n    }\n    return false\n  }\n\n  addClass(className) {\n    if (!this.classNames) {\n      this.classNames = []\n    }\n    this.classNames.push(className)\n    return this\n  }\n\n  removeClass(className) {\n    if (this.classNames) {\n      this.classNames = without(this.classNames, className)\n    }\n    return this\n  }\n\n  removeAttr(attr) {\n    if (this.attributes) {\n      if (isString(attr)) {\n        delete this.attributes[attr]\n      } else {\n        this.attributes = omit(this.attributes, attr)\n      }\n    }\n    return this\n  }\n\n  getAttribute(name) {\n    if (this.attributes) {\n      return this.attributes[name]\n    }\n  }\n\n  setAttribute(name, value) {\n    if (!this.attributes) {\n      this.attributes = {}\n    }\n    this.attributes[name] = value\n    return this\n  }\n\n  getAttributes() {\n    // we are having separated storages for differet\n    // kind of attributes which we now pull together\n    // in the same way as a native DOM element has it\n    var attributes = {}\n    if (this.attributes) {\n      extend(attributes, this.attributes)\n    }\n    if (this.classNames) {\n      attributes.class = this.classNames.join(' ')\n    }\n    if (this.style) {\n      attributes.style = map(this.style, function(val, key) {\n        return key + \":\" + val\n      }).join(';')\n    }\n    return attributes\n  }\n\n  getId() {\n    return this.getAttribute('id')\n  }\n\n  setId(id) {\n    this.setAttribute('id', id)\n    return this\n  }\n\n  setTextContent(text) {\n    if (!isString(text)) throw new Error('Illegal argument: expecting a string.')\n    text = text || ''\n    this.empty()\n    this.appendChild(text)\n    return this\n  }\n\n  setInnerHTML(html) {\n    html = html || ''\n    this.empty()\n    this._innerHTMLString = html\n    return this\n  }\n\n  getInnerHTML() {\n    if (!this.hasOwnProperty('_innerHTMLString')) {\n      throw new Error('Not supported.')\n    } else {\n      return this._innerHTMLString\n    }\n  }\n\n  getValue() {\n    return this.htmlProp('value')\n  }\n\n  setValue(value) {\n    this.htmlProp('value', value)\n    return this\n  }\n\n  getChildNodes() {\n    return this.children\n  }\n\n  getChildren() {\n    return this.children.filter(function(child) {\n      return child.getNodeType() !== \"text\"\n    })\n  }\n\n  isTextNode() {\n    return false\n  }\n\n  isElementNode() {\n    return true\n  }\n\n  isCommentNode() {\n    return false\n  }\n\n  isDocumentNode() {\n    return false\n  }\n\n  append() {\n    if (this._innerHTMLString) {\n      throw Error('It is not possible to mix $$.html() with $$.append(). You can call $$.empty() to reset this virtual element.')\n    }\n    this._append(this.children, arguments)\n    return this\n  }\n\n  appendChild(child) {\n    if (this._innerHTMLString) {\n      throw Error('It is not possible to mix $$.html() with $$.append(). You can call $$.empty() to reset this virtual element.')\n    }\n    this._appendChild(this.children, child)\n    return this\n  }\n\n  insertAt(pos, child) {\n    child = this._normalizeChild(child)\n    if (!child) {\n      throw new Error('Illegal child: ' + child)\n    }\n    if (!child._isVirtualElement) {\n      throw new Error('Illegal argument for $$.insertAt():' + child)\n    }\n    if (pos < 0 || pos > this.children.length) {\n      throw new Error('insertAt(): index out of bounds.')\n    }\n    this._insertAt(this.children, pos, child)\n    return this\n  }\n\n  insertBefore(child, before) {\n    var pos = this.children.indexOf(before)\n    if (pos > -1) {\n      this.insertAt(pos, child)\n    } else {\n      throw new Error('insertBefore(): reference node is not a child of this element.')\n    }\n    return this\n  }\n\n  removeAt(pos) {\n    if (pos < 0 || pos >= this.children.length) {\n      throw new Error('removeAt(): Index out of bounds.')\n    }\n    this._removeAt(pos)\n    return this\n  }\n\n  removeChild(child) {\n    if (!child || !child._isVirtualElement) {\n      throw new Error('removeChild(): Illegal arguments. Expecting a CheerioDOMElement instance.')\n    }\n    var idx = this.children.indexOf(child)\n    if (idx < 0) {\n      throw new Error('removeChild(): element is not a child.')\n    }\n    this.removeAt(idx)\n    return this\n  }\n\n  replaceChild(oldChild, newChild) {\n    if (!newChild || !oldChild ||\n        !newChild._isVirtualElement || !oldChild._isVirtualElement) {\n      throw new Error('replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.')\n    }\n    var idx = this.children.indexOf(oldChild)\n    if (idx < 0) {\n      throw new Error('replaceChild(): element is not a child.')\n    }\n    this.removeAt(idx)\n    this.insertAt(idx, newChild)\n    return this\n  }\n\n  empty() {\n    var children = this.children\n    while (children.length) {\n      var child = children.pop()\n      child.parent = null\n    }\n    delete this._innerHTMLString\n    return this\n  }\n\n  getProperty(name) {\n    if (this.htmlProps) {\n      return this.htmlProps[name]\n    }\n  }\n\n  setProperty(name, value) {\n    if (!this.htmlProps) {\n      this.htmlProps = {}\n    }\n    this.htmlProps[name] = value\n    return this\n  }\n\n  removeProperty(name) {\n    if (this.htmlProps) {\n      delete this.htmlProps[name]\n    }\n    return this\n  }\n\n  getStyle(name) {\n    if (this.style) {\n      return this.style[name]\n    }\n  }\n\n  setStyle(name, value) {\n    if (!this.style) {\n      this.style = {}\n    }\n    this.style[name] = value\n    return this\n  }\n\n  addEventListener(eventName, handler, options) {\n    var listener\n    if (arguments.length === 1 && arguments[0]._isDOMEventListener) {\n      listener = arguments[0]\n    } else {\n      options = options || {}\n      options.context = options.context || this._owner._comp\n      listener = new DOMElement.EventListener(eventName, handler, options)\n    }\n    if (!this.eventListeners) {\n      this.eventListeners = []\n    }\n    this.eventListeners.push(listener)\n    return this\n  }\n\n  removeEventListener(eventName, handler) {\n    if (this.eventListeners) {\n      DOMElement._findEventListenerIndex(this.eventListeners, eventName, handler)\n    }\n    return this\n  }\n\n  getEventListeners() {\n    return this.eventListeners\n  }\n\n  getNodeType() {\n    return \"element\"\n  }\n\n  hasInnerHTML() {\n    return Boolean(this._innerHTMLString)\n  }\n\n  _normalizeChild(child) {\n    if (isString(child)) {\n      child = new VirtualTextNode(child)\n    }\n    return child\n  }\n\n  _append(outlet, args) {\n    if (args.length === 1 && !isArray(args[0])) {\n      this._appendChild(outlet, args[0])\n      return\n    }\n    var children\n    if (isArray(args[0])) {\n      children = args[0]\n    } else if (arguments.length > 1) {\n      children = Array.prototype.slice.call(args,0)\n    } else {\n      return\n    }\n    children.forEach(this._appendChild.bind(this, outlet))\n  }\n\n  _appendChild(outlet, child) {\n    child = this._normalizeChild(child)\n    // TODO: discuss. Having a bad feeling about this,\n    // because it could obscure an implementation error\n    if (!child) return\n    outlet.push(child)\n    this._attach(child)\n    return child\n  }\n\n  _insertAt(outlet, pos, child) {\n    if (!child) return\n    outlet.splice(pos, 0, child)\n    this._attach(child)\n  }\n\n  _removeAt(outlet, pos) {\n    var child = outlet[pos]\n    outlet.splice(pos, 1)\n    this._detach(child)\n  }\n\n  _attach(child) {\n    child.parent = this\n    if (this._context && child._owner !== this._owner && child._ref) {\n      this._context.foreignRefs[child._ref] = child\n    }\n  }\n\n  _detach(child) {\n    child.parent = null\n    if (this._context && child._owner !== this._owner && child._ref) {\n      delete this.context.foreignRefs[child._ref]\n    }\n  }\n\n  _mergeHTMLConfig(other) {\n    if (other.classNames) {\n      if (!this.classNames) {\n        this.classNames = []\n      }\n      this.classNames = this.classNames.concat(other.classNames)\n    }\n    if (other.attributes) {\n      if (!this.attributes) {\n        this.attributes = {}\n      }\n      extend(this.attributes, other.attributes)\n    }\n    if (other.htmlProps) {\n      if (!this.htmlProps) {\n        this.htmlProps = {}\n      }\n      extend(this.htmlProps, other.htmlProps)\n    }\n    if (other.style) {\n      if (!this.style) {\n        this.style = {}\n      }\n      extend(this.style, other.style)\n    }\n    if (other.eventListeners) {\n      if (!this.eventListeners) {\n        this.eventListeners = []\n      }\n      this.eventListeners = this.eventListeners.concat(other.eventListeners)\n    }\n  }\n}\n\n/*\n  A virtual element which gets rendered by a custom component.\n\n  @private\n  @class VirtualElement.VirtualComponent\n  @extends ui/VirtualElement\n*/\nclass VirtualComponent extends VirtualHTMLElement {\n\n  constructor(ComponentClass, props) {\n    super()\n\n    props = props || {}\n\n    this.ComponentClass = ComponentClass\n    this.props = props\n    if (!props.children) {\n      props.children = []\n    }\n    this.children = props.children\n  }\n\n  get _isVirtualComponent() { return true; }\n\n  getComponent() {\n    return this._comp\n  }\n\n  // Note: for VirtualComponentElement we put children into props\n  // so that the render method of ComponentClass can place it.\n  getChildren() {\n    return this.props.children\n  }\n\n  getNodeType() {\n    return 'component'\n  }\n\n  outlet(name) {\n    return new Outlet(this, name)\n  }\n\n  _attach(child) {\n    child._preliminaryParent = this\n  }\n\n  _detach(child) {\n    child._preliminaryParent = null\n  }\n\n  _copyHTMLConfig() {\n    return {\n      classNames: clone(this.classNames),\n      attributes: clone(this.attributes),\n      htmlProps: clone(this.htmlProps),\n      style: clone(this.style),\n      eventListeners: clone(this.eventListeners)\n    }\n  }\n}\n\nclass Outlet {\n  constructor(virtualEl, name) {\n    this.virtualEl = virtualEl\n    this.name = name\n    Object.freeze(this)\n  }\n\n  _getOutlet() {\n    var outlet = this.virtualEl.props[this.name]\n    if (!outlet) {\n      outlet = []\n      this.virtualEl.props[this.name] = outlet\n    }\n    return outlet\n  }\n\n  append() {\n    var outlet = this._getOutlet()\n    this.virtualEl._append(outlet, arguments)\n    return this\n  }\n\n  empty() {\n    var arr = this.virtualEl.props[this.name]\n    arr.forEach(function(el) {\n      this._detach(el)\n    }.bind(this))\n    arr.splice(0, arr.length)\n    return this\n  }\n}\n\n\nclass VirtualTextNode extends VirtualElement {\n\n  constructor(text) {\n    super()\n    this.text = text\n  }\n\n  get _isVirtualTextNode() { return true; }\n}\n\nVirtualElement.Component = VirtualComponent\nVirtualElement.TextNode = VirtualTextNode\n\n/**\n  Create a virtual DOM representation which is used by Component\n  for differential/reactive rendering.\n\n  @param elementType HTML tag name or Component class\n  @param [props] a properties object for Component classes\n  @return {VirtualElement} a virtual DOM node\n\n  @example\n\n  Create a virtual DOM Element\n\n  ```\n  $$('a').attr({href: './foo'}).addClass('se-nav-item')\n  ```\n\n  Create a virtual Component\n\n  ```\n  $$(HelloMessage, {name: 'John'})\n  ```\n*/\nVirtualElement.createElement = function() {\n  var content\n  var _first = arguments[0]\n  var _second = arguments[1]\n  var type\n  if (isString(_first)) {\n    type = \"element\"\n  } else if (isFunction(_first) && _first.prototype._isComponent) {\n    type = \"component\"\n  } else if (isNil(_first)) {\n    throw new Error('$$(null): provided argument was null or undefined.')\n  } else {\n    throw new Error('Illegal usage of $$()')\n  }\n  // some props are mapped to built-ins\n  var props = {}\n  var classNames, ref\n  var eventHandlers = []\n  for(var key in _second) {\n    if (!_second.hasOwnProperty(key)) continue\n    var val = _second[key]\n    switch(key) {\n      case 'class':\n        classNames = val\n        break\n      case 'ref':\n        ref = val\n        break\n      default:\n        props[key] = val\n    }\n  }\n  if (type === 'element') {\n    content = new VirtualHTMLElement(_first)\n    // remaining props are attributes\n    // TODO: should we make sure that these are only string values?\n    content.attr(props)\n  } else {\n    content = new VirtualComponent(_first, props)\n  }\n  // HACK: this is set to the current context by RenderingEngine\n  // otherwise this will provide rubbish\n  content._owner = this.owner\n  if (classNames) {\n    content.addClass(classNames)\n  }\n  if (ref) {\n    content.ref(ref)\n  }\n  eventHandlers.forEach(function(h) {\n    if (isFunction(h.handler)) {\n      content.on(h.name, h.handler)\n    } else if (isPlainObject(h.handler)) {\n      var params = h.handler\n      content.on(h.name, params.handler, params.context, params)\n    } else {\n      throw new Error('Illegal arguments for $$(_,{ on'+h.name+'})')\n    }\n  })\n  // allow a notation similar to React.createElement\n  // $$(MyComponent, {}, ...children)\n  if (arguments.length > 2) {\n    content.append(flattenDeep(Array.prototype.slice.call(arguments, 2)))\n  }\n  return content\n}\n\nexport default VirtualElement\n","/*\n  A wrapper for native DOM events when using event delegation via\n  `DOMElement.on(eventName, selector, handler)`.\n\n  @param [Component] owner\n  @param [Element] selectedTarget native DOM element\n  @param [Event] originalEvent native DOM event\n*/\nfunction DelegatedEvent(owner, selectedTarget, originalEvent) {\n  this.owner = owner\n  this.target = selectedTarget\n  this.originalEvent = originalEvent\n}\n\nexport default DelegatedEvent\n","import isString from '../util/isString'\nimport isNumber from '../util/isNumber'\nimport DOMElement from './DOMElement'\nimport DelegatedEvent from './DelegatedEvent'\n\nclass BrowserDOMElement extends DOMElement {\n\n  constructor(el) {\n    super()\n    console.assert(el instanceof window.Node, \"Expecting native DOM node.\")\n    this.el = el\n    el._wrapper = this\n    this.eventListeners = []\n    this.htmlProps = {}\n  }\n\n  get _isBrowserDOMElement() {\n    return true\n  }\n\n  getNativeElement() {\n    return this.el\n  }\n\n  hasClass(className) {\n    return this.el.classList.contains(className)\n  }\n\n  addClass(className) {\n    this.el.classList.add(className)\n    return this\n  }\n\n  removeClass(className) {\n    this.el.classList.remove(className)\n    return this\n  }\n\n  getClasses() {\n    return this.el.className\n  }\n\n  setClasses(classString) {\n    this.el.className = classString\n    return this\n  }\n\n  getAttribute(name) {\n    return this.el.getAttribute(name)\n  }\n\n  setAttribute(name, value) {\n    this.el.setAttribute(name, value)\n    return this\n  }\n\n  removeAttribute(name) {\n    this.el.removeAttribute(name)\n    return this\n  }\n\n  getAttributes() {\n    let result = {}\n    let attributes = this.el.attributes\n    let l = attributes.length\n    for(let i=0; i < l; i++) {\n      let attr = attributes.item(i)\n      result[attr.name] = attr.value\n    }\n    return result\n  }\n\n  getProperty(name) {\n    return this.el[name]\n  }\n\n  setProperty(name, value) {\n    this.htmlProps[name] = value\n    this.el[name] = value\n    return this\n  }\n\n  removeProperty(name) {\n    delete this.htmlProps[name]\n    delete this.el[name]\n    return this\n  }\n\n  getTagName() {\n    if (this.el.tagName) {\n      return this.el.tagName.toLowerCase()\n    }\n  }\n\n  setTagName(tagName) {\n    let newEl = this.createElement(tagName)\n    let attributes = this.el.attributes\n    let l = attributes.length\n    let i\n    for(i = 0; i < l; i++) {\n      let attr = attributes.item(i)\n      newEl.setAttribute(attr.name, attr.value)\n    }\n    for (let key in this.htmlProps) {\n      if (this.htmlProps.hasOwnProperty(key)) {\n        newEl[key] = this.htmlProps[key]\n      }\n    }\n    this.eventListeners.forEach(function(listener) {\n      newEl.addEventListener(listener.eventName, listener.handler, listener.capture)\n    })\n\n    newEl.append(this.getChildNodes())\n\n    this._replaceNativeEl(newEl.getNativeElement())\n    return this\n  }\n\n  getId() {\n    return this.el.id\n  }\n\n  setId(id) {\n    this.el.id = id\n    return this\n  }\n\n  getValue() {\n    return this.el.value\n  }\n\n  setValue(value) {\n    this.el.value = value\n    return this\n  }\n\n  getStyle(name) {\n    // NOTE: important to provide computed style, otherwise we don't get inherited styles\n    let style = this.getComputedStyle()\n    return style[name] || this.el.style[name]\n  }\n\n  getComputedStyle() {\n    return window.getComputedStyle(this.el)\n  }\n\n  setStyle(name, value) {\n    let _pxStyles = {\n      top: true,\n      bottom: true,\n      left: true,\n      right: true,\n      height: true,\n      width: true\n    }\n\n    if (_pxStyles[name] && isNumber(value)) {\n      value = value + \"px\"\n    }\n    this.el.style[name] = value\n    return this\n  }\n\n  getTextContent() {\n    return this.el.textContent\n  }\n\n  setTextContent(text) {\n    this.el.textContent = text\n    return this\n  }\n\n  getInnerHTML() {\n    let innerHTML = this.el.innerHTML\n    if (!isString(innerHTML)) {\n      let frag = this.el.ownerDocument.createDocumentFragment()\n      for (let c = this.el.firstChild; c; c = c.nextSibling) {\n        frag.appendChild(c.cloneNode(true))\n      }\n      let xs = new window.XMLSerializer()\n      innerHTML = xs.serializeToString(frag)\n    }\n    return innerHTML\n  }\n\n  setInnerHTML(html) {\n    this.el.innerHTML = html\n    return this\n  }\n\n  getOuterHTML() {\n    let outerHTML = this.el.outerHTML\n    if (!isString(outerHTML)) {\n      let xs = new window.XMLSerializer()\n      outerHTML = xs.serializeToString(this.el)\n    }\n    return outerHTML\n  }\n\n  addEventListener(eventName, handler, options) {\n    let listener\n    if (arguments.length === 1 && arguments[0]) {\n      listener = arguments[0]\n    } else {\n      listener = new DOMElement.EventListener(eventName, handler, options)\n    }\n    if (listener.options.selector && !listener.__hasEventDelegation__) {\n      listener.handler = this._delegatedHandler(listener)\n      listener.__hasEventDelegation__ = true\n    }\n    this.el.addEventListener(listener.eventName, listener.handler, listener.capture)\n    listener._el = this\n    this.eventListeners.push(listener)\n    return this\n  }\n\n  _delegatedHandler(listener) {\n    let handler = listener.handler\n    let context = listener.context\n    let selector = listener.options.selector\n    let nativeTop = this.getNativeElement()\n    return function(event) {\n      let nativeEl = event.target\n      while(nativeEl) {\n        if (matches(nativeEl, selector)) {\n          handler(new DelegatedEvent(context, event.target, event))\n          break\n        }\n        if (nativeEl === nativeTop) {\n          break\n        }\n        nativeEl = nativeEl.parentNode;\n      }\n    }\n  }\n\n  removeEventListener(eventName, handler) {\n    // console.log('removing event listener', eventName, handler);\n    let listener = null, idx = -1\n    idx = DOMElement._findEventListenerIndex(this.eventListeners, eventName, handler)\n    listener = this.eventListeners[idx]\n    if (idx > -1) {\n      this.eventListeners.splice(idx, 1)\n      // console.log('BrowserDOMElement.removeEventListener:', eventName, this.eventListeners.length);\n      listener._el = null\n      this.el.removeEventListener(listener.eventName, listener.handler)\n    }\n    return this\n  }\n\n  removeAllEventListeners() {\n    for (let i = 0; i < this.eventListeners.length; i++) {\n      let listener = this.eventListeners[i]\n      // console.log('BrowserDOMElement.removeEventListener:', eventName, this.eventListeners.length);\n      listener._el = null\n      this.el.removeEventListener(listener.eventName, listener.handler)\n    }\n    this.eventListeners = []\n  }\n\n  getEventListeners() {\n    return this.eventListeners\n  }\n\n  getChildCount() {\n    return this.el.childNodes.length\n  }\n\n  getChildNodes() {\n    let childNodes = []\n    for (let node = this.el.firstChild; node; node = node.nextSibling) {\n      childNodes.push(BrowserDOMElement.wrapNativeElement(node))\n    }\n    return childNodes\n  }\n\n  getChildren() {\n    let children = [];\n    for (let node = this.el.firstChild; node; node = node.nextSibling) {\n      if (node.nodeType === window.Node.ELEMENT_NODE) {\n        children.push(BrowserDOMElement.wrapNativeElement(node))\n      }\n    }\n    return children\n  }\n\n  getChildAt(pos) {\n    return BrowserDOMElement.wrapNativeElement(this.el.childNodes[pos])\n  }\n\n  getChildIndex(child) {\n    if (!child._isBrowserDOMElement) {\n      throw new Error('Expecting a BrowserDOMElement instance.')\n    }\n    return Array.prototype.indexOf.call(this.el.childNodes, child.el)\n  }\n\n  getFirstChild() {\n    let firstChild = this.el.firstChild\n    if (firstChild) {\n      return BrowserDOMElement.wrapNativeElement(firstChild)\n    } else {\n      return null\n    }\n  }\n\n  getLastChild() {\n    var lastChild = this.el.lastChild\n    if (lastChild) {\n      return BrowserDOMElement.wrapNativeElement(lastChild)\n    } else {\n      return null\n    }\n  }\n\n  getNextSibling() {\n    let next = this.el.nextSibling\n    if (next) {\n      return BrowserDOMElement.wrapNativeElement(next)\n    } else {\n      return null\n    }\n  }\n\n  getPreviousSibling() {\n    let previous = this.el.previousSibling\n    if (previous) {\n      return BrowserDOMElement.wrapNativeElement(previous)\n    } else {\n      return null\n    }\n  }\n\n  isTextNode() {\n    return (this.el.nodeType === window.Node.TEXT_NODE)\n  }\n\n  isElementNode() {\n    return (this.el.nodeType === window.Node.ELEMENT_NODE)\n  }\n\n  isCommentNode() {\n    return (this.el.nodeType === window.Node.COMMENT_NODE)\n  }\n\n  isDocumentNode() {\n    return (this.el.nodeType === window.Node.DOCUMENT_NODE)\n  }\n\n  clone() {\n    let clone = this.el.cloneNode(true)\n    return BrowserDOMElement.wrapNativeElement(clone)\n  }\n\n  createElement(tagName) {\n    let el = this.el.ownerDocument.createElement(tagName)\n    return BrowserDOMElement.wrapNativeElement(el)\n  }\n\n  createTextNode(text) {\n    var el = this.el.ownerDocument.createTextNode(text)\n    return BrowserDOMElement.wrapNativeElement(el)\n  }\n\n  is(cssSelector) {\n    // ATTENTION: looking at https://developer.mozilla.org/en/docs/Web/API/Element/matches\n    // Element.matches might not be supported by some mobile browsers\n    let el = this.el\n    if (this.isElementNode()) {\n      return matches(el, cssSelector)\n    } else {\n      return false\n    }\n  }\n\n  getParent() {\n    let parent = this.el.parentNode\n    if (parent) {\n      return BrowserDOMElement.wrapNativeElement(parent)\n    } else {\n      return null\n    }\n  }\n\n  getRoot() {\n    let el = this.el\n    let parent = el\n    while (parent) {\n      el = parent;\n      parent = el.parentNode\n    }\n    return BrowserDOMElement.wrapNativeElement(el)\n  }\n\n  find(cssSelector) {\n    let result = null\n    if (this.el.querySelector) {\n      result = this.el.querySelector(cssSelector)\n    }\n    if (result) {\n      return BrowserDOMElement.wrapNativeElement(result)\n    } else {\n      return null\n    }\n  }\n\n  findAll(cssSelector) {\n    let result = []\n    if (this.el.querySelectorAll) {\n      result = this.el.querySelectorAll(cssSelector)\n    }\n    return Array.prototype.map.call(result, function(el) {\n      return BrowserDOMElement.wrapNativeElement(el)\n    })\n  }\n\n  _normalizeChild(child) {\n    if (child instanceof window.Node) {\n      if (!child._wrapper) {\n        child = BrowserDOMElement.wrapNativeElement(child)\n      } else {\n        return child\n      }\n    }\n    if (isString(child) || isNumber(child)) {\n      child = this.createTextNode(child)\n    }\n    if (!child || !child._isBrowserDOMElement) {\n      throw new Error('Illegal child type.')\n    }\n    // HACK: I thought it isn't possible to create\n    // a BrowserDOMElement instance without having this\n    // done already\n    if (!child.el._wrapper) {\n      child.el._wrapper = child\n    }\n    console.assert(child.el._wrapper === child, \"The backlink to the wrapper should be consistent\")\n    return child.getNativeElement()\n  }\n\n  appendChild(child) {\n    let nativeChild = this._normalizeChild(child)\n    this.el.appendChild(nativeChild)\n    return this\n  }\n\n  insertAt(pos, child) {\n    let nativeChild = this._normalizeChild(child)\n    let childNodes = this.el.childNodes\n    if (pos >= childNodes.length) {\n      this.el.appendChild(nativeChild)\n    } else {\n      this.el.insertBefore(nativeChild, childNodes[pos])\n    }\n    return this\n  }\n\n  insertBefore(child, before) {\n    if (!before || !before._isBrowserDOMElement) {\n      throw new Error('insertBefore(): Illegal arguments. \"before\" must be a BrowserDOMElement instance.')\n    }\n    var nativeChild = this._normalizeChild(child)\n    this.el.insertBefore(nativeChild, before.el)\n    return this\n  }\n\n  removeAt(pos) {\n    this.el.removeChild(this.el.childNodes[pos])\n    return this;\n  }\n\n  removeChild(child) {\n    if (!child || !child._isBrowserDOMElement) {\n      throw new Error('removeChild(): Illegal arguments. Expecting a BrowserDOMElement instance.')\n    }\n    this.el.removeChild(child.el)\n    return this\n  }\n\n  replaceChild(oldChild, newChild) {\n    if (!newChild || !oldChild ||\n        !newChild._isBrowserDOMElement || !oldChild._isBrowserDOMElement) {\n      throw new Error('replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.')\n    }\n    // Attention: Node.replaceChild has weird semantics\n    this.el.replaceChild(newChild.el, oldChild.el)\n    return this\n  }\n\n  empty() {\n    // http://jsperf.com/empty-an-element/4 suggests that this is the fastest way to\n    // clear an element\n    let el = this.el\n    while (el.lastChild) {\n      el.removeChild(el.lastChild)\n    }\n    return this\n  }\n\n  remove() {\n    if (this.el.parentNode) {\n      this.el.parentNode.removeChild(this.el)\n    }\n    return this\n  }\n\n  serialize() {\n    let outerHTML = this.el.outerHTML\n    if (isString(outerHTML)) {\n      return outerHTML\n    } else {\n      let xs = new window.XMLSerializer()\n      return xs.serializeToString(this.el)\n    }\n  }\n\n  isInDocument() {\n    let el = this.el\n    while(el) {\n      if (el.nodeType === window.Node.DOCUMENT_NODE) {\n        return true\n      }\n      el = el.parentNode\n    }\n  }\n\n  _replaceNativeEl(newEl) {\n    console.assert(newEl instanceof window.Node, \"Expecting a native element.\")\n    let oldEl = this.el\n    let parentNode = oldEl.parentNode\n    if (parentNode) {\n      parentNode.replaceChild(newEl, oldEl)\n    }\n    this.el = newEl\n    // HACK: we need the correct backlink\n    this.el._wrapper = this\n  }\n\n  _getChildNodeCount() {\n    return this.el.childNodes.length\n  }\n\n  focus() {\n    this.el.focus()\n    return this\n  }\n\n  blur() {\n    this.el.focus()\n    return this\n  }\n\n  click() {\n    this.el.click()\n    return this\n  }\n\n  getWidth() {\n    let rect = this.el.getClientRects()[0]\n    if (rect) {\n      return rect.width\n    } else {\n      return 0\n    }\n  }\n\n  getHeight() {\n    let rect = this.el.getClientRects()[0]\n    if (rect) {\n      return rect.height\n    } else {\n      return 0\n    }\n  }\n\n  getOffset() {\n    let rect = this.el.getBoundingClientRect()\n    return {\n      top: rect.top + document.body.scrollTop,\n      left: rect.left + document.body.scrollLeft\n    }\n  }\n\n  getPosition() {\n    return {left: this.el.offsetLeft, top: this.el.offsetTop}\n  }\n\n  getOuterHeight(withMargin) {\n    let outerHeight = this.el.offsetHeight\n    if (withMargin) {\n      let style = this.getComputedStyle()\n      outerHeight += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10)\n    }\n    return outerHeight\n  }\n\n}\n\nDOMElement._defineProperties(BrowserDOMElement, DOMElement._propertyNames)\n\nBrowserDOMElement.createTextNode = function(text) {\n  return BrowserDOMElement.wrapNativeElement(\n    window.document.createTextNode(text)\n  )\n}\n\nBrowserDOMElement.createElement = function(tagName) {\n  return BrowserDOMElement.wrapNativeElement(\n    window.document.createElement(tagName)\n  )\n}\n\nBrowserDOMElement.parseMarkup = function(str, format, isFullDoc) {\n  let nativeEls = []\n  let doc\n  if (!str) {\n    // Create an empty XML document\n    if (format === 'xml') {\n      doc = (new window.DOMParser()).parseFromString('<dummy/>', 'text/xml')\n    } else {\n      doc = (new window.DOMParser()).parseFromString('<html></html>', 'text/html')\n    }\n    return new BrowserDOMElement(doc)\n  } else {\n    let parser = new window.DOMParser()\n    if (format === 'html') {\n      isFullDoc = (str.search(/<\\s*html/i)>=0)\n      doc = parser.parseFromString(str, 'text/html')\n    } else if (format === 'xml') {\n      doc = parser.parseFromString(str, 'text/xml')\n    }\n    if (doc) {\n      let parserError = doc.querySelector('parsererror')\n      if (parserError) {\n        throw new Error(\"ParserError: could not parse \" + str)\n      }\n      if (format === 'html') {\n        if (isFullDoc) {\n          nativeEls = [doc.querySelector('html')]\n        } else {\n          // if the provided html is just a partial\n          // then DOMParser still creates a full document\n          // thus we pick the body and provide its content\n          let body = doc.querySelector('body')\n          nativeEls = body.childNodes\n        }\n      } else if (format === 'xml') {\n        if (isFullDoc) {\n          nativeEls = [doc]\n        } else {\n          nativeEls = doc.childNodes\n        }\n      }\n    } else {\n      throw new Error('Could not parse DOM string.')\n    }\n  }\n  let elements = Array.prototype.map.call(nativeEls, function(el) {\n    return new BrowserDOMElement(el)\n  })\n  if (elements.length === 1) {\n    return elements[0]\n  } else {\n    return elements\n  }\n}\n\nclass TextNode extends DOMElement.TextNode {\n  constructor(nativeEl) {\n    super()\n    console.assert(nativeEl instanceof window.Node && nativeEl.nodeType === 3, \"Expecting native TextNode.\")\n    this.el = nativeEl\n    nativeEl._wrapper = this\n\n    let methods = [\n      'getParent', 'getNextSibling', 'getPreviousSibling',\n      'getTextContent', 'setTextContent',\n      'getInnerHTML', 'setInnerHTML', 'getOuterHTML',\n      'getNativeElement', 'clone'\n    ]\n\n    methods.forEach(function(name) {\n      this[name] = BrowserDOMElement.prototype[name]\n    }.bind(this))\n  }\n\n  get _isBrowserDOMElement() {\n    return true\n  }\n}\n\nDOMElement._defineProperties(TextNode, ['nodeType', 'textContent', 'innerHTML', 'outerHTML', 'parentNode'])\n\nBrowserDOMElement.TextNode = TextNode\n\nBrowserDOMElement.wrapNativeElement = function(el) {\n  if (el) {\n    if (el._wrapper) {\n      return el._wrapper\n    } else if (el instanceof window.Node) {\n      if (el.nodeType === 3) {\n        return new TextNode(el)\n      } else {\n        return new BrowserDOMElement(el)\n      }\n    } else if (el === window) {\n      return BrowserDOMElement.getBrowserWindow()\n    }\n  } else {\n    return null\n  }\n}\n\n/*\n  Wrapper for the window element only exposing the eventlistener API.\n*/\nclass BrowserWindow {\n  constructor() {\n    this.el = window\n    window.__BrowserDOMElementWrapper__ = this\n    this.eventListeners = []\n    this.getEventListeners = BrowserDOMElement.prototype.getEventListeners\n  }\n\n  on() {\n    return BrowserDOMElement.prototype.on.apply(this, arguments)\n  }\n\n  off() {\n    return BrowserDOMElement.prototype.off.apply(this, arguments)\n  }\n\n  addEventListener() {\n    return BrowserDOMElement.prototype.addEventListener.apply(this, arguments)\n  }\n\n  removeEventListener() {\n    return BrowserDOMElement.prototype.removeEventListener.apply(this, arguments)\n  }\n}\n\n\nBrowserDOMElement.getBrowserWindow = function() {\n  if (window.__BrowserDOMElementWrapper__) return window.__BrowserDOMElementWrapper__\n  return new BrowserWindow(window)\n}\n\nlet _r1\nlet _r2\n\nBrowserDOMElement.isReverse = function(anchorNode, anchorOffset, focusNode, focusOffset) {\n  // the selection is reversed when the focus propertyEl is before\n  // the anchor el or the computed charPos is in reverse order\n  if (focusNode && anchorNode) {\n    if (!_r1) {\n      _r1 = window.document.createRange()\n      _r2 = window.document.createRange()\n    }\n    _r1.setStart(anchorNode.getNativeElement(), anchorOffset)\n    _r2.setStart(focusNode.getNativeElement(), focusOffset)\n    let cmp = _r1.compareBoundaryPoints(window.Range.START_TO_START, _r2)\n    if (cmp === 1) {\n      return true\n    }\n  }\n  return false\n}\n\nBrowserDOMElement.getWindowSelection = function() {\n  let nativeSel = window.getSelection()\n  let result = {\n    anchorNode: BrowserDOMElement.wrapNativeElement(nativeSel.anchorNode),\n    anchorOffset: nativeSel.anchorOffset,\n    focusNode: BrowserDOMElement.wrapNativeElement(nativeSel.focusNode),\n    focusOffset: nativeSel.focusOffset\n  }\n  return result\n}\n\nfunction matches(el, selector) {\n  let elProto = window.Element.prototype\n  let _matches = (\n    elProto.matches || elProto.matchesSelector ||\n    elProto.msMatchesSelector || elProto.webkitMatchesSelector\n  )\n  return _matches.call(el, selector)\n}\n\nexport default BrowserDOMElement\n","export default {}","import isString from '../util/isString'\nimport last from '../util/last'\nimport { extend, clone } from 'lodash-es'\nimport $ from 'substance-cheerio'\nimport EventEmitter from '../util/EventEmitter'\nimport DOMElement from './DOMElement'\n\nclass CheerioDOMElement extends DOMElement {\n\n  constructor(el) {\n    super()\n\n    this.el = el\n    this.$el = $(el)\n    el._wrapper = this\n    this.htmlProps = {}\n  }\n\n  get _isCheerioDOMElement() {\n    return true\n  }\n\n  getNativeElement() {\n    return this.el\n  }\n\n  _wrapNativeElement(el) {\n    if (el._wrapper) {\n      return el._wrapper\n    } else {\n      return new CheerioDOMElement(el)\n    }\n  }\n\n  hasClass(className) {\n    return this.$el.hasClass(className)\n  }\n\n  addClass(className) {\n    this.$el.addClass(className)\n    return this\n  }\n\n  removeClass(className) {\n    this.$el.removeClass(className)\n    return this\n  }\n\n  getClasses() {\n    return this.$el.attr('class')\n  }\n\n  setClasses(classString) {\n    this.$el.attr('class', classString)\n    return this\n  }\n\n  getAttribute(name) {\n    return this.$el.attr(name)\n  }\n\n  setAttribute(name, value) {\n    this.$el.attr(name, value)\n    return this\n  }\n\n  removeAttribute(name) {\n    this.$el.removeAttr(name)\n    return this\n  }\n\n  getAttributes() {\n    let attributes = clone(this.el.attribs)\n    return attributes\n  }\n\n  getProperty(name) {\n    return this.$el.prop(name)\n  }\n\n  setProperty(name, value) {\n    this.htmlProps[name] = value\n    this.$el.prop(name, value)\n    return this\n  }\n\n  // TODO: verify that this.el[name] is correct\n  removeProperty(name) {\n    delete this.htmlProps[name]\n    delete this.el[name]\n    return this\n  }\n\n  getTagName() {\n    if (this.el.type !== 'tag') {\n      return \"\"\n    } else {\n      return this.el.name.toLowerCase()\n    }\n  }\n\n  setTagName(tagName) {\n    let newEl = $._createElement(tagName, this.el.root)\n    let $newEl = $(newEl)\n    $newEl.html(this.$el.html())\n    newEl.attribs = extend({}, this.el.attribs)\n    this._replaceNativeEl(newEl)\n    return this\n  }\n\n  getId() {\n    return this.$el.attr('id')\n  }\n\n  setId(id) {\n    this.$el.attr('id', id)\n    return this\n  }\n\n  getTextContent() {\n    return this.$el.text()\n  }\n\n  setTextContent(text) {\n    this.$el.text(text)\n    return this\n  }\n\n  getInnerHTML() {\n    return this.$el.html()\n  }\n\n  setInnerHTML(html) {\n    this.$el.html(html)\n    return this\n  }\n\n  getOuterHTML() {\n    // TODO: this is not really jquery\n    return $._serialize(this.el)\n  }\n\n  getValue() {\n    return this.$el.val()\n  }\n\n  setValue(value) {\n    this.$el.val(value)\n    return this\n  }\n\n  getStyle(name) {\n    return this.$el.css(name)\n  }\n\n  setStyle(name, value) {\n    this.$el.css(name, value)\n    return this\n  }\n\n  addEventListener() {\n    return this\n  }\n\n  removeEventListener() {\n    return this\n  }\n\n  removeAllEventListeners() {\n    return this\n  }\n\n  getEventListeners() {\n    return []\n  }\n\n  getChildCount() {\n    return this.el.children.length\n  }\n\n  getChildNodes() {\n    let childNodes = this.el.children\n    childNodes = childNodes.map(function(node) {\n      return this._wrapNativeElement(node)\n    }.bind(this))\n    return childNodes\n  }\n\n  getChildren() {\n    let children = this.el.children\n    children = children.filter(function(node) {\n      return node.type === \"tag\"\n    })\n    children = children.map(function(node) {\n      return this._wrapNativeElement(node)\n    }.bind(this))\n    return children\n  }\n\n  getChildAt(pos) {\n    return this._wrapNativeElement(this.el.children[pos])\n  }\n\n  getChildIndex(child) {\n    if (!child._isCheerioDOMElement) {\n      throw new Error('Expecting a CheerioDOMElement instance.')\n    }\n    return this.el.children.indexOf(child.el)\n  }\n\n  getFirstChild() {\n    let firstChild = this.el.children[0]\n    if (firstChild) {\n      return CheerioDOMElement.wrapNativeElement(firstChild)\n    } else {\n      return null\n    }\n  }\n\n  getLastChild() {\n    let lastChild = last(this.el.children)\n    if (lastChild) {\n      return CheerioDOMElement.wrapNativeElement(lastChild)\n    } else {\n      return null\n    }\n  }\n\n  getNextSibling() {\n    var next = this.el.next;\n    if (next) {\n      return CheerioDOMElement.wrapNativeElement(next)\n    } else {\n      return null\n    }\n  }\n\n  getPreviousSibling() {\n    let previous = this.el.previous\n    if (previous) {\n      return CheerioDOMElement.wrapNativeElement(previous)\n    } else {\n      return null\n    }\n  }\n\n  isTextNode() {\n    // cheerio specific\n    return this.el.type === \"text\"\n  }\n\n  isElementNode() {\n    // cheerio specific\n    return this.el.type === \"tag\" || this.el.type === \"script\"\n  }\n\n  isCommentNode() {\n    // cheerio specific\n    return this.el.type === \"comment\"\n  }\n\n  isDocumentNode() {\n    return this.el === this.el.root\n  }\n\n  clone() {\n    let clone = this.$el.clone()[0]\n    return this._wrapNativeElement(clone)\n  }\n\n  createElement(tagName) {\n    let el = $._createElement(tagName, this.el.root)\n    return this._wrapNativeElement(el)\n  }\n\n  createTextNode(text) {\n    let el = $._createTextNode(text)\n    return this._wrapNativeElement(el)\n  }\n\n  is(cssSelector) {\n    // Note: unfortunately there is no cross-browser supported selectr matcher\n    // Element.matches is not supported by all (mobile) browsers\n    return this.$el.is(cssSelector)\n  }\n\n  getParent() {\n    let parent = this.el.parent\n    if (parent) {\n      return this._wrapNativeElement(parent)\n    } else {\n      return null\n    }\n  }\n\n  getRoot() {\n    let el = this.el\n    let parent = el\n    while (parent) {\n      el = parent\n      parent = el.parent\n    }\n    return this._wrapNativeElement(el)\n  }\n\n  find(cssSelector) {\n    let result = this.$el.find(cssSelector)\n    if (result.length > 0) {\n      return this._wrapNativeElement(result[0])\n    } else {\n      return null\n    }\n  }\n\n  findAll(cssSelector) {\n    let found = this.$el.find(cssSelector)\n    let result = []\n    if (found.length > 0) {\n      found.each(function(_, el) {\n        result.push(this._wrapNativeElement(el))\n      }.bind(this))\n    }\n    return result\n  }\n\n  _normalizeChild(child) {\n    if (isString(child)) {\n      child = this.createTextNode(child)\n    }\n    if (child._wrapper) {\n      child = child._wrapper\n    }\n    if (!child || !child._isCheerioDOMElement) {\n      throw new Error('Illegal argument: only String and CheerioDOMElement instances are valid.')\n    }\n    console.assert(child.el._wrapper === child, \"Expecting a backlink between native element and CheerioDOMElement\")\n    return child.getNativeElement()\n  }\n\n  appendChild(child) {\n    child = this._normalizeChild(child)\n    this.el.children.push(child)\n    child.parent = this.el\n    return this\n  }\n\n  insertAt(pos, child) {\n    child = this._normalizeChild(child)\n    let children = this.el.children\n    // NOTE: manipulating cheerio's internal children array\n    // as otherwise cheerio clones the element loosing our custom data\n    if (pos >= children.length) {\n      children.push(child)\n    } else {\n      children.splice(pos, 0, child)\n    }\n    child.parent = this.el\n    return this\n  }\n\n  insertBefore(child, before) {\n    let pos = this.el.children.indexOf(before.el)\n    if (pos > -1) {\n      return this.insertAt(pos, child)\n    } else {\n      throw new Error('insertBefore(): reference node is not a child of this element.')\n    }\n  }\n\n  removeAt(pos) {\n    if (pos < 0 || pos >= this.el.children.length) {\n      throw new Error('removeAt(): Index out of bounds.')\n    }\n    // NOTE: again manipulating cheerio's internal children array --\n    // it works.\n    let child = this.el.children[pos]\n    child.parent = null\n    this.el.children.splice(pos, 1)\n    return this\n  }\n\n  removeChild(child) {\n    if (!child || !child._isCheerioDOMElement) {\n      throw new Error('removeChild(): Illegal arguments. Expecting a CheerioDOMElement instance.')\n    }\n    let idx = this.el.children.indexOf(child.el)\n    if (idx < 0) {\n      throw new Error('removeChild(): element is not a child.')\n    }\n    this.removeAt(idx)\n    return this\n  }\n\n  replaceChild(oldChild, newChild) {\n    if (!newChild || !oldChild ||\n        !newChild._isCheerioDOMElement || !oldChild._isCheerioDOMElement) {\n      throw new Error('replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.')\n    }\n    let idx = this.el.children.indexOf(oldChild.el)\n    if (idx > -1) {\n      this.removeAt(idx)\n      this.insertAt(idx, newChild.el)\n    }\n    return this\n  }\n\n  empty() {\n    this.$el.empty()\n    return this\n  }\n\n  remove() {\n    this.$el.remove()\n    return this\n  }\n\n  _replaceNativeEl(newEl) {\n    let $newEl = $(newEl)\n    this.$el.replaceWith($newEl)\n    this.el = newEl\n    this.$el = $newEl\n    // HACK: we need the correct backlink\n    this.el._wrapper = this\n  }\n\n  isInDocument() {\n    let el = this.el\n    while (el) {\n      if (el === el.root) {\n        return true\n      }\n      el = el.parent\n    }\n    return false\n  }\n\n  click() {\n    this.emit('click')\n  }\n\n}\n\nEventEmitter.mixin(CheerioDOMElement)\n\nDOMElement._defineProperties(CheerioDOMElement, DOMElement._propertyNames);\n\nCheerioDOMElement.createTextNode = function(text) {\n  return CheerioDOMElement.wrapNativeElement(\n    $._createTextNode(text)\n  )\n}\n\nCheerioDOMElement.createElement = function(tagName) {\n  return CheerioDOMElement.wrapNativeElement(\n    $('<' + tagName + '>')[0]\n  )\n}\n\nCheerioDOMElement.parseMarkup = function(str, format) {\n  let nativeEls = []\n  let doc;\n\n  if (!str) {\n    // Create an empty XML document\n    if (format === 'xml') {\n      doc = $.parseXML('')\n    } else {\n      doc = $.parseHTML('')\n    }\n    return new CheerioDOMElement(doc)\n  } else {\n    if (format === 'xml') {\n      nativeEls = $.parseXML(str)\n    } else {\n      nativeEls = $.parseHTML(str)\n    }\n  }\n  let elements = nativeEls.map(function(el) {\n    return new CheerioDOMElement(el)\n  });\n  if (elements.length === 1) {\n    return elements[0]\n  } else {\n    return elements\n  }\n}\n\nCheerioDOMElement.wrapNativeElement = function(el) {\n  if (el._wrapper) {\n    return el._wrapper\n  } else {\n    return new CheerioDOMElement(el)\n  }\n}\n\nexport default CheerioDOMElement\n","import inBrowser from '../util/inBrowser'\nimport BrowserDOMElement from './BrowserDOMElement.js'\nimport CheerioDOMElement from './CheerioDOMElement.js'\n\nlet DOMElementImpl\n\nif (inBrowser) {\n  DOMElementImpl = BrowserDOMElement\n} else {\n  DOMElementImpl = CheerioDOMElement\n}\n\nlet DefaultDOMElement = {}\n\nDefaultDOMElement.createTextNode = function(text) {\n  return DOMElementImpl.createTextNode(text)\n}\n\nDefaultDOMElement.createElement = function(tagName) {\n  return DOMElementImpl.createElement(tagName)\n}\n\nDefaultDOMElement._create = function(el) {\n  return new DOMElementImpl(el)\n}\n\n/*\n  A wrapper for Browser's `window` providing\n  the DOMElement's eventlistener API.\n*/\nDefaultDOMElement.getBrowserWindow = function() {\n  if (inBrowser) {\n    return DOMElementImpl.getBrowserWindow()\n  } else {\n    // just a stub if not in browser\n    return DefaultDOMElement.createElement('div')\n  }\n}\n\n/*\n  @param {String} html\n  @returns {DOMElement|DOMElement[]}\n*/\nDefaultDOMElement.parseHTML = function(html) {\n  return DOMElementImpl.parseMarkup(html, 'html')\n}\n\n/*\n  @param {String} xml\n  @returns {DOMElement|DOMElement[]}\n*/\nDefaultDOMElement.parseXML = function(xml, fullDoc) {\n  return DOMElementImpl.parseMarkup(xml, 'xml', fullDoc)\n}\n\nDefaultDOMElement.wrapNativeElement = function(el) {\n  if (el) {\n    if (inBrowser && (el instanceof window.Node || el === window) ) {\n      return BrowserDOMElement.wrapNativeElement(el)\n    } else if (el.root && el.root.type === \"root\" ) {\n      return CheerioDOMElement.wrapNativeElement(el)\n    }\n  } else {\n    return null\n  }\n}\n\nDefaultDOMElement.isReverse = function(anchorNode, anchorOffset, focusNode, focusOffset) {\n  if (inBrowser ) {\n    return BrowserDOMElement.isReverse(anchorNode, anchorOffset, focusNode, focusOffset)\n  } else {\n    throw new Error('Not implemented.')\n  }\n}\n\nexport default DefaultDOMElement\n","import { forEach } from 'lodash-es'\nimport uuid from '../util/uuid'\nimport substanceGlobals from '../util/substanceGlobals'\nimport VirtualElement from './VirtualElement'\nimport DefaultDOMElement from './DefaultDOMElement'\nimport Component from './Component'\n\nclass RenderingEngine {\n  _render(comp, oldProps, oldState) {\n    // var t0 = Date.now();\n    var vel = _createWrappingVirtualComponent(comp);\n    var state = new RenderingEngine.State();\n    if (oldProps) {\n      state.setOldProps(vel, oldProps);\n    }\n    if (oldState) {\n      state.setOldState(vel, oldState);\n    }\n    try {\n      _capture(state, vel, 'forceCapture');\n      if (vel._isVirtualComponent) {\n        _render(state, vel._content);\n      } else {\n        _render(state, vel);\n      }\n      _triggerUpdate(state, vel);\n    } finally {\n      state.dispose();\n    }\n    // console.log(\"RenderingEngine: finished rendering in %s ms\", Date.now()-t0);\n  }\n\n  // this is used together with the incremental Component API\n  _renderChild(comp, vel) {\n    // HACK: to make this work with the rest of the implementation\n    // we ingest a fake parent\n    var state = new RenderingEngine.State();\n    vel.parent = { _comp: comp };\n    try {\n      _capture(state, vel);\n      _render(state, vel);\n      return vel._comp;\n    } finally {\n      state.dispose();\n    }\n  }\n}\n\n\nfunction _create(state, vel) {\n  var comp = vel._comp;\n  console.assert(!comp, \"Component instance should not exist when this method is used.\");\n  var parent = vel.parent._comp;\n  // making sure the parent components have been instantiated\n  if (!parent) {\n    parent = _create(state, vel.parent);\n  }\n  if (vel._isVirtualComponent) {\n    console.assert(parent, \"A Component should have a parent.\");\n    comp = new vel.ComponentClass(parent, vel.props);\n    // HACK: making sure that we have the right props\n    vel.props = comp.props\n    comp.__htmlConfig__ = vel._copyHTMLConfig();\n  } else if (vel._isVirtualHTMLElement) {\n    comp = new Component.Element(parent, vel);\n  } else if (vel._isVirtualTextNode) {\n    comp = new Component.TextNode(parent, vel);\n  }\n  if (vel._ref) {\n    comp._ref = vel._ref;\n  }\n  if (vel._owner) {\n    comp._owner = vel._owner._comp;\n  }\n  vel._comp = comp;\n  return comp;\n}\n\nfunction _capture(state, vel, forceCapture) {\n  if (state.isCaptured(vel)) {\n    return vel;\n  }\n  // a captured VirtualElement has a component instance attached\n  var comp = vel._comp;\n  if (!comp) {\n    comp = _create(state, vel);\n    state.setNew(vel);\n  }\n  if (vel._isVirtualComponent) {\n    var needRerender;\n    // NOTE: forceCapture is used for the first entrance\n    // from this.render(comp) where we want to fource capturing\n    // as it has already been cleared that a rerender is necessary\n    if (forceCapture) {\n      needRerender = true;\n    } else {\n      // NOTE: don't ask shouldRerender if no element is there yet\n      needRerender = !comp.el || comp.shouldRerender(vel.props, comp.state);\n      comp.__htmlConfig__ = vel._copyHTMLConfig();\n      state.setOldProps(vel, comp.props);\n      state.setOldState(vel, comp.state);\n      // updates prop triggering willReceiveProps\n      comp._setProps(vel.props);\n      if (!state.isNew(vel)) {\n        state.setUpdated(vel);\n      }\n    }\n    if (needRerender) {\n      var context = new CaptureContext(vel);\n      var content = comp.render(context.$$);\n      if (!content || !content._isVirtualHTMLElement) {\n        throw new Error(\"Component.render must return VirtualHTMLElement\");\n      }\n\n      if (comp.__htmlConfig__) {\n        content._mergeHTMLConfig(comp.__htmlConfig__);\n      }\n      content._comp = comp;\n      vel._content = content;\n      if (!state.isNew(vel) && comp.isMounted()) {\n        state.setUpdated(vel);\n      }\n      // Mapping: map virtual elements to existing components based on refs\n      _prepareVirtualComponent(state, comp, content);\n      // Descending\n      // TODO: only do this in DEBUG mode\n      if (substanceGlobals.DEBUG_RENDERING) {\n        // in this case we use the render() function as iterating function, where\n        // $$ is a function which creates components and renders them recursively.\n        // first we can create all element components that can be reached\n        // without recursion\n        var stack = content.children.slice(0);\n        while (stack.length) {\n          var child = stack.shift();\n          if (state.isCaptured(child)) continue\n          // virtual components are addressed via recursion, not captured here\n          if (child._isVirtualComponent) continue\n          if (!child._comp) {\n            _create(state, child);\n          }\n          if (child._isVirtualHTMLElement && child.children.length > 0) {\n            stack = stack.concat(child.children);\n          }\n          state.setCaptured(child);\n        }\n        state.setCaptured(content);\n        // then we run comp.render($$) with a special $$ that captures VirtualComponent's\n        // recursively\n        var descendingContext = new DescendingContext(state, context);\n        while (descendingContext.hasPendingCaptures()) {\n          descendingContext.reset();\n          comp.render(descendingContext.$$);\n        }\n      } else {\n        // a VirtualComponent has its content as a VirtualHTMLElement\n        // which needs to be captured recursively\n        _capture(state, vel._content);\n      }\n    } else {\n      state.setSkipped(vel);\n    }\n  } else if (vel._isVirtualHTMLElement) {\n    for (var i = 0; i < vel.children.length; i++) {\n      _capture(state, vel.children[i]);\n    }\n  }\n  state.setCaptured(vel);\n  return vel;\n}\n\nfunction _render(state, vel) {\n  if (state.isSkipped(vel)) return;\n\n  // before changes can be applied, a VirtualElement must have been captured\n  // FIXME: with DEBUG_RENDERING we are having troubles with this assumption.\n  // It happens when the rerendered component is having children injected from its parent.\n  // Then the parent is no rerendered this, these injected components are not recaptured, and this assertion does not hold.\n  // However, it seems not to be critical, as these components don't need to be rerendered\n  // Still we should find a consistent way\n\n  var comp = vel._comp;\n  console.assert(comp && comp._isComponent, \"A captured VirtualElement must have a component instance attached.\");\n\n  // VirtualComponents apply changes to its content element\n  if (vel._isVirtualComponent) {\n    _render(state, vel._content);\n    return;\n  }\n  // render the element\n  if (!comp.el) {\n    comp.el = _createElement(vel);\n    comp.el._comp = comp;\n  }\n  _updateElement(comp, vel);\n\n  // structural updates are necessary only for HTML elements (without innerHTML set)\n  if (vel._isVirtualHTMLElement && !vel.hasInnerHTML()) {\n    var newChildren = vel.children;\n    var oldComp, virtualComp, newComp;\n    var pos1 = 0; var pos2 = 0;\n\n    // HACK: removing all childNodes that are not owned by a component\n    // this happened in Edge every 1s. Don't know why.\n    // With this implementation all external DOM mutations will be eliminated\n    var oldChildren = [];\n    comp.el.getChildNodes().forEach(function(node) {\n      var childComp = node._comp;\n\n      // TODO: to allow mounting a prerendered DOM element\n      // we would need to allow to 'take ownership' instead of removing\n      // the element. This being a special situation, we should only\n      // do that when mounting\n\n      // remove orphaned nodes and relocated components\n      if (!childComp || state.isRelocated(childComp)) {\n        comp.el.removeChild(node);\n      } else {\n        oldChildren.push(childComp);\n      }\n    });\n\n    while(pos1 < oldChildren.length || pos2 < newChildren.length) {\n      // skip detached components\n      // Note: components get detached when preserved nodes\n      // are found in a swapped order. Then the only way is\n      // to detach one of them from the DOM, and reinsert it later at the new position\n      do {\n        oldComp = oldChildren[pos1++];\n      } while (oldComp && (state.isDetached(oldComp)));\n\n      virtualComp = newChildren[pos2++];\n      // remove remaining old ones if no new one is left\n      if (oldComp && !virtualComp) {\n        while (oldComp) {\n          _removeChild(state, comp, oldComp);\n          oldComp = oldChildren[pos1++];\n        }\n        break;\n      }\n\n      // Try to reuse TextNodes to avoid unnecesary DOM manipulations\n      if (oldComp && oldComp.el.isTextNode() &&\n          virtualComp && virtualComp._isVirtualTextNode &&\n          oldComp.el.textContent === virtualComp.text ) {\n        continue;\n      }\n\n      if (!state.isRendered(virtualComp)) {\n        _render(state, virtualComp);\n      }\n\n      newComp = virtualComp._comp;\n\n      // ATTENTION: relocating a component does not update its context\n      if (state.isRelocated(newComp)) {\n        newComp._setParent(comp);\n      }\n\n      console.assert(newComp, 'Component instance should now be available.');\n      // append remaining new ones if no old one is left\n      if (virtualComp && !oldComp) {\n        _appendChild(state, comp, newComp);\n        continue;\n      }\n      // Differential update\n      else if (state.isMapped(virtualComp)) {\n        // identity\n        if (newComp === oldComp) {\n          // no structural change\n        } else {\n          // the order of elements with ref has changed\n          state.setDetached(oldComp);\n          _removeChild(state, comp, oldComp);\n          pos2--;\n        }\n      }\n      else if (state.isMapped(oldComp)) {\n        _insertChildBefore(state, comp, newComp, oldComp);\n        pos1--;\n      } else {\n        // both elements are not mapped\n        // TODO: we could try to reuse components if they are of same type\n        // However, this needs a better mapping strategy, not only\n        // based on refs.\n        _replaceChild(state, comp, oldComp, newComp);\n      }\n    }\n  }\n\n  // HACK: a temporary solution to handle refs owned by an ancestor\n  // is to store them here as well, so that we can map virtual components\n  // efficiently\n  var refs = {};\n  var foreignRefs = {};\n  if (vel._context) {\n    forEach(vel._context.refs, function(vel, ref) {\n      refs[ref] = vel._comp;\n    });\n    forEach(vel._context.foreignRefs, function(vel, ref) {\n      foreignRefs[ref] = vel._comp;\n    });\n  }\n  comp.refs = refs;\n  comp.__foreignRefs__ = foreignRefs;\n\n  state.setRendered(vel);\n}\n\nfunction _triggerUpdate(state, vel) {\n  if (vel._isVirtualComponent) {\n    if (!state.isSkipped(vel)) {\n      vel._content.children.forEach(_triggerUpdate.bind(null, state));\n    }\n    if (state.isUpdated(vel)) {\n      vel._comp.didUpdate(state.getOldProps(vel), state.getOldState(vel));\n    }\n  } else if (vel._isVirtualHTMLElement) {\n    vel.children.forEach(_triggerUpdate.bind(null, state));\n  }\n}\n\nfunction _appendChild(state, parent, child) {\n  parent.el.appendChild(child.el);\n  _triggerDidMount(state, parent, child);\n}\n\nfunction _replaceChild(state, parent, oldChild, newChild) {\n  parent.el.replaceChild(oldChild.el, newChild.el);\n  if (!state.isDetached(oldChild)) {\n    oldChild.triggerDispose();\n  }\n  _triggerDidMount(state, parent, newChild);\n}\n\nfunction _insertChildBefore(state, parent, child, before) {\n  parent.el.insertBefore(child.el, before.el);\n  _triggerDidMount(state, parent, child);\n}\n\nfunction _removeChild(state, parent, child) {\n  parent.el.removeChild(child.el);\n  if (!state.isDetached(child)) {\n    child.triggerDispose();\n  }\n}\n\nfunction _triggerDidMount(state, parent, child) {\n  if (!state.isDetached(child) &&\n      parent.isMounted() && !child.isMounted()) {\n    child.triggerDidMount(true);\n  }\n}\n\n/*\n  Prepares a new virtual component by comparing it with\n  the old version.\n\n  It sets the _comp references in the new version where its ancestors\n  can be mapped to corresponding virtual components in the old version.\n*/\nfunction _prepareVirtualComponent(state, comp, vc) {\n  var newRefs = {};\n  var foreignRefs = {};\n  // TODO: iron this out. refs are stored on the context\n  // though, it would be cleaner if they were on the VirtualComponent\n  // Where vc._owner would need to be a VirtualComponent and not a\n  // component.\n  if (vc._context) {\n    newRefs = vc._context.refs;\n    foreignRefs = vc._context.foreignRefs;\n  }\n  var oldRefs = comp.refs;\n  var oldForeignRefs = comp.__foreignRefs__;\n  // map virtual components to existing ones\n  forEach(newRefs, function(vc, ref) {\n    var comp = oldRefs[ref];\n    if (comp) _mapComponents(state, comp, vc);\n  });\n  forEach(foreignRefs, function(vc, ref) {\n    var comp = oldForeignRefs[ref];\n    if (comp) _mapComponents(state, comp, vc);\n  });\n}\n\n/*\n  This tries to map the virtual component to existing component instances\n  by looking at the old and new refs, making sure that the element type is\n  compatible.\n  This is then applied to the ancestors leading to an implicit\n  mapping of parent elements, which makes\n*/\n\nfunction _mapComponents(state, comp, vc) {\n  if (!comp && !vc) return true;\n  if (!comp || !vc) return false;\n  // Stop if one them has been mapped already\n  // or the virtual element has its own component already\n  // or if virtual element and component do not match semantically\n  // Note: the owner component is mapped at very first, so this\n  // recursion will stop at the owner at the latest.\n  if (state.isMapped(vc) || state.isMapped(comp)) {\n    return vc._comp === comp;\n  }\n  if (vc._comp) {\n    if (vc._comp === comp) {\n      state.setMapped(vc);\n      state.setMapped(comp);\n      return true;\n    } else {\n      return false;\n    }\n  }\n  if (!_isOfSameType(comp, vc)) {\n    return false;\n  }\n\n  vc._comp = comp;\n  state.setMapped(vc);\n  state.setMapped(comp);\n\n  var canMapParent;\n  var parent = comp.getParent();\n  if (vc.parent) {\n    canMapParent = _mapComponents(state, parent, vc.parent);\n  }\n  // to be able to support implicit retaining of elements\n  // we need to propagate mapping through the 'preliminary' parent chain\n  // i.e. not taking the real parents as rendered, but the Components into which\n  // we have passed children (via vel.append() or vel.outlet().append())\n  else if (vc._preliminaryParent) {\n    while (parent && parent._isElementComponent) {\n      parent = parent.getParent();\n    }\n    canMapParent = _mapComponents(state, parent, vc._preliminaryParent);\n  }\n  if (!canMapParent) {\n    state.setRelocated(vc);\n    state.setRelocated(comp);\n  }\n  return canMapParent;\n}\n\nfunction _isOfSameType(comp, vc) {\n  return (\n    (comp._isElementComponent && vc._isVirtualHTMLElement) ||\n    (comp._isComponent && vc._isVirtualComponent && comp.constructor === vc.ComponentClass) ||\n    (comp._isTextNodeComponent && vc._isVirtualTextNode)\n  );\n}\n\nfunction _createElement(vel) {\n  var el;\n  // TODO: we need a element factory here\n  // this is fine as long we have only one DOMElement implementation per platform\n  if (vel._isVirtualTextNode) {\n    el = DefaultDOMElement.createTextNode(vel.text);\n  } else {\n    el = DefaultDOMElement.createElement(vel.tagName);\n  }\n  return el;\n}\n\nfunction _updateElement(comp, vel) {\n  if (comp._isTextNodeComponent) {\n    comp.setTextContent(vel.text);\n    return;\n  }\n  var el = comp.el;\n  console.assert(el, \"Component's element should exist at this point.\");\n  var tagName = el.getTagName();\n  if (vel.tagName.toLowerCase() !== tagName) {\n    el.setTagName(vel.tagName);\n  }\n  _updateHash({\n    oldHash: el.getAttributes(),\n    newHash: vel.getAttributes(),\n    update: function(key, val) {\n      el.setAttribute(key, val);\n    },\n    remove: function(key) {\n      el.removeAttribute(key);\n    }\n  });\n  _updateHash({\n    oldHash: el.htmlProps,\n    newHash: vel.htmlProps,\n    update: function(key, val) {\n      el.setProperty(key, val);\n    },\n    remove: function(key) {\n      el.removeProperty(key);\n    }\n  });\n  _updateListeners({\n    el: el,\n    oldListeners: el.getEventListeners(),\n    newListeners: vel.getEventListeners()\n  });\n\n  // special treatment of HTML elements having custom innerHTML\n  if (vel.hasInnerHTML()) {\n    if (!el._hasInnerHTML) {\n      el.empty();\n      el.setInnerHTML(vel.getInnerHTML());\n    } else {\n      var oldInnerHTML = el.getInnerHTML();\n      var newInnerHTML = vel.getInnerHTML();\n      if (oldInnerHTML !== newInnerHTML) {\n        el.setInnerHTML(newInnerHTML);\n      }\n    }\n    el._hasInnerHTML = true;\n  }\n}\n\nfunction _updateHash(args) {\n  var newHash = args.newHash;\n  var oldHash = args.oldHash || {};\n  var updatedKeys = {};\n  var update = args.update;\n  var remove = args.remove;\n  var key;\n  for (key in newHash) {\n    if (newHash.hasOwnProperty(key)) {\n      var oldVal = oldHash[key];\n      var newVal = newHash[key];\n      updatedKeys[key] = true;\n      if (oldVal !== newVal) {\n        update(key, newVal);\n      }\n    }\n  }\n  for (key in oldHash) {\n    if (oldHash.hasOwnProperty(key) && !updatedKeys[key]) {\n      remove(key);\n    }\n  }\n}\n\nfunction _updateListeners(args) {\n  var el = args.el;\n  // NOTE: considering the low number of listeners\n  // it is quicker to just remove all\n  // and add again instead of computing the minimal update\n  var newListeners = args.newListeners || [];\n  el.removeAllEventListeners();\n  for (var i=0; i<newListeners.length;i++) {\n    el.addEventListener(newListeners[i]);\n  }\n}\n\n\n/*\n  Descending Context Used by RenderingEngine\n*/\n\nclass DescendingContext {\n  constructor(state, captureContext) {\n    this.state = state;\n    this.owner = captureContext.owner;\n    this.refs = {};\n    this.foreignRefs = {};\n    this.elements = captureContext.elements;\n    this.pos = 0;\n    this.updates = captureContext.components.length;\n    this.remaining = this.updates;\n\n    this.$$ = this._createComponent.bind(this);\n  }\n\n  _createComponent() {\n    var state = this.state;\n    var vel = this.elements[this.pos++];\n    // only capture VirtualComponent's with a captured parent\n    // all others have been captured at this point already\n    // or will either be captured by a different owner\n    if (!state.isCaptured(vel) && vel._isVirtualComponent &&\n         vel.parent && state.isCaptured(vel.parent)) {\n      _capture(state, vel);\n      this.updates++;\n      this.remaining--;\n    }\n    // Note: we return a new VirtualElement so that the render method does work\n    // as expected.\n    // TODO: instead of creating a new VirtualElement each time, we could return\n    // an immutable wrapper for the already recorded element.\n    vel = VirtualElement.createElement.apply(this, arguments);\n    // these variables need to be set make the 'ref()' API work\n    vel._context = this;\n    vel._owner = this.owner;\n    // Note: important to deactivate these methods as otherwise the captured\n    // element will be damaged when calling el.append()\n    vel._attach = function() {};\n    vel._detach = function() {};\n    return vel;\n  }\n\n  hasPendingCaptures() {\n    return this.updates > 0 && this.remaining > 0;\n  }\n\n  reset() {\n    this.pos = 0;\n    this.updates = 0;\n  }\n\n  _ancestorsReady(vel) {\n    while (vel) {\n      if (this.state.isCaptured(vel) ||\n          // TODO: iron this out\n          vel === this.owner || vel === this.owner._content) {\n        return true;\n      }\n      vel = vel.parent;\n    }\n    return false;\n  }\n\n\n}\n\n\n\nRenderingEngine._internal = {\n  _capture: _capture,\n  _wrap: _createWrappingVirtualComponent,\n};\n\n\n\nclass CaptureContext {\n  constructor(owner) {\n    this.owner = owner;\n    this.refs = {};\n    this.foreignRefs = {};\n    this.elements = [];\n    this.components = [];\n    this.$$ = this._createComponent.bind(this);\n    this.$$.capturing = true;\n  }\n\n  _createComponent() {\n    var vel = VirtualElement.createElement.apply(this, arguments);\n    vel._context = this;\n    vel._owner = this.owner;\n    if (vel._isVirtualComponent) {\n      // virtual components need to be captured recursively\n      this.components.push(vel);\n    }\n    this.elements.push(vel);\n    return vel;\n  }\n}\n\n\nfunction _createWrappingVirtualComponent(comp) {\n  var vel = new VirtualElement.Component(comp.constructor);\n  vel._comp = comp;\n  if (comp.__htmlConfig__) {\n    vel._mergeHTMLConfig(comp.__htmlConfig__);\n  }\n  return vel;\n}\n\nRenderingEngine.createContext = function(comp) {\n  var vel = _createWrappingVirtualComponent(comp);\n  return new CaptureContext(vel);\n};\n\n\nclass RenderingState {\n  constructor() {\n    this.poluted = [];\n    this.id = \"__\"+uuid();\n  }\n\n  dispose() {\n    var id = this.id;\n    this.poluted.forEach(function(obj) {\n      delete obj[id];\n    });\n  }\n\n  set(obj, key, val) {\n    var info = obj[this.id];\n    if (!info) {\n      info = {};\n      obj[this.id] = info;\n      this.poluted.push(obj);\n    }\n    info[key] = val;\n  }\n\n  get(obj, key) {\n    var info = obj[this.id];\n    if (info) {\n      return info[key];\n    }\n  }\n\n  setMapped(c) {\n    this.set(c, 'mapped', true);\n  }\n\n\n  isMapped(c) {\n    return Boolean(this.get(c, 'mapped'));\n  }\n\n  setRelocated(c) {\n    this.set(c, 'relocated', true);\n  }\n\n  isRelocated(c) {\n    return Boolean(this.get(c, 'relocated'));\n  }\n\n  setDetached(c) {\n    this.set(c, 'detached', true);\n  }\n\n  isDetached(c) {\n    return Boolean(this.get(c, 'detached'));\n  }\n\n  setCaptured(vc) {\n    this.set(vc, 'captured', true);\n  }\n\n  isCaptured(vc) {\n    return Boolean(this.get(vc, 'captured'));\n  }\n\n  setNew(vc) {\n    this.set(vc, 'created', true);\n  }\n\n  isNew(vc) {\n    return Boolean(this.get(vc, 'created'));\n  }\n\n  setUpdated(vc) {\n    this.set(vc, 'updated', true);\n  }\n\n  isUpdated(vc) {\n    return Boolean(this.get(vc, 'updated'));\n  }\n\n  setSkipped(vc) {\n    this.set(vc, 'skipped', true);\n  }\n\n  isSkipped(vc) {\n    return Boolean(this.get(vc, 'skipped'));\n  }\n\n  setRendered(vc) {\n    this.set(vc, 'rendered', true);\n  }\n\n  isRendered(vc) {\n    return Boolean(this.get(vc, 'rendered'));\n  }\n\n  setOldProps(vc, oldProps) {\n    this.set(vc, 'oldProps', oldProps);\n  }\n\n  getOldProps(vc) {\n    return this.get(vc, 'oldProps');\n  }\n\n  setOldState(vc, oldState) {\n    this.set(vc, 'oldState', oldState);\n  }\n\n  getOldState(vc) {\n    return this.get(vc, 'oldState');\n  }\n}\n\nRenderingEngine.State = RenderingState;\n\nexport default RenderingEngine;\n","import { extend, forEach, isString, isFunction } from 'lodash-es'\nimport EventEmitter from '../util/EventEmitter'\nimport RenderingEngine from './RenderingEngine'\nimport VirtualElement from './VirtualElement'\nimport DOMElement from './DOMElement'\nimport DefaultDOMElement from './DefaultDOMElement'\nimport inBrowser from '../util/inBrowser'\nimport uuid from '../util/uuid'\n\n/**\n  A light-weight component implementation inspired by\n  [React](https://facebook.github.io/react/) and [Ember](http://emberjs.com/).\n  In contrast to the large frameworks it does much less things automagically in\n  favour of synchronous rendering and a minimalistic life-cycle. It also\n  provides *up-tree* communication and *dependency injection*.\n\n  ### Why synchronous rendering?\n\n  Synchronous rendering, while it may *seem* less performant, is necessary\n  because substance must render the model, after it has changed before the next\n  change is triggered by the user.\n\n  Asynchronous rendering as it exists in React means that the UI will\n  eventually *catch* up to changes in the model. This is not acceptable in\n  substance because substance plays with contenteditable and thus, cursor\n  positions, etc are maintained in the browser's DOM. If we went the async way,\n  the cursor in the DOM would be briefly inconsistent with the cursor in the\n  model. In this brief window, changes triggered by the user would be impossible\n  to apply.\n\n  ### Concepts:\n\n  - `props` are provided by a parent component.  An initial set of properties is provided\n  via constructor. After that, the parent component can call `setProps` or `extendProps`\n  to update these properties which triggers rerendering if the properties change.\n\n  - `state` is a set of flags and values which are used to control how the component\n  gets rendered given the current props. Using `setState` the component can change\n  its internal state, which leads to a rerendering if the state changes.\n  Prefer using `extendState` rather than `setState`.\n\n    Normally, a component maintains its own state. It isn't recommended that a\n  parent pass in or update state. If you find the need for this, you should be\n  looking at `props`.\n\n    State would be useful in situations where the component itself controls some\n  aspect of rendering. Eg. whether a dropdown is open or not could be a state\n  within the dropdown component itself since no other component needs to know\n  it.\n\n  - A child component with a `ref` id will be reused on rerender. All others will be\n  wiped and rerender from scratch. If you want to preserve a grand-child (or lower), then\n  make sure that all anchestors have a ref id. After rendering the child will be\n  accessible via `this.refs[ref]`.\n\n  - A component can send actions via `send` which are bubbled up through all parent\n  components until one handles it. A component declares that it can handle an\n  action by calling the `handleActions` method on itself in the constructor or\n  the `didUpdate` lifecycle hook.\n\n  ### Lifecycle hooks\n\n  The {@link RenderingEngine} triggers a set of hooks for you to define behavior\n  in various stages of the rendering cycle. The names are pretty self\n  explanatory. If in doubt, please check out the method documentation below.\n\n  1. {@link Component#didMount}\n  1. {@link Component#didUpdate}\n  1. {@link Component#dispose}\n  1. {@link Component#willReceiveProps}\n  1. {@link Component#willUpdateState}\n\n  @implements EventEmitter\n\n  @example\n\n  Define a component:\n\n  ```\n  class HelloMessage extends Component {\n    render() {\n      return $$('div').append(\n        'Hello ',\n        this.props.name\n      )\n    }\n  }\n  ```\n\n  And mount it to a DOM Element:\n\n  ```\n  HelloMessage.mount({name: 'John'}, document.body)\n  ```\n*/\nclass Component extends DOMElement.Delegator {\n  /**\n    Construcutor is only used internally.\n\n    @param {Component} parent The parent component\n    @param {Object} props     Properties against which this class must\n                              be rendered the first time.\n  */\n  constructor(parent, props, el) {\n    super()\n\n    // HACK: allowing skipping execution of this ctor\n    if (arguments[0] === 'SKIP') return\n\n    this.__id__ = uuid()\n\n    this.parent = parent\n    this.el = el\n    this.refs = {}\n\n    // HACK: a temporary solution to handle refs owned by an ancestor\n    // is to store them here as well, so that we can map virtual components\n    // efficiently\n    this.__foreignRefs__ = {}\n    this._actionHandlers = {}\n\n    // context from parent (dependency injection)\n    this.context = this._getContext() || {}\n    Object.freeze(this.context)\n    // setting props without triggering willReceiveProps\n    this.props = props || {}\n    Object.freeze(this.props)\n    this.state = this.getInitialState() || {}\n    Object.freeze(this.state)\n  }\n\n  getId() {\n    return this.__id__\n  }\n\n  setId() {\n    throw new Error(\"'id' is readonly\")\n  }\n\n  /**\n    Provides the context which is delivered to every child component. Override\n    if you want to provide your own child context. Child context is available to\n    all components rendered from within this component's render method as\n    `this.context`.\n\n    @example\n\n    ```\n    class A extends Component {\n    ...\n      getChildContext() {\n        // Optional, but useful to merge super's context\n        return Object.assign({}, super.getChildContext(), {foo: 'bar'})\n      }\n\n      render($$) {\n        return $$(B)\n      }\n    }\n\n    class B extends Component {\n      render($$) {\n        // this.context.foo is available here\n      }\n    }\n    ```\n    Component\n\n    @return {Object} the child context\n  */\n  getChildContext() {\n    return this.childContext || {}\n  }\n\n  /**\n    Override this within your component to provide the initial state for the\n    component. This method is internally called by the\n    {@link RenderingEngine} and the state defined here is made available to\n    the {@link Component#render} method as this.state.\n\n    @return {Object} the initial state\n  */\n  getInitialState() {\n    return {}\n  }\n\n  /**\n    Provides the parent of this component.\n\n    @return {Component} the parent component or null if this component does not have a parent.\n  */\n  getParent() {\n    return this.parent\n  }\n\n  /**\n    Get the top-most Component. This the component mounted using\n    {@link ui/Component.mount}\n    @return {Component} The root component\n  */\n  getRoot() {\n    var comp = this\n    var parent = comp\n    while (parent) {\n      comp = parent\n      parent = comp.getParent()\n    }\n    return comp\n  }\n\n  getNativeElement() {\n    return this.el.getNativeElement()\n  }\n\n  /**\n    Short hand for using labelProvider API\n\n    @example\n\n    ```\n    render($$) {\n      let el = $$('div').addClass('sc-my-component')\n      el.append(this.getLabel('first-name'))\n      return el\n    }\n    ```\n  */\n  getLabel(name) {\n    let labelProvider = this.context.labelProvider\n    if (!labelProvider) throw new Error('Missing labelProvider.')\n    return labelProvider.getLabel(name)\n  }\n\n  /**\n    Get a component class for the component name provided. Use this within the\n    render method to render children nodes.\n\n    @example\n\n    ```\n    render($$) {\n      let el = $$('div').addClass('sc-my-component')\n      let caption = this.props.node.getCaption() // some method that returns a node\n      let CaptionClass = this.getComponent(caption.type)\n      el.append($$(CaptionClass, {node: caption}))\n      return el\n    }\n    ```\n\n    @param  {String} componentName The component's registration name\n    @param  {Boolean} maybe if `true` then does not throw when no Component is found\n    @return {Class}                The ComponentClass\n  */\n  getComponent(componentName, maybe) {\n    let componentRegistry = this.getComponentRegistry()\n    if (!componentRegistry) throw new Error('Missing componentRegistry.')\n    const ComponentClass = componentRegistry.get(componentName)\n    if (!maybe && !ComponentClass) {\n      throw new Error('No Component registered with name ' + componentName)\n    }\n    return ComponentClass\n  }\n\n  getComponentRegistry() {\n    return this.props.componentRegistry || this.context.componentRegistry\n  }\n\n  getFlow() {\n    return this.context.flow\n  }\n\n  /**\n    Render the component.\n\n    ATTENTION: this does not create a DOM presentation but\n    a virtual representation which is compiled into a DOM element later.\n\n    Every Component should override this method.\n\n    @param {Function} $$ method to create components\n    @return {VirtualNode} VirtualNode created using {@param $$}\n  */\n  render($$) {\n    /* istanbul ignore next */\n    return $$('div')\n  }\n\n  /**\n    Mount a component to the DOM.\n\n    @example\n\n    ```\n    var app = Texture.mount({\n      configurator: configurator,\n      documentId: 'elife-15278'\n    }, document.body)\n    ```\n  */\n  mount(el) {\n    if (!el) {\n      throw new Error('Element is required.')\n    }\n    if (!this.el) {\n      this._render()\n    }\n    if (!el._isDOMElement) {\n      el = DefaultDOMElement.wrapNativeElement(el)\n    }\n    el.appendChild(this.el)\n    if (el.isInDocument()) {\n      this.triggerDidMount(true)\n    }\n    return this\n  }\n\n  /**\n    Determines if Component should be rendered again using {@link ui/Component#rerender}\n    after changing props. For comparisons, you can use `this.props` and\n    `newProps`.\n\n    The default implementation simply returns true.\n\n    @param {Object} newProps The new props being applied to this component.\n    @param {Object} newState The new state being applied\n    @return a boolean indicating whether rerender() should be run.\n  */\n  shouldRerender(newProps, newState) { // eslint-disable-line\n    return true\n  }\n\n  /**\n    Rerenders the component.\n\n    Call this to manually trigger a rerender.\n  */\n  rerender() {\n    this._rerender(this.props, this.state)\n  }\n\n  _rerender(oldProps, oldState) {\n    this._render(oldProps, oldState)\n    // when this component is not mounted still trigger didUpdate()\n    if (!this.isMounted()) {\n      this.didUpdate(oldProps, oldState)\n    }\n  }\n\n  _render(oldProps, oldState) {\n    if (this.__isRendering__) {\n      throw new Error('Component is rendering already.')\n    }\n    this.__isRendering__ = true\n    try {\n      var engine = new RenderingEngine()\n      engine._render(this, oldProps, oldState)\n    } finally {\n      delete this.__isRendering__\n    }\n  }\n\n  /**\n    Triggers didMount handlers recursively.\n\n    Gets called when using `component.mount(el)` on an element being\n    in the DOM already. Typically this is done for a root component.\n\n    If this is not possible because you want to do things differently, make sure\n    you call 'component.triggerDidMount()' on root components.\n\n    @param isMounted an optional param for optimization, it's used mainly internally\n    @private\n    @example\n\n    ```\n    var frag = document.createDocumentFragment()\n    var comp = MyComponent.mount(frag)\n    ...\n    $('body').append(frag)\n    comp.triggerDidMount()\n    ```\n  */\n  triggerDidMount() {\n    // Trigger didMount for the children first\n    this.getChildren().forEach(function(child) {\n      // We pass isMounted=true to save costly calls to Component.isMounted\n      // for each child / grandchild\n      child.triggerDidMount(true)\n    })\n    // To prevent from multiple calls to didMount, which can happen under\n    // specific circumstances we use a guard.\n    if (!this.__isMounted__) {\n      this.__isMounted__ = true\n      this.didMount()\n    }\n  }\n\n  /**\n    Called when the element is inserted into the DOM. Typically, you can use\n    this to set up subscriptions to changes in the document or in a node of\n    your interest.\n\n    Remember to unsubscribe from all changes in the {@link ui/Component#dispose}\n    method otherwise listeners you have attached may be called without a context.\n\n    @example\n\n    ```javascript\n    class Foo extends Component {\n      didMount() {\n        this.context.editorSession.onRender('document', this.rerender, this, {\n          path: [this.props.node.id, 'label']\n        })\n      }\n\n      dispose() {\n        this.context.editorSession.off(this)\n      }\n    }\n    ```\n\n    Make sure that you call `component.mount(el)` using an element\n    which is already in the DOM.\n\n    ```javascript\n    var component = new MyComponent()\n    component.mount($('body')[0])\n    ```\n  */\n  didMount() {}\n\n  /**\n    Hook which is called after state or props have been updated and the implied\n    rerender is completed.\n  */\n  didUpdate() {}\n\n  /**\n    @return {boolean} indicating if this component has been mounted\n   */\n  isMounted() {\n    return this.__isMounted__\n  }\n\n  /**\n   Triggers dispose handlers recursively.\n\n   @private\n  */\n  triggerDispose() {\n    this.getChildren().forEach(function(child) {\n      child.triggerDispose()\n    })\n    this.dispose()\n    this.__isMounted__ = false\n  }\n\n  /**\n    A hook which is called when the component is unmounted, i.e. removed from DOM,\n    hence disposed. See {@link ui/Component#didMount} for example usage.\n\n    Remember to unsubscribe all change listeners here.\n  */\n  dispose() {}\n\n  /*\n    Attention: this is used when a preserved component is relocated.\n    E.g., rendered with a new parent.\n  */\n  _setParent(newParent) {\n    this.parent = newParent\n    this.context = this._getContext() || {}\n    Object.freeze(this.context)\n  }\n\n  /**\n    Send an action request to the parent component, bubbling up the component\n    hierarchy until an action handler is found.\n\n    @param action the name of the action\n    @param ... arbitrary number of arguments\n    @returns {Boolean} true if the action was handled, false otherwise\n    @example\n  */\n  send(action) {\n    var comp = this\n    while(comp) {\n      if (comp._actionHandlers && comp._actionHandlers[action]) {\n        comp._actionHandlers[action].apply(comp, Array.prototype.slice.call(arguments, 1))\n        return true\n      }\n      comp = comp.getParent()\n    }\n    console.warn('Action', action, 'was not handled.')\n    return false\n  }\n\n  /**\n    Define action handlers. Call this during construction/initialization of a component.\n    @param {Object} actionHandler  An object where the keys define the handled\n        actions and the values define the handler to be invoked.\n\n    These handlers are automatically removed once the Component is disposed, so\n    there is no need to unsubscribe these handlers in the {@link ui/Component#dispose}\n    hook.\n\n    @example\n\n    ```\n    class MyComponent extends Component {\n      constructor(...args) {\n        super(...args)\n        this.handleActions({\n         'openPrompt': this.openPrompt,\n         'closePrompt': this.closePrompt\n        })\n      }\n    }\n    ```\n  */\n  handleActions(actionHandlers) {\n    forEach(actionHandlers, function(method, actionName) {\n      this.handleAction(actionName, method)\n    }.bind(this))\n    return this\n  }\n\n  /**\n    Define an action handler. Call this during construction/initialization of a component.\n\n    @param {String} action name\n    @param {Functon} a function of this component.\n  */\n  handleAction(name, handler) {\n    if (!name || !handler || !isFunction(handler)) {\n      throw new Error('Illegal arguments.')\n    }\n    handler = handler.bind(this)\n    this._actionHandlers[name] = handler\n  }\n\n  /**\n    Get the current component state\n\n    @return {Object} the current state\n  */\n  getState() {\n    return this.state\n  }\n\n  /**\n    Sets the state of this component, potentially leading to a rerender. It is\n    better practice to use {@link ui/Component#extendState}. That way, the code\n    which updates state only updates part relevant to it.\n\n    Eg. If you have a Component that has a dropdown open state flag and another\n    enabled/disabled state flag for a node in the dropdown, you want to isolate\n    the pieces of your code making the two changes. The part of your code\n    opening and closing the dropdown should not also automatically change or\n    remove the enabled flag.\n\n    Note: Usually this is used by the component itself.\n    @param {object} newState an object with a partial update.\n  */\n  setState(newState) {\n    var oldProps = this.props\n    var oldState = this.state\n    // Note: while setting props it is allowed to call this.setState()\n    // which will not lead to an extra rerender\n    var needRerender = !this.__isSettingProps__ &&\n      this.shouldRerender(this.getProps(), newState)\n    // triggering this to provide a possibility to look at old before it is changed\n    this.willUpdateState(newState)\n    this.state = newState || {}\n    Object.freeze(this.state)\n    if (needRerender) {\n      this._rerender(oldProps, oldState)\n    } else if (!this.__isSettingProps__) {\n      this.didUpdate(oldProps, oldState)\n    }\n  }\n\n  /**\n    This is similar to `setState()` but extends the existing state instead of\n    replacing it.\n\n    @param {object} newState an object with a partial update.\n  */\n  extendState(newState) {\n    newState = extend({}, this.state, newState)\n    this.setState(newState)\n  }\n\n  /**\n    Called before state is changed.\n  */\n  willUpdateState(newState) { // eslint-disable-line\n  }\n\n  /**\n    Get the current properties\n\n    @return {Object} the current state\n  */\n  getProps() {\n    return this.props\n  }\n\n  /**\n    Sets the properties of this component, potentially leading to a rerender.\n\n    @param {object} an object with properties\n  */\n  setProps(newProps) {\n    var oldProps = this.props\n    var oldState = this.state\n    var needRerender = this.shouldRerender(newProps, this.state)\n    this._setProps(newProps)\n    if (needRerender) {\n      this._rerender(oldProps, oldState)\n    } else {\n      this.didUpdate(oldProps, oldState)\n    }\n  }\n\n  _setProps(newProps) {\n    newProps = newProps || {}\n    // set a flag so that this.setState() can omit triggering render\n    this.__isSettingProps__ = true\n    try {\n      this.willReceiveProps(newProps)\n      this.props = newProps || {}\n      Object.freeze(newProps)\n    } finally {\n      delete this.__isSettingProps__\n    }\n  }\n\n  /**\n    Extends the properties of the component, without necessarily leading to a\n    rerender.\n\n    @param {object} an object with properties\n  */\n  extendProps(updatedProps) {\n    var newProps = extend({}, this.props, updatedProps)\n    this.setProps(newProps)\n  }\n\n  /**\n    Hook which is called before properties are updated. Use this to dispose objects which will be replaced when properties change.\n\n    For example you can use this to derive state from props.\n    @param {object} newProps\n  */\n  willReceiveProps(newProps) { // eslint-disable-line\n  }\n\n  getChildNodes() {\n    if (!this.el) return []\n    var childNodes = this.el.getChildNodes()\n    childNodes = childNodes.map(_unwrapComp).filter(Boolean)\n    return childNodes\n  }\n\n  getChildren() {\n    if (!this.el) return []\n    var children = this.el.getChildren()\n    children = children.map(_unwrapComp).filter(Boolean)\n    return children\n  }\n\n  getChildAt(pos) {\n    var node = this.el.getChildAt(pos)\n    return _unwrapCompStrict(node)\n  }\n\n  find(cssSelector) {\n    var el = this.el.find(cssSelector)\n    return _unwrapComp(el)\n  }\n\n  findAll(cssSelector) {\n    var els = this.el.findAll(cssSelector)\n    return els.map(_unwrapComp).filter(Boolean)\n  }\n\n  appendChild(child) {\n    this.insertAt(this.getChildCount(), child)\n  }\n\n  insertAt(pos, childEl) {\n    if (isString(childEl)) {\n      childEl = new VirtualElement.TextNode(childEl)\n    }\n    if (!childEl._isVirtualElement) {\n      throw new Error('Invalid argument: \"child\" must be a VirtualElement.')\n    }\n    var child = new RenderingEngine()._renderChild(this, childEl)\n    this.el.insertAt(pos, child.el)\n    _mountChild(this, child)\n  }\n\n  removeAt(pos) {\n    var childEl = this.el.getChildAt(pos)\n    if (childEl) {\n      var child = _unwrapCompStrict(childEl)\n      _disposeChild(child)\n      this.el.removeAt(pos)\n    }\n  }\n\n  removeChild(child) {\n    if (!child || !child._isComponent) {\n      throw new Error('removeChild(): Illegal arguments. Expecting a Component instance.')\n    }\n    // TODO: remove ref from owner\n    _disposeChild(child)\n    this.el.removeChild(child.el)\n  }\n\n  replaceChild(oldChild, newChild) {\n    if (!newChild || !oldChild ||\n        !newChild._isComponent || !oldChild._isComponent) {\n      throw new Error('replaceChild(): Illegal arguments. Expecting BrowserDOMElement instances.')\n    }\n    // Attention: Node.replaceChild has weird semantics\n    _disposeChild(oldChild)\n    this.el.replaceChild(newChild.el, oldChild.el)\n    if (this.isMounted()) {\n      newChild.triggerDidMount(true)\n    }\n  }\n\n  empty() {\n    if (this.el) {\n      this.getChildNodes().forEach(function(child) {\n        _disposeChild(child)\n      })\n      this.el.empty()\n    }\n    return this\n  }\n\n  remove() {\n    _disposeChild(this)\n    this.el.remove()\n  }\n\n  _getContext() {\n    var context = {}\n    var parent = this.getParent()\n    if (parent) {\n      context = extend(context, parent.context)\n      if (parent.getChildContext) {\n        return extend(context, parent.getChildContext())\n      }\n    }\n    return context\n  }\n\n  addEventListener() {\n    throw new Error(\"Not supported.\")\n  }\n\n  removeEventListener() {\n    throw new Error(\"Not supported.\")\n  }\n\n  insertBefore() {\n    throw new Error(\"Not supported.\")\n  }\n\n}\n\nComponent.prototype._isComponent = true\n\nEventEmitter.mixin(Component)\n\nDOMElement._defineProperties(Component, DOMElement._propertyNames)\n\nComponent.unwrap = _unwrapComp\n\nComponent.render = function(props) {\n  props = props || {}\n  var ComponentClass = this\n  var comp = new ComponentClass(null, props)\n  comp._render()\n  return comp\n}\n\nComponent.mount = function(props, el) {\n  if (arguments.length === 1) {\n    props = {}\n    el = arguments[0]\n  }\n  if (!el) throw new Error(\"'el' is required.\")\n  if (isString(el)) {\n    var selector = el\n    if (inBrowser) {\n      el = window.document.querySelector(selector)\n    } else {\n      throw new Error(\"This selector is not supported on server side.\")\n    }\n  }\n  if (!el._isDOMElement) {\n    el = new DefaultDOMElement.wrapNativeElement(el)\n  }\n  var ComponentClass = this\n  var comp = new ComponentClass(null, props)\n  comp.mount(el)\n  return comp\n}\n\nObject.defineProperty(Component, '$$', {\n  get: function() {\n    throw new Error([\n      \"With Substance Beta 4 we introduced a breaking change.\",\n      \"We needed to turn the former static Component.$$ into a contextualized implementation, which is now served via Component.render($$).\",\n      \"FIX: change your signature of 'this.render()' in all your Components to 'this.render($$)\"\n    ].join(\"\\n\"))\n  }\n})\n\nComponent.getComponentForDOMElement = function(el) {\n  return _unwrapComp(el)\n}\n\nComponent.unwrapDOMElement = function(el) {\n  console.warn('DEPRECATED: Use Component.getComponentForDOMElement')\n  return Component.getComponentForDOMElement(el)\n}\n\nComponent.getComponentFromNativeElement = function(nativeEl) {\n  // while it sounds strange to wrap a native element\n  // first, it makes sense after all, as DefaultDOMElement.wrapNativeElement()\n  // provides the DOMElement instance of a previously wrapped native element.\n  return _unwrapComp(DefaultDOMElement.wrapNativeElement(nativeEl))\n}\n\n// NOTE: this is used for incremental updates only\nfunction _disposeChild(child) {\n  child.triggerDispose()\n  if (child._owner && child._ref) {\n    console.assert(child._owner.refs[child._ref] === child, \"Owner's ref should point to this child instance.\")\n    delete child._owner.refs[child._ref]\n  }\n}\n\n// NOTE: this is used for incremental updates only\nfunction _mountChild(parent, child) {\n  if (parent.isMounted()) {\n    child.triggerDidMount(true)\n  }\n  if (child._owner && child._ref) {\n    child._owner.refs[child._ref] = child\n  }\n}\n\n// NOTE: we keep a reference to the component in all DOMElement instances\nfunction _unwrapComp(el) {\n  if (el) return el._comp\n}\n\nfunction _unwrapCompStrict(el) {\n  let comp = _unwrapComp(el)\n  if (!comp) throw new Error(\"Expecting a back-link to the component instance.\")\n  return comp\n}\n\n\nclass ElementComponent extends Component {\n\n  constructor(parent, virtualComp) {\n    super('SKIP')\n\n    if (!parent._isComponent) {\n      throw new Error(\"Illegal argument: 'parent' must be a Component.\")\n    }\n    if (!virtualComp._isVirtualHTMLElement) {\n      throw new Error(\"Illegal argument: 'virtualComp' must be a VirtualHTMLElement.\")\n    }\n    this.parent = parent\n    this.context = this._getContext() || {}\n    Object.freeze(this.context)\n  }\n\n}\n\nElementComponent.prototype._isElementComponent = true\n\nclass TextNodeComponent extends Component {\n\n  constructor(parent, virtualComp) {\n    super('SKIP')\n\n    if (!parent._isComponent) {\n      throw new Error(\"Illegal argument: 'parent' must be a Component.\")\n    }\n    if (!virtualComp._isVirtualTextNode) {\n      throw new Error(\"Illegal argument: 'virtualComp' must be a VirtualTextNode.\")\n    }\n    this.parent = parent\n  }\n\n  setTextContent(text) {\n    if (!this.el) {\n      throw new Error('Component must be rendered first.')\n    }\n    if (this.el.textContent !== text) {\n      var newEl = this.el.createTextNode(text)\n      this.el._replaceNativeEl(newEl.getNativeElement())\n    }\n  }\n\n  getChildNodes() {\n    return []\n  }\n\n  getChildren() {\n    return []\n  }\n\n}\n\nTextNodeComponent.prototype._isTextNodeComponent = true\n\nComponent.Element = ElementComponent\nComponent.TextNode = TextNodeComponent\n\nexport default Component\n","import NodeSelection from '../model/NodeSelection'\nimport Component from '../ui/Component'\nimport DefaultDOMElement from '../ui/DefaultDOMElement'\nimport EventEmitter from '../util/EventEmitter'\nimport inBrowser from '../util/inBrowser'\n\nclass DragManager extends EventEmitter {\n\n  constructor(dndHandlers, context) {\n    super()\n    this.context = context\n    this.dndHandlers = dndHandlers\n    this._source = null\n\n    if (inBrowser) {\n      this.el = DefaultDOMElement.wrapNativeElement(document)\n      this.el.on('dragstart', this._onDragStart, this)\n      this.el.on('dragend', this._onDragEnd, this)\n      this.el.on('dragenter', this._onDragEnter, this)\n      this.el.on('dragexit', this._onDragExit, this)\n      this.el.on('dragover', this._onDragOver, this)\n      this.el.on('drop', this._onDrop, this)\n    }\n  }\n\n  dispose() {\n    if (this.el) {\n      this.el.off(this)\n    }\n  }\n\n  _onDragStart(e) {\n    this._externalDrag = false\n    this._initDrag(e)\n  }\n\n  _isMouseInsideDOMSelection(e) {\n    let domSelection = window.getSelection()\n    if (domSelection.rangeCount === 0) {\n      return false\n    }\n\n    let domRange = domSelection.getRangeAt(0)\n    let selectionRect = domRange.getBoundingClientRect()\n\n    return e.clientX >= selectionRect.left &&\n           e.clientX <= selectionRect.right &&\n           e.clientY >= selectionRect.top &&\n           e.clientY <= selectionRect.bottom;\n  }\n\n  _initDrag(e) {\n\n    let dragState = { event: e, mode: 'block' }\n\n    let isSelectionDrag = this._isMouseInsideDOMSelection(e)\n    if (isSelectionDrag) {\n      let sourceSelection = this.context.editorSession.getSelection()\n      dragState.sourceSelection = sourceSelection\n      if (sourceSelection.isPropertySelection()) {\n        dragState.mode = 'inline'\n      }\n    } else {\n      // This is definitely hacky. Just until we have time to think about it\n      // more thoroughly\n      let comp = this._getIsolatedNodeOrContainerChild(DefaultDOMElement.wrapNativeElement(e.target))\n      if (comp && comp.props.node) {\n        let surface = comp.context.surface\n        let nodeSelection = new NodeSelection({\n          containerId: surface.getContainerId(),\n          nodeId: comp.props.node.id,\n          mode: 'full',\n          surfaceId: surface.id\n        })\n        this.context.editorSession.setSelection(nodeSelection)\n        dragState.sourceSelection = nodeSelection\n      } else {\n        e.preventDefault()\n        e.stopPropagation()\n      }\n    }\n\n    this.dragState = new DragState(dragState)\n\n    e.dataTransfer.effectAllowed = 'all'\n    e.dataTransfer.setData('text/html', e.target.outerHTML)\n\n    var dragIcon = document.createElement('img')\n    dragIcon.width = 30\n    e.dataTransfer.setDragImage(dragIcon, -10, -10)\n\n    this.emit('dragstart', this.dragState)\n  }\n\n  _onDragOver(e) {\n    // console.log('_onDragOver', e)\n    this._updateDrag(e)\n  }\n\n  _onDragEnter(e) {\n    if (!this.dragState) {\n      this._initDrag(e)\n      this._externalDrag = true\n    }\n  }\n\n  _updateDrag(e) {\n    let targetEl = DefaultDOMElement.wrapNativeElement(e.target)\n    // HACK: ignore drop teaser\n    if (targetEl.is('.sc-drop-teaser')) return\n    let components = this._getComponents(targetEl)\n    let surface, nodeComponent\n    // console.log('comps', components)\n    if (components) {\n      surface = components[0]\n      if (surface && surface.isContainerEditor()) {\n        nodeComponent = components[1]\n      }\n    }\n\n    this.dragState.event = e\n    this.dragState.surface = surface\n    this.dragState.targetEl = nodeComponent ? nodeComponent.el : targetEl\n    this.dragState.targetNodeId = nodeComponent ? nodeComponent.props.node.id : null\n\n    // position the drop-teaser in case of a ContainerDrop\n    if (this.dragState.mode === 'block') {\n      let elRect = this.dragState.targetEl.getNativeElement().getBoundingClientRect()\n      let mouseY = this.dragState.event.clientY\n      let threshold = elRect.top + elRect.height / 2\n      this.dragState.insertMode = mouseY > threshold ? 'after' : 'before'\n      this.dragState.isContainerDrop = Boolean(nodeComponent)\n      this.emit('drag:updated', this.dragState)\n    }\n  }\n\n  _getComponents(targetEl) {\n    let res = []\n    let curr = targetEl\n    while (curr) {\n      let comp = Component.getComponentForDOMElement(curr)\n      if (comp) {\n        res.unshift(comp)\n        if(comp._isSurface) {\n          return res\n        }\n      }\n      curr = curr.parentNode\n    }\n    return null\n  }\n\n  _getIsolatedNodeOrContainerChild(targetEl) {\n    let parent, current\n    current = targetEl\n    parent = current.parentNode\n    while(parent) {\n      if (parent._comp && parent._comp._isContainerEditor) {\n        return current._comp\n      } else if (current._comp && current._comp._isIsolatedNode) {\n        return current._comp\n      }\n      current = parent\n      parent = current.parentNode\n    }\n  }\n\n  _onDragEnd() {\n    if (this.dragState) {\n      try {\n        this.emit('drag:updated', Object.assign({}, this.dragState, { isContainerDrop: false }))\n      } finally {\n        this.dragState = null;\n      }\n    }\n  }\n\n  _onDragExit() {\n    this._onDragEnd()\n  }\n\n  _onDrop(e) {\n    this.dragState.event = e\n    this.dragState.data = this._getData(e)\n    e.preventDefault()\n    e.stopPropagation()\n    if (this._externalDrag && this.dragState.data) {\n      this._handleExternalDrop()\n    } else if (this.dragState.sourceSelection) {\n      this._handleInternalDrop()\n    }\n    this._onDragEnd()\n  }\n\n  _callHandlers(tx, params) {\n    let i, handler;\n    for (i = 0; i < this.dndHandlers.length; i++) {\n      handler = this.dndHandlers[i]\n\n      let match = handler.match(params, this.context)\n      if (match) {\n        handler.drop(tx, params, this.context)\n        break\n      }\n    }\n  }\n\n  _handleExternalDrop() {\n    let dragState = this.dragState\n    let files = dragState.data.files\n    let uris = dragState.data.uris\n    let editorSession = this.context.editorSession\n\n    editorSession.transaction((tx) => {\n      if (dragState.isContainerDrop) {\n        let containerId = dragState.surface.getContainerId()\n        let nodeId = dragState.targetNodeId\n        let insertMode = dragState.insertMode\n        let surfaceId = dragState.surface.id\n        tx.setSelection({\n          type: 'node',\n          nodeId: nodeId,\n          mode: insertMode,\n          containerId: containerId,\n          surfaceId: surfaceId\n        })\n      } else {\n        console.error('Not yet supported')\n        return\n      }\n      if (files.length > 0) {\n        files.forEach((file) => {\n          this._callHandlers(tx, {\n            file: file,\n            type: 'file'\n          })\n        })\n      } else if (uris.length > 0) {\n        uris.forEach((uri) => {\n          this._callHandlers(tx, {\n            uri: uri,\n            type: 'uri'\n          })\n        })\n      } else {\n        console.info('TODO: implement html/text drop here')\n      }\n    })\n  }\n\n  _handleInternalDrop() {\n    let context = this.context\n    let dragState = this.dragState\n\n    context.editorSession.transaction((tx) => {\n      tx.setSelection(dragState.sourceSelection)\n      let copy = tx.copySelection()\n      // just clear, but don't merge or don't insert a new node\n      tx.deleteSelection({ clear: true })\n      if(dragState.isContainerDrop) {\n        let containerId = dragState.surface.getContainerId()\n        let surfaceId = dragState.surface.id\n        tx.setSelection({\n          type: 'node',\n          nodeId: dragState.targetNodeId,\n          mode: dragState.insertMode,\n          containerId: containerId,\n          surfaceId: surfaceId\n        })\n        tx.paste(copy)\n      }\n    })\n  }\n\n  /*\n    Following best practice from Mozilla for URI extraction\n\n    See: https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Recommended_Drag_Types#link\n  */\n  _extractUris(dataTransfer) {\n    let uris = []\n    let rawUriList = dataTransfer.getData('text/uri-list')\n    if (rawUriList) {\n      uris = rawUriList.split('\\n').filter(function(item) {\n        return !item.startsWith('#')\n      })\n    }\n    return uris\n  }\n\n  /*\n    Extracts information from e.dataTransfer (files, uris, text, html)\n  */\n  _getData(e) {\n    let dataTransfer = e.dataTransfer\n    if (dataTransfer) {\n      return {\n        files: Array.prototype.slice.call(dataTransfer.files),\n        uris: this._extractUris(dataTransfer),\n        text: dataTransfer.getData('text/plain'),\n        html: dataTransfer.getData('text/html')\n      }\n    }\n  }\n}\n\nclass DragState {\n  constructor(data) {\n    this.mode = data.mode\n    this.targetEl = data.targetEl\n    this.surfaceId = data.surfaceId\n    this.sourceSelection = data.sourceSelection\n    this.event = data.event\n  }\n}\n\nexport default DragManager\n","/*\n  Experimental\n\n  We are seeking for a solution providing access to global DOM events\n  while considering the current app state ~ document session state.\n\n  This implementation is just a prototype and might change with the next releases.\n*/\n\nimport inBrowser from '../util/inBrowser'\nimport DefaultDOMElement from './DefaultDOMElement'\nimport DOMElement from './DOMElement'\n\n/*\n  TODO: to be 100% safe we would need to introduce a hidden contenteditable\n  where we put the selection in case of non-surface situations\n  so that we are still able to receive events such as 'copy' -- actually only Edge is not dispatching\n  to window.document.\n*/\n\nconst events = [ 'keydown', 'keyup', 'keypress', 'mousedown', 'mouseup' , 'copy']\n\nclass GlobalEventHandler {\n\n  constructor(editorSession, surfaceManager) {\n    this.editorSession = editorSession\n    this.surfaceManager = surfaceManager\n    this.listeners = []\n    this.initialize()\n  }\n\n  initialize() {\n    if (inBrowser) {\n      let document = DefaultDOMElement.wrapNativeElement(window.document)\n      events.forEach(function(name) {\n        document.on(name, this._dispatch.bind(this, name), this)\n      }.bind(this))\n    }\n  }\n\n  dispose() {\n    if (inBrowser) {\n      let document = DefaultDOMElement.wrapNativeElement(window.document)\n      document.off(this)\n    }\n  }\n\n  addEventListener(eventName, handler, options) {\n    if (!options.id) {\n      throw new Error(\"GlobalEventHandler can only be used with option 'id'\")\n    }\n    let listener = new DOMElement.EventListener(eventName, handler, options)\n    this.listeners.push(listener)\n  }\n\n  removeEventListener(listener) {\n    let idx = this.listeners.indexOf(listener);\n    if (idx > -1) {\n      this.listeners.splice(idx, 1)\n    }\n  }\n\n  getEventListeners() {\n    return this.listeners\n  }\n\n  _getActiveListener(eventName) {\n    let editorSession = this.editorSession\n    let sel = editorSession.getSelection()\n    if (sel) {\n      let surfaceId = sel.surfaceId\n      for (let i = 0; i < this.listeners.length; i++) {\n        let listener = this.listeners[i]\n        if (listener.eventName === eventName && listener.options.id === surfaceId) {\n          return listener\n        }\n      }\n    }\n  }\n\n  _dispatch(eventName, e) {\n    let listener = this._getActiveListener(eventName)\n    if (listener) {\n      listener.handler(e)\n    }\n  }\n}\n\nGlobalEventHandler.prototype.on = DOMElement.prototype.on\nGlobalEventHandler.prototype.off = DOMElement.prototype.off\n\nexport default GlobalEventHandler\n","class MacroManager {\n\n  constructor(context, macros) {\n    this.context = context\n    this.macros = macros\n    this.context.editorSession.onFinalize('document', this.onDocumentChanged, this)\n  }\n\n  dispose() {\n    this.context.editorSession.off(this)\n  }\n\n  onDocumentChanged(change, info) {\n    this.executeMacros(change, info)\n  }\n\n  executeMacros(change, info) {\n    let doc = this.context.editorSession.getDocument()\n    let nodeId, node, text, start, end\n    let path\n    // HACK: we exploit the information of the internal structure\n    // of this document changes\n    switch(info.action) {\n      case 'type': {\n        let op = change.ops[0]\n        if (op.type === 'update' && op.diff.propertyType === 'string') {\n          path = op.path\n          nodeId = path[0]\n          node = doc.get(nodeId)\n          text = doc.get(path)\n          start = op.diff.pos\n          end = start+op.diff.getLength()\n        }\n        break\n      }\n      case 'break': {\n        // We interpret a 'break' as kind of confirmation\n        // of the current node\n        // so we take the original selection\n        // to determine the original node\n        let sel = change.before.selection\n        if (!sel.isPropertySelection()) return\n        path = sel.path\n        nodeId = path[0]\n        node = doc.get(nodeId)\n        if (!node.isText()) return\n        text = node.getText()\n        start = sel.getStartOffset()\n        end = start\n        break\n      }\n      default:\n        return\n    }\n\n    let props = {\n      action: info.action,\n      node: node,\n      path: path,\n      text: text,\n      start: start,\n      end: end,\n      editorSession: this.context.editorSession,\n      selection: this.context.editorSession.getSelection()\n    }\n\n    setTimeout(() => {\n      for (let i = 0; i < this.macros.length; i++) {\n        let macro = this.macros[i]\n        let executed = macro.execute(props, this.context)\n        if (executed) {\n          break\n        }\n      }\n    })\n\n  }\n}\n\nexport default MacroManager\n","/* eslint-disable strict */\nexport default {\n  UNDEFINED: 0,\n  BACKSPACE: 8,\n  DELETE: 46,\n  LEFT: 37,\n  RIGHT: 39,\n  UP: 38,\n  DOWN: 40,\n  ENTER: 13,\n  END: 35,\n  HOME: 36,\n  TAB: 9,\n  PAGEUP: 33,\n  PAGEDOWN: 34,\n  ESCAPE: 27,\n  SHIFT: 16,\n  SPACE: 32\n};\n","class ExecuteCommandHandler {\n  constructor(editorSession, commandName) {\n    this.editorSession = editorSession\n    this.commandName = commandName\n  }\n  execute(params, context) {\n    this.editorSession.executeCommand(this.commandName, params)\n  }\n}\nexport default ExecuteCommandHandler","import forEach from '../util/forEach'\nimport keys from '../util/keys'\nimport ExecuteCommandHandler from './ExecuteCommandHandler'\n\nclass KeyboardManager {\n\n  constructor(editorSession, bindings, options) {\n    this.editorSession = editorSession\n\n    this.context = options.context || {}\n\n    this.bindings = {}\n    forEach(bindings, (spec, combo) => {\n      if(spec.command) {\n        let handler = new ExecuteCommandHandler(editorSession, spec.command)\n        this.bindings[combo] = {\n          fn: handler.execute,\n          owner: handler\n        }\n      } else {\n        throw new Error('Keyboard binding not supported', spec)\n      }\n    })\n  }\n\n  onKeydown(event) {\n    let key = generateKey(event)\n    let handler = this.bindings[key]\n    if (handler) {\n      event.preventDefault()\n      event.stopPropagation()\n      let params = this._getParams()\n      handler.fn.call(handler.owner, params, this.context)\n    }\n  }\n\n  _getParams() {\n    let editorSession = this.editorSession\n    let selectionState = editorSession.getSelectionState()\n    let sel = selectionState.getSelection()\n    let surface = this.context.surfaceManager.getFocusedSurface()\n    return {\n      editorSession: editorSession,\n      selectionState: selectionState,\n      surface: surface,\n      selection: sel,\n    }\n  }\n\n}\n\n// transforms a string like 'cmd+a' into an internal normalized representation\n\nfunction generateKey(event) {\n  let frags = []\n  if (event.altKey) {\n    if (event.code === 'AltRight') {\n      frags.push('ALTGR')\n    } else {\n      frags.push('ALT')\n    }\n  }\n  if (event.ctrlKey) frags.push('CTRL')\n  if (event.metaKey) frags.push('META')\n  if (event.shiftKey) frags.push('SHIFT')\n  frags.push(event.keyCode)\n  return frags.join('+')\n}\n\nKeyboardManager.parseCombo = function parseCombo(combo) {\n  let frags = combo.split('+')\n  let data = {\n    keyCode: -1\n  }\n  for (var i = 0; i < frags.length; i++) {\n    let frag = frags[i].toUpperCase()\n    switch(frag) {\n      case 'ALT': {\n        data.altKey = true\n        break\n      }\n      case 'ALTGR': {\n        data.altKey = true\n        data.code = 'AltRight'\n        break\n      }\n      case 'CMD': {\n        data.metaKey = true\n        break\n      }\n      case 'CTRL': {\n        data.ctrlKey = true\n        break\n      }\n      case 'SHIFT': {\n        data.shiftKey = true\n        break\n      }\n      default:\n        if (frag.length === 1) {\n          data.keyCode = frag.charCodeAt(0)\n        } else if (keys.hasOwnProperty(frag)) {\n          data.keyCode = keys[frag]\n        } else {\n          throw new Error('Unsupported keyboard command: '+ combo)\n        }\n    }\n  }\n  return generateKey(data)\n}\n\nexport default KeyboardManager\n","import forEach from '../util/forEach'\nimport map from '../util/map'\n\n/*\n  Storage for files such as images and other assets.\n\n  This accumulates files created or loaded during a session\n  so that it is possible to pick up a file after undo+redo.\n*/\nclass FileManager {\n\n  constructor(editorSession, extensions, context) {\n    this.editorSession = editorSession\n    this.extensions = extensions\n    this.proxies = {}\n    this.context = context\n\n    // adapt all existing files\n    forEach(editorSession.getDocument().getNodes(), (node) => {\n      if (node._isFileNode) this.storeFile(node)\n    })\n\n    this.editorSession.onUpdate('document', this._onDocumentChange, this)\n  }\n\n  dispose() {\n    this.editorSession.off(this)\n  }\n\n  storeFile(fileNode) {\n    let proxy = this.proxies[fileNode.id]\n    // don't adapt the file if we already have it\n    if (!proxy) {\n      proxy = this.createFileProxy(fileNode)\n      if (proxy) {\n        this.proxies[fileNode.id] = proxy\n      }\n    }\n    return proxy\n  }\n\n  createFileProxy(fileNode) { // eslint-disable-line\n    let context = this.context\n    for (var i = 0; i < this.extensions.length; i++) {\n      let ExtClass = this.extensions[i]\n      if (ExtClass.match(fileNode, context)) {\n        return new ExtClass(fileNode, context)\n      }\n    }\n    console.error('No file adapter found for ', fileNode)\n  }\n\n  getProxy(fileNode) {\n    return this.proxies[fileNode.id]\n  }\n\n  sync() {\n    // Note: potentially this could be a bi-directional sync\n    // ATM, we only consider upload\n    let promises = map(this.proxies, (proxy) => {\n      return proxy.sync()\n    })\n    return Promise.all(promises)\n  }\n\n  _onDocumentChange(change) {\n    let doc = this.editorSession.getDocument()\n    forEach(change.created, (nodeData) => {\n      // we would need the real node to support inheritance\n      let node = doc.get(nodeData.id)\n      if (node._isFileNode) {\n        this.storeFile(node)\n      }\n    })\n  }\n}\n\nexport default FileManager","import DocumentChange from '../model/DocumentChange'\nimport MarkersManager from '../model/MarkersManager'\nimport Selection from '../model/Selection'\nimport SelectionState from '../model/SelectionState'\nimport ChangeHistory from '../model/ChangeHistory'\nimport SurfaceManager from '../packages/surface/SurfaceManager'\nimport Transaction from '../model/Transaction'\nimport CommandManager from '../ui/CommandManager'\nimport DragManager from '../ui/DragManager'\nimport GlobalEventHandler from '../ui/GlobalEventHandler'\nimport MacroManager from '../ui/MacroManager'\nimport KeyboardManager from '../ui/KeyboardManager'\nimport forEach from '../util/forEach'\nimport isPlainObject from '../util/isPlainObject'\nimport isFunction from '../util/isFunction'\nimport isString from '../util/isString'\nimport EventEmitter from '../util/EventEmitter'\nimport FileManager from './FileManager'\n\nclass EditorSession extends EventEmitter {\n\n  constructor(doc, options) {\n    super()\n\n    options = options || {}\n\n    this.document = doc\n    if (!options.configurator) {\n      throw new Error('No configurator provided.')\n    }\n    this.configurator = options.configurator\n\n    this._transaction = new Transaction(doc, this)\n\n    this._history = new ChangeHistory()\n    // used for change accumulation (in a collab environment)\n    this._currentChange = null\n\n    // TODO: while it is good to have these selection\n    // related derived state informations separated\n    // it would feel better to have the selection itself\n    // as a property of this session\n    this._selectionState = new SelectionState(doc)\n\n    this._commandStates = []\n\n    // the session exposes these resources, and keeps track of changes\n    this._resources = ['document', 'selection', 'commandStates']\n    // flags to keep track which resources have changed since the last 'flow'\n    this._dirtyFlags = {}\n    // set during a change\n    this._change = null\n    this._info = null\n\n    this._flowStages = ['update', 'pre-render', 'render', 'post-render', 'position', 'finalize']\n    // to get something executed directly after a flow\n    this._postponed = []\n\n    this._observers = {}\n\n    this._lang = options.lang || this.configurator.getDefaultLanguage()\n    this._dir = options.dir || 'ltr'\n\n    // Managers\n    // --------\n\n    // surface manager takes care of surfaces, keeps track of the currently focused surface\n    // and makes sure the DOM selection is rendered properly at the end of a flow\n    this.surfaceManager = new SurfaceManager(this)\n    // this context is provided to commands, tools, etc.\n    this._context = {\n      editorSession: this,\n      //legacy\n      surfaceManager: this.surfaceManager,\n    }\n    // to expose custom context just provide optios.context\n    if (options.context) {\n      Object.assign(this._context, options.context)\n    }\n\n    let configurator = this.configurator\n    let commands = configurator.getCommands()\n    let dragHandlers = configurator.createDragHandlers()\n    let macros = configurator.getMacros()\n    let converterRegistry = configurator.getConverterRegistry()\n    let editingBehavior = configurator.getEditingBehavior()\n\n    this.fileManager = options.fileManager || new FileManager(this, configurator.getFileAdapters(), this._context)\n\n    // Handling of saving\n    this._hasUnsavedChanges = false\n    this._isSaving = false\n\n    if (options.saveHandler) {\n      this.saveHandler = options.saveHandler\n    } else {\n      this.saveHandler = configurator.getSaveHandler()\n    }\n\n    // The command manager keeps the commandStates up-to-date\n    this.commandManager = new CommandManager(this._context, commands)\n    // The drag manager dispatches drag requests to registered drag handlers\n    // TODO: after consolidating the API of this class, we probably need a less diverse context\n    this.dragManager = new DragManager(dragHandlers, Object.assign({}, this._context, {\n      commandManager: this.commandManager\n    }))\n    // The macro manager dispatches to macro detectors at the end of the flow\n    this.macroManager = new MacroManager(this._context, macros)\n    this.globalEventHandler = new GlobalEventHandler(this, this.surfaceManager)\n    this.markersManager = new MarkersManager(this)\n    this.keyboardManager = new KeyboardManager(this, configurator.getKeyboardShortcuts(), {\n      context: this._context\n    })\n\n    // TODO: see how we want to expose these\n    this.converterRegistry = converterRegistry\n    this.editingBehavior = editingBehavior\n  }\n\n  dispose() {\n    this.surfaceManager.dispose()\n    this.fileManager.dispose()\n    this.commandManager.dispose()\n    this.dragManager.dispose()\n    this.macroManager.dispose()\n    this.globalEventHandler.dispose()\n    this.markersManager.dispose()\n  }\n\n  hasChanged(resource) {\n    return this._dirtyFlags[resource]\n  }\n\n  hasDocumentChanged() {\n    return this.hasChanged('document')\n  }\n\n  hasSelectionChanged() {\n    return this.hasChanged('selection')\n  }\n\n  hasCommandStatesChanged() {\n    return this.hasChanged('commandStates')\n  }\n\n  hasLanguageChanged() {\n    return this.hasChanged('lang')\n  }\n\n  hasTextDirectionChanged() {\n    return this.hasChanged('dir')\n  }\n\n  get(resourceName) {\n    switch(resourceName) {\n      case 'document':\n        return this.getDocument()\n      case 'selection':\n        return this.getSelection()\n      case 'commandStates':\n        return this.getCommandStates()\n      case 'change':\n        return this.getChange()\n      default:\n        throw new Error('Unknown resource: ' + resourceName)\n    }\n  }\n\n  getConfigurator() {\n    return this.configurator\n  }\n\n  getDocument() {\n    return this.document\n  }\n\n  getSelection() {\n    return this.getSelectionState().getSelection()\n  }\n\n  getSelectionState() {\n    return this._selectionState\n  }\n\n  getCommandStates() {\n    return this._commandStates\n  }\n\n  getChange() {\n    return this._change\n  }\n\n  getChangeInfo() {\n    return this._info\n  }\n\n  getFocusedSurface() {\n    return this.surfaceManager.getFocusedSurface()\n  }\n\n  getSurface(surfaceId) {\n    return this.surfaceManager.getSurface(surfaceId)\n  }\n\n  getLanguage() {\n    return this._lang\n  }\n\n  getTextDirection() {\n    return this._dir\n  }\n\n  canUndo() {\n    return this._history.canUndo()\n  }\n\n  canRedo() {\n    return this._history.canRedo()\n  }\n\n  executeCommand(...args) {\n    this.commandManager.executeCommand(...args)\n  }\n\n  setSelection(sel) {\n    if (sel && isPlainObject(sel)) {\n      sel = this.getDocument().createSelection(sel)\n    }\n    if (sel && !sel.isNull() && !sel.surfaceId) {\n      let fs = this.getFocusedSurface()\n      if (fs) {\n        sel.surfaceId = fs.id\n      }\n    }\n    if (this._setSelection(sel)) {\n      this.startFlow()\n    }\n    return sel\n  }\n\n  selectNode(nodeId) {\n    let surface = this.getFocusedSurface()\n    this.setSelection({\n      type: 'node',\n      nodeId: nodeId,\n      mode: 'full',\n      containerId: surface.getContainerId(),\n      surfaceId: surface.id\n    })\n  }\n\n  setCommandStates(commandStates) {\n    this._commandStates = commandStates\n    this._setDirty('commandStates')\n  }\n\n  setLanguage(lang) {\n    if (this._lang !== lang) {\n      this._lang = lang\n      this._setDirty('lang')\n      this.startFlow()\n    }\n  }\n\n  setTextDirection(dir) {\n    if (this._dir !== dir) {\n      this._dir = dir\n      this._setDirty('dir')\n      this.startFlow()\n    }\n  }\n\n  createSelection() {\n    const doc = this.getDocument()\n    return doc.createSelection.apply(doc, arguments)\n  }\n\n  getCollaborators() {\n    return null\n  }\n\n  /*\n    Set saveHandler via API\n\n    E.g. if saveHandler not available at construction\n  */\n  setSaveHandler(saveHandler) {\n    this.saveHandler = saveHandler\n  }\n\n  /**\n    Start a transaction to manipulate the document\n\n    @param {function} transformation a function(tx) that performs actions on the transaction document tx\n\n    @example\n\n    ```js\n    doc.transaction(function(tx, args) {\n      tx.update(...)\n      ...\n      tx.setSelection(newSelection)\n    })\n    ```\n  */\n  transaction(transformation, info) {\n    info = info || {}\n    let change = this._transaction._recordChange(transformation, this.getSelection(), this.getFocusedSurface())\n    if (change) {\n      this._commit(change, info)\n    } else {\n      // if no changes, at least update the selection\n      this._setSelection(this._transaction.getSelection())\n      this.startFlow()\n    }\n    return change\n  }\n\n  undo() {\n    this._undoRedo('undo')\n  }\n\n  redo() {\n    this._undoRedo('redo')\n  }\n\n  /**\n    Registers a hook for the `update` phase.\n\n    During `update` data should be derived necessary for rendering.\n\n    This is mainly used by extensions of the EditorSession to\n    derive extra state information.\n\n    @param {string} [resource] the name of the resource\n    @param {Function} handler the function handler\n    @param {Object} context owner of the handler\n    @param {Object} [options] options for the resource handler\n\n  */\n  onUpdate(...args) {\n    return this._registerObserver('update', args)\n  }\n\n  onPreRender(...args) {\n    return this._registerObserver('pre-render', args)\n  }\n\n  /**\n    Registers a hook for the 'render' phase.\n\n    During `render`, components should be rerendered.\n\n    @param {string} [resource] the name of the resource\n    @param {Function} handler the function handler\n    @param {Object} context owner of the handler\n    @param {Object} [options] options for the resource handler\n\n    @example\n\n    This typically used by components that render node content.\n\n    ```js\n    class ImageComponent extends Component {\n      didMount() {\n        this.context.editorSession.onRender('document', this.rerender, this, {\n          path: [this.props.node.id, 'src']\n        })\n      }\n      dispose() {\n        this.context.editorSession.off(this)\n      }\n      render($$) {\n        ...\n      }\n    }\n    ```\n  */\n  onRender(...args) {\n    return this._registerObserver('render', args)\n  }\n\n  /**\n    Registers a hook for the 'post-render' phase.\n\n    ATM, this phase is used internally only, for recovering the DOM selection\n    which typically gets destroyed due to rerendering\n\n    @internal\n\n    @param {string} [resource] the name of the resource\n    @param {Function} handler the function handler\n    @param {Object} context owner of the handler\n    @param {Object} [options] options for the resource handler\n  */\n  onPostRender(...args) {\n    return this._registerObserver('post-render', args)\n  }\n\n  /**\n    Registers a hook for the 'position' phase.\n\n    During `position`, components such as Overlays, for instance, should be positioned.\n    At this stage, it is guaranteed that all content is rendered, and the DOM selection\n    is set.\n\n    @param {string} [resource] the name of the resource\n    @param {Function} handler the function handler\n    @param {Object} context owner of the handler\n    @param {Object} [options] options for the resource handler\n\n  */\n  onPosition(...args) {\n    return this._registerObserver('position', args)\n  }\n\n  onFinalize(...args) {\n    return this._registerObserver('finalize', args)\n  }\n\n  off(observer) {\n    super.off(observer)\n    this._deregisterObserver(observer)\n  }\n\n  _setSelection(sel) {\n    let hasChanged = this.getSelectionState().setSelection(sel)\n    if (hasChanged) this._setDirty('selection')\n    return hasChanged\n  }\n\n  _undoRedo(which) {\n    const doc = this.getDocument()\n    var from, to\n    if (which === 'redo') {\n      from = this._history.undoneChanges\n      to = this._history.doneChanges\n    } else {\n      from = this._history.doneChanges\n      to = this._history.undoneChanges\n    }\n    var change = from.pop()\n    if (change) {\n      this._applyChange(change, {})\n      // keep tx in sync\n      this._transaction._apply(change)\n      // move change to the opposite change list (undo <-> redo)\n      to.push(change.invert())\n      // use selection from change\n      let sel = change.after.selection\n      if (sel) sel.attach(doc)\n      this._setSelection(sel)\n      // finally trigger the flow\n      this.startFlow()\n    } else {\n      console.warn('No change can be %s.', (which === 'undo'? 'undone':'redone'))\n    }\n  }\n\n  _transformLocalChangeHistory(externalChange) {\n    // Transform the change history\n    // Note: using a clone as the transform is done inplace\n    // which is ok for the changes in the undo history, but not\n    // for the external change\n    var clone = {\n      ops: externalChange.ops.map(function(op) { return op.clone(); })\n    }\n    DocumentChange.transformInplace(clone, this._history.doneChanges)\n    DocumentChange.transformInplace(clone, this._history.undoneChanges)\n  }\n\n  _transformSelection(change) {\n    var oldSelection = this.getSelection()\n    var newSelection = DocumentChange.transformSelection(oldSelection, change)\n    // console.log('Transformed selection', change, oldSelection.toString(), newSelection.toString())\n    return newSelection\n  }\n\n  _commit(change, info) {\n    this._commitChange(change, info)\n    // TODO: Not sure this is the best place to mark the session dirty\n    this._hasUnsavedChanges = true\n    this.startFlow()\n  }\n\n  _commitChange(change, info) {\n    change.timestamp = Date.now()\n    this._applyChange(change, info)\n    if (info['history'] !== false && !info['hidden']) {\n      this._history.push(change.invert())\n    }\n    var newSelection = change.after.selection || Selection.nullSelection\n    // HACK injecting the surfaceId here...\n    // TODO: we should find out where the best place is to do this\n    if (!newSelection.isNull() && !newSelection.surfaceId) {\n      newSelection.surfaceId = change.after.surfaceId\n    }\n    this._setSelection(newSelection)\n  }\n\n  _applyChange(change, info) {\n    this.getDocument()._apply(change)\n    this._setDirty('document')\n    this._change = change\n    this._info = info\n  }\n\n  /*\n    Are there unsaved changes?\n  */\n  hasUnsavedChanges() {\n    return this._hasUnsavedChanges\n  }\n\n  /*\n    Save session / document\n  */\n  save() {\n    var saveHandler = this.saveHandler\n\n    if (this._hasUnsavedChanges && !this._isSaving) {\n      this._isSaving = true\n      // Pass saving logic to the user defined callback if available\n      if (saveHandler) {\n        let saveParams = {\n          editorSession: this,\n          fileManager: this.fileManager\n        }\n        return saveHandler.saveDocument(saveParams)\n        .then(() => {\n          this._hasUnsavedChanges = false\n          // We update the selection, just so a selection update flow is\n          // triggered (which will update the save tool)\n          // TODO: model this kind of update more explicitly. It could be an 'update' to the\n          // document resource (hasChanges was modified)\n          this.setSelection(this.getSelection())\n        })\n        .catch((err) => {\n          console.error('Error during save', err)\n        }).then(() => { // finally\n          this._isSaving = false\n        })\n      } else {\n        console.error('Document saving is not handled at the moment. Make sure saveHandler instance provided to editorSession')\n        return Promise.reject()\n      }\n    }\n  }\n\n  /*\n    Starts the flow.\n\n    This is necessary when changing resources managed by the session.\n    To be able to change multiple resources at the same time,\n    this is not done automatically, but needs to be called\n    by the implementation.\n\n    @internal\n  */\n  startFlow() {\n    if (this._flowing) return\n    this._flowing = true\n    try {\n      this.performFlow()\n    } finally {\n      this._resetFlow()\n      this._flowing = false\n    }\n    // Note: postponing is ATM used only by Macros\n    // HACK: to avoid having multiple flows at the same time\n    // we are running this deferred\n    const postponed = this._postponed\n    const self = this\n    this._postponed = []\n    setTimeout(function() {\n      postponed.forEach(function(fn) {\n        fn(self)\n      })\n    }, 0)\n  }\n\n  /*\n    Emits the phases in the correct order.\n\n    @internal\n  */\n  performFlow() {\n    this._flowStages.forEach((stage) => {\n      this._notifyObservers(stage)\n    })\n  }\n\n  postpone(fn) {\n    this._postponed.push(fn)\n  }\n\n  _parseObserverArgs(args) {\n    let params = { resource: null, handler: null, context: null, options: {} }\n    // first can be a string\n    let idx = 0\n    let arg = args[idx]\n    if (isString(arg)) {\n      params.resource = arg\n      idx++\n      arg = args[idx]\n    }\n    if (!arg) {\n      throw new Error('Provided handler function was nil.')\n    }\n    if (!isFunction(arg)) {\n      throw new Error('Expecting a handler Function.')\n    }\n    params.handler = arg\n    idx++\n    arg = args[idx]\n    if (arg) {\n      params.context = arg\n      idx++\n      arg = args[idx]\n    }\n    if (arg) {\n      params.options = arg\n    }\n    return params\n  }\n\n  _registerObserver(stage, args) {\n    let observer = this._parseObserverArgs(args)\n    let observers = this._observers[stage]\n    if (!observers) {\n      observers = this._observers[stage] = []\n    }\n    observers.push(observer)\n  }\n\n  _deregisterObserver(observer) {\n    // TODO: we should optimize this, as ATM this needs to traverse\n    // a lot of registered listeners\n    forEach(this._observers, function(observers) {\n      for (var i = 0; i < observers.length; i++) {\n        var entry = observers[i]\n        if (entry.context === observer) {\n          // console.log('## removing observer')\n          observers.splice(i, 1)\n          i--\n        }\n      }\n    })\n  }\n\n  _notifyObservers(stage) {\n    // TODO: this is not hierarchical anymore\n    // i.e. probably we have to expect degradation of performance\n    // with huuuge documents, as the number of listeners is\n    // We could optimize this by 'compiling' a list of observers for\n    // each configuration, maybe lazily\n    // for now we accept this circumstance\n    const observers = this._observers[stage]\n    if (!observers) return\n    observers.forEach((o) => {\n      if (!o.resource) {\n        o.handler.call(o.context, this)\n      } else if (o.resource === 'document') {\n        if (!this.hasDocumentChanged()) return\n        const change = this.getChange()\n        const info = this.getChangeInfo()\n        const path = o.options.path\n        if (!path) {\n          o.handler.call(o.context, change, info, this)\n        } else if (change.isAffected(path)) {\n          o.handler.call(o.context, change, info, this)\n        }\n      } else {\n        if (!this.hasChanged(o.resource)) return\n        const resource = this.get(o.resource)\n        o.handler.call(o.context, resource, this)\n      }\n    })\n  }\n\n  _setDirty(resource) {\n    this._dirtyFlags[resource] = true\n  }\n\n  _resetFlow() {\n    Object.keys(this._dirtyFlags).forEach((resource) => {\n      this._dirtyFlags[resource] = false\n    })\n    this._change = null\n    this._info = null\n  }\n}\n\nexport default EditorSession\n","import { cloneDeep } from 'lodash-es'\nimport Err from '../util/SubstanceError'\nimport EditorSession from '../model/EditorSession'\nimport DocumentChange from '../model/DocumentChange'\n\n/*\n  Session that is connected to a Substance Hub allowing\n  collaboration in real-time.\n\n  Requires a connected and authenticated collabClient.\n*/\nclass CollabSession extends EditorSession {\n\n  constructor(doc, config) {\n    super(doc, config)\n    config = config || {}\n    this.config = config\n    this.collabClient = config.collabClient\n    if (config.docVersion) {\n      console.warn('config.docVersion is deprecated: Use config.version instead')\n    }\n    if (config.docVersion) {\n      console.warn('config.docId is deprecated: Use config.documentId instead')\n    }\n    this.version = config.version\n    this.documentId = config.documentId || config.docId\n    if (config.autoSync !== undefined) {\n      this.autoSync = config.autoSync\n    } else {\n      this.autoSync = true\n    }\n    if (!this.documentId) {\n      throw new Err('InvalidArgumentsError', {message: 'documentId is mandatory'})\n    }\n    if (typeof this.version === undefined) {\n      throw new Err('InvalidArgumentsError', {message: 'version is mandatory'})\n    }\n    // Internal state\n    this._connected = false // gets flipped to true in syncDone\n    this._nextChange = null // next change to be sent over the wire\n    this._pendingChange = null // change that is currently being synced\n    this._pendingSync = false\n    this._error = null\n    // Note: registering a second document:changed handler where we trigger sync requests\n    this.onUpdate('document', this.afterDocumentChange, this)\n    // This happens on a reconnect\n    this.collabClient.on('connected', this.onCollabClientConnected, this)\n    this.collabClient.on('disconnected', this.onCollabClientDisconnected, this)\n    this.collabClient.on('message', this._onMessage.bind(this))\n    // Attempt to open a document immediately, but only if the collabClient is\n    // already connected. If not the onCollabClientConnected handler will take\n    // care of it once websocket connection is ready.\n    if (this.collabClient.isConnected() && this.autoSync) {\n      this.sync()\n    }\n  }\n\n  /*\n    Unregister event handlers. Call this before throwing away\n    a CollabSession reference. Otherwise you will leak memory\n  */\n  dispose() {\n    this.disconnect()\n    this.collabClient.off(this)\n  }\n\n  /*\n    Explicit disconnect initiated by user\n  */\n  disconnect() {\n    // Let the server know we no longer want to edit this document\n    let msg = {\n      type: 'disconnect',\n      documentId: this.documentId\n    }\n    // We abort pening syncs\n    this._abortSync()\n    this._send(msg)\n  }\n\n  /*\n    Synchronize with collab server\n  */\n  sync() {\n    // If there is something to sync and there is no running sync\n    if (this.__canSync()) {\n      let nextChange = this._nextChange\n      let msg = {\n        type: 'sync',\n        documentId: this.documentId,\n        version: this.version,\n        change: nextChange ? this.serializeChange(nextChange) : undefined\n      }\n      this._send(msg)\n      this._pendingSync = true\n      this._pendingChange = nextChange\n\n      // Can be used to reset errors that arised from previous syncs.\n      // When a new sync is started, users can use this event to unset the error\n      this.emit('sync')\n      this._nextChange = null\n      this._error = null\n    } else {\n      console.error('Can not sync. Either collabClient is not connected or already syncing')\n    }\n  }\n\n  getCollaborators() {\n    return this.collaborators\n  }\n\n  isConnected() {\n    return this._connected\n  }\n\n  serializeChange(change) {\n    return change.toJSON()\n  }\n\n  deserializeChange(serializedChange) {\n    return DocumentChange.fromJSON(serializedChange)\n  }\n\n  /* Message handlers\n     ================ */\n\n  /*\n    Dispatching of remote messages.\n  */\n  _onMessage(msg) {\n    // Skip if message is not addressing this document\n    if (msg.documentId !== this.documentId) {\n      return false\n    }\n    // clone the msg to make sure that the original does not get altered\n    msg = cloneDeep(msg)\n    switch (msg.type) {\n      case 'syncDone':\n        this.syncDone(msg)\n        break\n      case 'syncError':\n        this.syncError(msg)\n        break\n      case 'update':\n        this.update(msg)\n        break\n      case 'disconnectDone':\n        this.disconnectDone(msg)\n        break\n      case 'error':\n        this.error(msg)\n        break\n      default:\n        console.error('CollabSession: unsupported message', msg.type, msg)\n        return false\n    }\n    return true\n  }\n\n  /*\n    Send message\n\n    Returns true if sent, false if not sent (e.g. when not connected)\n  */\n  _send(msg) {\n    if (this.collabClient.isConnected()) {\n      this.collabClient.send(msg)\n      return true\n    } else {\n      console.warn('Try not to call _send when disconnected. Skipping message', msg)\n      return false\n    }\n  }\n\n  /*\n    Apply remote update\n\n    We receive an update from the server. We only apply the remote change if\n    there's no pending commit. applyRemoteUpdate is also called for selection\n    updates.\n\n    If we are currently in the middle of a sync or have local changes we just\n    ignore the update. We will receive all server updates on the next syncDone.\n  */\n  update(args) {\n    // console.log('CollabSession.update(): received remote update', args);\n    let serverChange = args.change\n    let serverVersion = args.version\n\n    if (!this._nextChange && !this._pendingSync) {\n      if (serverChange) {\n        serverChange = this.deserializeChange(serverChange)\n        this._applyRemoteChange(serverChange)\n      }\n      if (serverVersion) {\n        this.version = serverVersion\n      }\n      this.startFlow()\n    } else {\n      console.info('skipped remote update. Pending sync or local changes.');\n    }\n  }\n\n  /*\n    Sync has completed\n\n    We apply server changes that happened in the meanwhile and we update\n    the collaborators (=selections etc.)\n  */\n  syncDone(args) {\n    // console.log('syncDone', args)\n    let serverChange = args.serverChange\n    let serverVersion = args.version\n\n    if (serverChange) {\n      serverChange = this.deserializeChange(serverChange)\n      this._applyRemoteChange(serverChange)\n    }\n    this.version = serverVersion\n    // Important: after sync is done we need to reset _pendingChange and _error\n    // In this state we can safely listen to\n    this._pendingChange = null\n    this._pendingSync = false\n    this._error = null\n    // Each time the sync worked we consider the system connected\n    this._connected = true\n    this.startFlow()\n    this.emit('connected')\n    // Attempt to sync again (maybe we have new local changes)\n    this._requestSync()\n  }\n\n  /*\n    Handle sync error\n  */\n  syncError(error) {\n    console.info('SyncError occured. Aborting sync', error)\n    this._abortSync()\n  }\n\n  disconnectDone() {\n    // console.log('disconnect done');\n    // Let the server know we no longer want to edit this document\n    this._afterDisconnected()\n  }\n\n  /*\n    Handle errors. This gets called if any request produced\n    an error on the server.\n  */\n  error(message) {\n    let error = message.error\n    let errorFn = this[error.name]\n    let err = Err.fromJSON(error)\n\n    if (!errorFn) {\n      error('CollabSession: unsupported error', error.name)\n      return false\n    }\n\n    this.emit('error', err)\n    errorFn = errorFn.bind(this)\n    errorFn(err)\n  }\n\n\n  /* Event handlers\n     ============== */\n\n  afterDocumentChange(change, info) {\n    // Record local changes into nextCommit\n    if (!info.remote) {\n      this._recordChange(change)\n    }\n  }\n\n  /*\n    A new authenticated collabClient connection is available.\n\n    This happens in a reconnect scenario.\n  */\n  onCollabClientConnected() {\n    // console.log('CollabClient connected');\n    if (this.autoSync) {\n      this.sync()\n    }\n  }\n\n  /*\n    Implicit disconnect (server connection drop out)\n  */\n  onCollabClientDisconnected() {\n    // console.log('CollabClient disconnected');\n    this._abortSync()\n    if (this._connected) {\n      this._afterDisconnected()\n    }\n  }\n\n  /* Internal methods\n     ================ */\n\n  _commit(change, info) {\n    this._commitChange(change, info)\n    this.startFlow()\n  }\n\n  /*\n    Apply a change to the document\n  */\n  _applyRemoteChange(change) {\n    // console.log('CollabSession: applying remote change');\n    if (change.ops.length > 0) {\n      this._transaction._apply(change)\n      this.getDocument()._apply(change)\n      this._setDirty('document')\n      // Only undo+redo history is updated according to the new change\n      this._transformLocalChangeHistory(change)\n      this._setSelection(this._transformSelection(change))\n      this._change = change\n      this._info = { remote: true }\n      this.startFlow()\n    }\n  }\n\n  /*\n    We record all local changes into a single change (aka commit) that\n  */\n  _recordChange(change) {\n    if (!this._nextChange) {\n      this._nextChange = change\n    } else {\n      // Merge new change into nextCommit\n      this._nextChange.ops = this._nextChange.ops.concat(change.ops)\n      this._nextChange.after = change.after\n    }\n    this._requestSync()\n  }\n\n  __canSync() {\n    return this.collabClient.isConnected() && !this._pendingSync\n  }\n\n  /*\n    Triggers a new sync if there is a new change and no pending sync\n  */\n  _requestSync() {\n    if (this._nextChange && this.__canSync()) {\n      this.sync()\n    }\n  }\n\n  /*\n    Abots the currently running sync.\n\n    This is called _onDisconnect and could be called after a sync request\n    times out (not yet implemented)\n  */\n  _abortSync() {\n    let newNextChange = this._nextChange\n\n    if (this._pendingChange) {\n      newNextChange = this._pendingChange\n      // If we have local changes also, we append them to the new nextChange\n      if (this._nextChange) {\n        newNextChange.ops = newNextChange.ops.concat(this._nextChange.ops)\n        newNextChange.after = this._nextChange.after\n      }\n      this._pendingChange = null\n    }\n    this._pendingSync = false\n    this._error = null\n    this._nextChange = newNextChange\n  }\n\n  /*\n    Sets the correct state after a collab session has been disconnected\n    either explicitly or triggered by a connection drop out.\n  */\n  _afterDisconnected() {\n    this._connected = false\n    this.emit('disconnected')\n  }\n\n  /*\n    Returns true if there are local changes\n  */\n  _hasLocalChanges() {\n    return this._nextChange && this._nextChange.ops.length > 0\n  }\n\n}\n\nexport default CollabSession\n","/**\n  Performs an asynchronous HTTP request.\n\n  @param {String} method HTTP method to use for the request\n  @param {String} url url to which the request is sent\n  @param {Object} data json to be sent to the server\n  @param {Function} cb callback that takes error and response data\n\n  @example\n\n  ```js\n  request('GET', './data.json', null, function(err, data) {\n    if (err) return cb(err);\n    cb(null, data);\n  });\n  ```\n*/\nfunction request(method, url, data, cb) {\n  var request = new XMLHttpRequest()\n  request.open(method, url, true)\n  request.setRequestHeader('Content-Type', 'application/json; charset=UTF-8')\n  request.onload = function() {\n    if (request.status >= 200 && request.status < 400) {\n      var res = request.responseText\n      if(isJson(res)) res = JSON.parse(res)\n      cb(null, res)\n    } else {\n      return cb(new Error('Request failed. Returned status: ' + request.status))\n    }\n  }\n\n  if (data) {\n    request.send(JSON.stringify(data))\n  } else {\n    request.send()\n  }\n}\n\nfunction isJson(str) {\n  try {\n    JSON.parse(str)\n  } catch (e) {\n    return false\n  }\n  return true\n}\n\nexport default request","import request from '../util/request'\n\n/*\n  HTTP client for talking with DocumentServer\n*/\nclass DocumentClient {\n  constructor(config) {\n    this.config = config\n  }\n\n  /*\n    Create a new document on the server\n\n    ```js\n    @example\n    ```\n\n    documentClient.createDocument({\n      schemaName: 'prose-article',\n      info: {\n        userId: 'userx'\n      }\n    });\n  */\n  createDocument(newDocument, cb) {\n    request('POST', this.config.httpUrl, newDocument, cb)\n  }\n\n  /*\n    Get a document from the server\n\n    @example\n\n    ```js\n    documentClient.getDocument('mydoc-id');\n    ```\n  */\n\n  getDocument(documentId, cb) {\n    request('GET', this.config.httpUrl+documentId, null, cb)\n  }\n\n  /*\n    Remove a document from the server\n\n    @example\n\n    ```js\n    documentClient.deleteDocument('mydoc-id');\n    ```\n  */\n\n  deleteDocument(documentId, cb) {\n    request('DELETE', this.config.httpUrl+documentId, null, cb)\n  }\n\n}\n\nexport default DocumentClient\n","import ObjectOperation from '../model/data/ObjectOperation'\n\n/*\n  Compute snapshot based on a given doc (JSON) and a set of changes\n*/\nexport default function computeSnapshot(jsonDoc, changeset) {\n  // Clone the doc to make sure we don't manipulate in-place\n  jsonDoc = JSON.parse(JSON.stringify(jsonDoc))\n  let nodes = jsonDoc.nodes\n  changeset.forEach((change) => {\n    change.ops.forEach((op) => {\n      op = ObjectOperation.fromJSON(op)\n      op.apply(nodes)\n    })\n  })\n  return jsonDoc\n}","import computeSnapshot from './computeSnapshot'\n\nconst EMPTY_DOC = { nodes: {}}\n\n/*\n  API for creating and retrieving document snapshots\n*/\nclass SnapshotEngine {\n  constructor(config) {\n    this.changeStore = config.changeStore\n    this.snapshotStore = config.snapshotStore\n  }\n\n  /*\n    Compute snapshot for given documentId and version\n\n    Example: Let's assume we want to request a snapshot for a new version 20.\n    Now getClosestSnapshot will give us version 15. This requires us to fetch\n    the changes since version 16 and apply those, plus the very new change.\n  */\n  getSnapshot(documentId, version, cb) {\n    let jsonDoc = EMPTY_DOC\n    this._getClosestSnapshot(documentId, version, (err, snapshot, closestVersion) => {\n      if (err) {\n        return cb(err)\n      }\n      if (snapshot && version === closestVersion) {\n        // we alread have a snapshot for this version\n        return cb(null, snapshot, version)\n      }\n      let knownVersion\n      if (snapshot) {\n        knownVersion = closestVersion\n      } else {\n        knownVersion = 0 // we need to fetch all changes\n      }\n      if (snapshot) {\n        jsonDoc = snapshot\n      }\n      // Now we get the remaining changes after the known version\n      this.changeStore.getChanges(documentId, knownVersion, version, (err, changes) => {\n        if (err) return cb(err)\n        if (changes.length < (version - knownVersion)) {\n          return cb('Changes missing for reconstructing version '+ version)\n        }\n        jsonDoc = computeSnapshot(jsonDoc, changes)\n        cb(null, jsonDoc, version)\n      })\n    })\n  }\n\n  /*\n    Creates a snapshot\n  */\n  createSnapshot(documentId, version, cb) {\n    this.getSnapshot(documentId, version, (err, snapshot) => {\n      if (err) return cb(err)\n      this.snapshotStore.saveSnapshot(documentId, version, snapshot, cb)\n    })\n  }\n\n  _getClosestSnapshot(documentId, version, cb) {\n    let closestVersion\n\n    this.snapshotStore.getVersions(documentId, (err, versions) => {\n      if (versions.indexOf(version) >= 0) {\n        closestVersion = version\n      } else {\n        // We don't have a snaphot for that requested version\n        let smallerVersions = versions.filter(function(v) {\n          return parseInt(v, 10) < version\n        })\n        // Take the closest version if there is any\n        closestVersion = Math.max.apply(null, smallerVersions)\n      }\n      if (!closestVersion) {\n        return cb(null, undefined)\n      }\n      this.snapshotStore.getSnapshot(documentId, version, cb)\n    })\n  }\n}\n\nexport default SnapshotEngine\n","import EventEmitter from '../util/EventEmitter'\nimport SnapshotEngine from './SnapshotEngine'\n\n/*\n  DocumentEngine\n*/\nclass DocumentEngine extends EventEmitter {\n  constructor(config) {\n    super()\n    this.changeStore = config.changeStore\n    this.snapshotStore = config.snapshotStore\n    // Snapshot creation frequency (e.g. if it equals 15 then every\n    // 15th version will be saved as snapshot)\n    this.snapshotFrequency = config.snapshotFrequency || 1\n    this.snapshotEngine = new SnapshotEngine({\n      changeStore: this.changeStore,\n      snapshotStore: this.snapshotStore\n    })\n  }\n\n  /*\n    Creates a new document\n\n    A valid document must have at least one valid change\n  */\n  createDocument(documentId, initialChange, cb) {\n    this.addChange(documentId, initialChange, cb)\n  }\n\n  /*\n    Get a document snapshot for a given version. If no version\n    is provivded, the latest version is returned\n  */\n  getDocument(documentId, version, cb) {\n    if (typeof version === 'function') {\n      cb = version\n      version = undefined\n    }\n    if (!documentId) {\n      throw new Error('Invalid Arguments')\n    }\n    if (version === undefined) {\n      this.getVersion(documentId, (err, version) => {\n        if (err) return cb(err)\n        this.snapshotEngine.getSnapshot(documentId, version, cb)\n      })\n    } else {\n      this.snapshotEngine.getSnapshot(documentId, version, cb)\n    }\n  }\n\n  /*\n    Delete document by documentId\n  */\n  deleteDocument(documentId, cb) {\n    this.changeStore.deleteChanges(documentId, (err) => {\n      if (err) {\n        return cb(new Error('Deleting changes failed'))\n      }\n    })\n  }\n\n  /*\n    Check if a given document exists\n  */\n  documentExists(documentId, cb) {\n    this.getVersion(documentId, (err, version) => {\n      if (version >= 0) {\n        cb(null, true)\n      } else {\n        cb(null, false)\n      }\n    })\n  }\n\n  /*\n    Get changes based on documentId, sinceVersion\n  */\n  getChanges(documentId, sinceVersion, toVersion, cb) {\n    this.changeStore.getChanges(documentId, sinceVersion, toVersion, cb)\n  }\n\n  /*\n    Get version for given documentId\n  */\n  getVersion(documentId, cb) {\n    this.changeStore.getVersion(documentId, cb)\n  }\n\n  /*\n    Here the implementer decides whether a snapshot should be created or not.\n    It may be a good strategy to only create a snaphot for every 10th version.\n    However for now we will just snapshot each change to keep things simple.\n  */\n  requestSnapshot(documentId, version, cb) {\n    if (version % this.snapshotFrequency === 0) {\n      this.snapshotEngine.createSnapshot(documentId, version, cb)\n    } else {\n      cb(null) // do nothing\n    }\n  }\n\n  /*\n    Add change to a given documentId.\n\n    Snapshot creation is requested on each change to be stored.\n  */\n  addChange(documentId, change, cb) {\n    this.changeStore.addChange(documentId, change, (err, newVersion) => {\n      if (err) return cb(err)\n\n      this.requestSnapshot(documentId, newVersion, () => {\n        // no matter if snaphot creation errored or not we will confirm change\n        cb(null, newVersion)\n      })\n    })\n  }\n}\n\nexport default DocumentEngine\n","/*\n  DocumentServer module. Can be bound to an express instance\n*/\nclass DocumentServer {\n\n  constructor(params) {\n    this.configurator = params.configurator\n    this.engine = this.configurator.getDocumentEngine()\n    // TODO: make path configurable through configurator\n    this.path = '/api/documents'\n  }\n\n  /*\n    Attach this server to an express instance\n  */\n  bind(app) {\n    app.post(this.path, this._createDocument.bind(this))\n    app.get(this.path + '/:id', this._getDocument.bind(this))\n    app.delete(this.path + '/:id', this._deleteDocument.bind(this))\n  }\n\n  /*\n    Create a new document, given a documentId and initial change\n  */\n  _createDocument(req, res, next) {\n    const { documentId, change } = req.body\n    this.engine.createDocument(documentId, change, function(err, version) {\n      if (err) return next(err)\n      res.json(version)\n    })\n  }\n\n  /*\n    Get a document with given document id\n  */\n  _getDocument(req, res, next) {\n    const documentId = req.params.id\n    this.engine.getDocument(documentId, function(err, jsonDoc, version) {\n      if (err) return next(err)\n      res.json({\n        data: jsonDoc,\n        version: version\n      })\n    })\n  }\n\n  /*\n    Remove a document with given document id\n  */\n  _deleteDocument(req, res, next) {\n    let documentId = req.params.id\n    this.engine.deleteDocument(documentId, function(err, result) {\n      if (err) return next(err)\n      res.json(result)\n    })\n  }\n}\n\nexport default DocumentServer\n","/*\n  Implements Substance SnapshotStore API. This is just a dumb store.\n  No integrity checks are made, as this is the task of SnapshotEngine\n*/\nclass SnapshotStore {\n  constructor(seed) {\n    this._snapshots = seed || {}\n  }\n\n  /*\n    Get all available versions for a document\n  */\n  getVersions(documentId, cb) {\n    let versions = this._getVersions(documentId)\n    cb(null, versions)\n  }\n\n  /*\n    Get Snapshot by documentId and version.\n\n    Returns snapshot data and snaphot version\n  */\n  getSnapshot(documentId, version, cb) {\n    if (!arguments.length === 3) {\n      throw new Error('Invalid Arguments')\n    }\n    let docEntry = this._snapshots[documentId]\n    if (!docEntry) return cb(null, undefined)\n    let snapshot = docEntry[version]\n    if (snapshot) {\n      cb(null, snapshot, version)\n    } else {\n      cb(null, undefined)\n    }\n  }\n\n  /*\n    Saves a snapshot for a given documentId and version.\n\n    Please note that an existing snapshot will be overwritten.\n  */\n  saveSnapshot(documentId, version, data, cb) {\n    if (!documentId || !version || !data) {\n      throw new Error('Invalid arguments')\n    }\n    let docEntry = this._snapshots[documentId]\n    if (!docEntry) {\n      docEntry = this._snapshots[documentId] = {}\n    }\n    docEntry[version] = data\n    cb(null, docEntry[version])\n  }\n\n  /*\n    Removes a snapshot for a given documentId + version\n  */\n  deleteSnapshot(documentId, version, cb) {\n    let docEntry = this._snapshots[documentId]\n    if (!docEntry || !docEntry[version]) {\n      return cb(new Error('Snapshot does not exist and can not be deleted'))\n    }\n    let snapshot = this._snapshots[documentId][version]\n    delete this._snapshots[documentId][version]\n    cb(null, snapshot)\n  }\n\n  /*\n    Get versions for a given document\n  */\n  _getVersions(documentId) {\n    let docEntry = this._snapshots[documentId]\n    if (!docEntry) return [] // no versions available\n    return Object.keys(docEntry)\n  }\n\n}\n\nexport default SnapshotStore\n","import ClientConnection from './ClientConnection'\n\n/**\n  Browser WebSocket abstraction. Handles reconnects etc.\n*/\nclass WebSocketConnection extends ClientConnection {\n  _createWebSocket() {\n    return new window.WebSocket(this.config.wsUrl);\n  }\n}\n\nexport default WebSocketConnection\n","import DocumentEngine from './DocumentEngine'\n\nclass CollabServerConfigurator {\n  constructor() {\n    this.config = {\n      heartbeat: 30*1000,\n      documentStore: undefined,\n      changeStore: undefined,\n      snapshotStore: undefined\n    }\n  }\n\n  setHost(host) {\n    this.config.host = host\n  }\n\n  setPort(port) {\n    this.config.port = port\n  }\n\n  // Record phase API\n  // ------------------------\n\n  setDocumentStore(documentStore) {\n    this.config.documentStore = documentStore\n  }\n\n  setChangeStore(changeStore) {\n    this.config.changeStore = changeStore\n  }\n\n  setSnapshotStore(snapshotStore) {\n    this.config.snapshotStore = snapshotStore\n  }\n\n  // Config Interpreter API\n  // ------------------------\n\n  getHost() {\n    return this.config.host\n  }\n\n  getPort() {\n    return this.config.port\n  }\n\n  getDocumentStore() {\n    return this.config.documentStore\n  }\n\n  getChangeStore() {\n    return this.config.changeStore\n  }\n\n  getSnapshotStore() {\n    return this.config.snapshotStore\n  }\n\n  /*\n    TODO: We should discuss if it is a good idea that the configurator 'owns'\n    instances. Don't see a better solution for now though.\n  */\n  getDocumentEngine() {\n    if (!this.documentEngine) {\n      this.documentEngine = new DocumentEngine({\n        documentStore: this.config.documentStore,\n        changeStore: this.config.changeStore,\n        snapshotStore: this.config.snapshotStore\n      })\n    }\n    return this.documentEngine\n  }\n\n  /**\n    Configure this instance of configuration for provided package.\n    @param  {Object} pkg     Object should contain a `configure` method that\n                             takes a Configurator instance as the first method.\n    @param  {Object} options Additional options to pass to the\n                             package.`configure` method\n\n    @return {configurator}   returns the configurator instance to make it easy\n                             to chain calls to import.\n   */\n  import(pkg, options) {\n    pkg.configure(this, options || {})\n    return this\n  }\n\n}\n\nexport default CollabServerConfigurator\n","import ChangeStore from './ChangeStore'\nimport SnapshotStore from './SnapshotStore'\n\n/**\n  Standard configuration for Substance CollabServer\n*/\nexport default {\n  name: 'collab-server',\n  configure: function (config) {\n    config.setChangeStore(new ChangeStore())\n    config.setSnapshotStore(new SnapshotStore())\n  }\n}\n","import { isBoolean, isObject, cloneDeep } from 'lodash-es'\nimport isNumber from '../../util/isNumber'\nimport isString from '../../util/isString'\nimport isArray from '../../util/isArray'\nimport isPlainObject from '../../util/isPlainObject'\nimport EventEmitter from '../../util/EventEmitter'\nimport forEach from '../../util/forEach'\nimport last from '../../util/last'\n\nclass Property {\n  constructor(spec) {\n    Object.assign(this, spec)\n  }\n\n  isArray() {\n    return isArray(this.type)\n  }\n\n  isReference() {\n    if (this.isArray()) {\n      return last(this.type) === 'id'\n    } else {\n      return this.type === 'id'\n    }\n  }\n}\n\n/*\n  Base node implementation.\n\n  @prop {String} id an id that is unique within this data\n */\nclass Node extends EventEmitter {\n\n  /**\n    @param {Object} properties\n  */\n  constructor(props) {\n    super()\n\n    var NodeClass = this.constructor\n\n    var schema = NodeClass.schema\n    for (var name in schema) {\n      if (!schema.hasOwnProperty(name)) continue\n      var prop = schema[name]\n      // check integrity of provided props, such as type correctness,\n      // and mandatory properties\n      var propIsGiven = (props[name] !== undefined)\n      var hasDefault = prop.hasOwnProperty('default')\n      var isOptional = prop.optional\n      if ( (!isOptional && !hasDefault) && !propIsGiven) {\n        throw new Error('Property ' + name + ' is mandatory for node type ' + this.type)\n      }\n      if (propIsGiven) {\n        this[name] = _checked(prop, props[name])\n      } else if (hasDefault) {\n        this[name] = cloneDeep(_checked(prop, prop.default))\n      } else {\n        // property is optional\n      }\n    }\n  }\n\n  dispose() {}\n\n  /**\n    Check if the node is of a given type.\n\n    @param {String} typeName\n    @returns {Boolean} true if the node has a parent with given type, false otherwise.\n  */\n  isInstanceOf(typeName) {\n    return Node.isInstanceOf(this.constructor, typeName)\n  }\n\n  getSchema() {\n    return this.constructor.schema\n  }\n\n  /**\n    Get a the list of all polymorphic types.\n\n    @returns {String[]} An array of type names.\n   */\n  getTypeNames() {\n    var typeNames = []\n    var NodeClass = this.constructor\n    while (NodeClass.type !== \"node\") {\n      typeNames.push(NodeClass.type)\n      NodeClass = Object.getPrototypeOf(NodeClass)\n    }\n    return typeNames\n  }\n\n  /**\n   * Get the type of a property.\n   *\n   * @param {String} propertyName\n   * @returns The property's type.\n   */\n  getPropertyType(propertyName) {\n    var schema = this.constructor.schema\n    return schema[propertyName].type\n  }\n\n  /**\n    Convert node to JSON.\n\n    @returns {Object} JSON representation of node.\n   */\n  toJSON() {\n    var data = {\n      type: this.type\n    }\n    forEach(this.constructor.schema, function(prop, name) {\n      let val = this[name]\n      if (prop.optional && val === undefined) return\n      if (isArray(val) || isPlainObject(val)) {\n        val = cloneDeep(val)\n      }\n      data[prop.name] = val\n    }.bind(this))\n    return data\n  }\n\n}\n\nNode.define = Node.defineSchema = function(schema) {\n  _defineSchema(this, schema)\n}\n\nNode.define({\n  type: \"node\",\n  id: 'string'\n})\n\nObject.defineProperty(Node.prototype, 'type', {\n  configurable: false,\n  get: function() {\n    return this.constructor.type\n  },\n  set: function() {\n    throw new Error('read-only')\n  }\n})\n\nNode.prototype._isNode = true\n\n/**\n  Internal implementation of Node.prototype.isInstanceOf.\n\n  @static\n  @private\n  @returns {Boolean}\n */\nNode.isInstanceOf = function(NodeClass, typeName) {\n  var type = NodeClass.type\n  while (type !== \"node\") {\n    if (type === typeName) return true\n    var _super = Object.getPrototypeOf(NodeClass.prototype).constructor\n    if (_super && _super.type) {\n      NodeClass = _super\n      type = NodeClass.type\n    } else {\n      break\n    }\n  }\n  return false\n}\n\n// ### Internal implementation\n\nfunction _defineSchema(NodeClass, schema) {\n  if (schema.type) {\n    NodeClass.type = schema.type\n  }\n  var compiledSchema = _compileSchema(schema)\n  // collects a full schema considering the schemas of parent class\n  // we will use the unfolded schema, check integrity of the given props (mandatory, readonly)\n  // or fill in default values for undefined properties.\n  NodeClass.schema = _unfoldedSchema(NodeClass, compiledSchema)\n  // computes the set of default properties only once\n  NodeClass.defaultProps = _extractDefaultProps(NodeClass)\n}\n\nfunction _compileSchema(schema) {\n  var compiledSchema = {}\n  forEach(schema, function(definition, name) {\n    // skip 'type'\n    if (name === 'type') {\n      return\n    }\n    if (isString(definition) || isArray(definition)) {\n      definition = { type: definition }\n    }\n    definition = _compileDefintion(definition)\n    definition.name = name\n    compiledSchema[name] = new Property(definition)\n  })\n  return compiledSchema\n}\n\nfunction _compileDefintion(definition) {\n  var result = definition\n  if (isArray(definition.type) && definition[0] !== \"array\") {\n    definition.type = [ \"array\", definition.type[0] ]\n  } else if (definition.type === 'text') {\n    result = {\n      type: \"string\",\n      default: ''\n    }\n  }\n  return result\n}\n\nfunction _unfoldedSchema(NodeClass, compiledSchema) {\n  var schemas = [compiledSchema]\n  var clazz = NodeClass\n  while(clazz) {\n    var parentProto = Object.getPrototypeOf(clazz.prototype)\n    if (!parentProto) {\n      break\n    }\n    clazz = parentProto.constructor\n    if (clazz && clazz.schema) {\n      schemas.unshift(clazz.schema)\n    }\n  }\n  schemas.unshift({})\n  return Object.assign.apply(null, schemas)\n}\n\nfunction _extractDefaultProps(NodeClass) {\n  var unfoldedSchema = NodeClass.unfoldedSchema\n  var defaultProps = {}\n  forEach(unfoldedSchema, function(prop, name) {\n    if (prop.hasOwnProperty('default')) {\n      defaultProps[name] = prop['default']\n    }\n  })\n  return defaultProps\n}\n\nfunction _checked(prop, value) {\n  var type\n  if (isArray(prop.type)) {\n    type = \"array\"\n  } else {\n    type = prop.type\n  }\n  if (value === null) {\n    if (prop.notNull) {\n      throw new Error('Value for property ' + prop.name + ' is null.')\n    } else {\n      return value\n    }\n  }\n  if (value === undefined) {\n    throw new Error('Value for property ' + prop.name + ' is undefined.')\n  }\n  if (type === \"string\" && !isString(value) ||\n      type === \"boolean\" && !isBoolean(value) ||\n      type === \"number\" && !isNumber(value) ||\n      type === \"array\" && !isArray(value) ||\n      type === \"id\" && !isString(value) ||\n      type === \"object\" && !isObject(value)) {\n    throw new Error('Illegal value type for property ' + prop.name + ': expected ' + type + ', was ' + (typeof value))\n  }\n  return value\n}\n\nexport default Node\n","import forEach from '../util/forEach'\nimport DataNode from './data/Node'\nimport EventEmitter from '../util/EventEmitter'\n\n/**\n  Base node type for document nodes.\n\n  @example\n\n  The following example shows how a new node type is defined.\n\n  ```js\n  class Todo extends TextBlock {}\n  Todo.define({\n    type: 'todo',\n    content: 'text',\n    done: { type: 'bool', default: false }\n  })\n  ```\n\n  The following data types are supported:\n\n  - `string` bare metal string data type\n  - `text` a string that carries annotations\n  - `number` numeric values\n  - `bool` boolean values\n  - `id` a node id referencing another node in the document\n*/\nclass DocumentNode extends DataNode {\n\n  /**\n    @param {Document} doc A document instance\n    @param {object} node properties\n  */\n  constructor(doc, props) {\n    super(props)\n    // being less strict here allows us to create a detached node\n    // which can be useful for testing\n    // if (!doc) throw new Error('Document instance is mandatory.')\n    this.document = doc\n  }\n\n  /**\n    Get the Document instance.\n\n    @returns {Document}\n  */\n  getDocument() {\n    return this.document\n  }\n\n  /**\n    Whether this node has a parent.\n\n    `parent` is a built-in property for implementing nested nodes.\n\n    @returns {Boolean}\n  */\n  hasParent() {\n    return Boolean(this.parent)\n  }\n\n  /**\n    @returns {DocumentNode} the parent node\n  */\n  getParent() {\n    return this.document.get(this.parent)\n  }\n\n  /**\n    Checks whether this node has children.\n\n    @returns {Boolean} default: false\n  */\n  hasChildren() {\n    return false\n  }\n\n  /**\n    Get the index of a given child.\n\n    @returns {Number} default: -1\n  */\n  getChildIndex(child) { // eslint-disable-line\n    return -1\n  }\n\n  /**\n    Get a child node at a given position.\n\n    @returns {DocumentNode} default: null\n  */\n  getChildAt(idx) { // eslint-disable-line\n    return null\n  }\n\n  /**\n    Get the number of children nodes.\n\n    @returns {Number} default: 0\n  */\n  getChildCount() {\n    return 0\n  }\n\n  /**\n    Get the root node.\n\n    The root node is the last ancestor returned\n    by a sequence of `getParent()` calls.\n\n    @returns {DocumentNode}\n  */\n  getRoot() {\n    var node = this\n    while (node.hasParent()) {\n      node = node.getParent()\n    }\n    return node\n  }\n\n  // TODO: should this really be here?\n  // volatile property necessary to render highlighted node differently\n  // TODO: We should get this out here\n  setHighlighted(highlighted, scope) {\n    if (this.highlighted !== highlighted) {\n      this.highlightedScope = scope\n      this.highlighted = highlighted\n      this.emit('highlighted', highlighted)\n    }\n  }\n\n  on(eventName, handler, ctx) {\n    var match = _matchPropertyEvent(eventName)\n    if (match) {\n      var propertyName = match[1]\n      if (this.constructor.schema[propertyName]) {\n        var doc = this.getDocument()\n        doc.getEventProxy('path')\n          .on([this.id, propertyName], handler, ctx)\n      }\n    }\n    EventEmitter.prototype.on.apply(this, arguments)\n  }\n\n  off(ctx, eventName, handler) {\n    var doc = this.getDocument()\n    var match = false\n    if (!eventName) {\n      doc.getEventProxy('path').off(ctx)\n    } else {\n      match = _matchPropertyEvent(eventName)\n    }\n    if (match) {\n      var propertyName = match[1]\n      doc.getEventProxy('path')\n        .off(ctx, [this.id, propertyName], handler)\n    }\n    EventEmitter.prototype.off.apply(this, arguments)\n  }\n\n  // Experimental: we are working on a simpler API replacing the\n  // rather inconvenient EventProxy API.\n  connect(ctx, handlers) {\n    console.warn('DEPRECATED: use Node.on() instead')\n    forEach(handlers, function(func, name) {\n      this.on(name, func, ctx)\n    }.bind(this))\n  }\n\n  disconnect(ctx) {\n    console.warn('DEPRECATED: use Node.off() instead')\n    this.off(ctx)\n  }\n\n  _onPropertyChange(propertyName) {\n    var args = [propertyName + ':changed']\n      .concat(Array.prototype.slice.call(arguments, 1))\n    this.emit.apply(this, args)\n  }\n\n  // Node categories\n  // --------------------\n\n  /**\n    @returns {Boolean} true if node is a block node (e.g. Paragraph, Figure, List, Table)\n  */\n  isBlock() {\n    return this.constructor.isBlock\n  }\n\n  /**\n    @returns {Boolean} true if node is a text node (e.g. Paragraph, Codebock)\n  */\n  isText() {\n    return this.constructor.isText\n  }\n\n  /**\n    @returns {Boolean} true if node is an annotation node (e.g. Strong)\n  */\n  isPropertyAnnotation() {\n    return this.constructor.isPropertyAnnotation\n  }\n\n  /**\n    @returns {Boolean} true if node is an inline node (e.g. Citation)\n  */\n  isInline() {\n    return this.constructor.isInline\n  }\n\n  /**\n    @returns {Boolean} true if node is a container annotation (e.g. multiparagraph comment)\n  */\n  isContainerAnnotation() {\n    return this.constructor.isContainerAnnotation\n  }\n\n}\n\nDocumentNode.prototype._isDocumentNode = true\n\n/**\n  Declares a node to be treated as block-type node.\n\n  BlockNodes are considers the direct descendant of `Container` nodes.\n  @type {Boolean} default: false\n*/\nDocumentNode.isBlock = false\n\n/**\n  Declares a node to be treated as text-ish node.\n\n  @type {Boolean} default: false\n*/\nDocumentNode.isText = false\n\n/**\n  Declares a node to be treated as {@link model/PropertyAnnotation}.\n\n  @type {Boolean} default: false\n*/\nDocumentNode.isPropertyAnnotation = false\n\n/**\n  Declares a node to be treated as {@link model/ContainerAnnotation}.\n\n  @type {Boolean} default: false\n*/\nDocumentNode.isContainerAnnotation = false\n\n/**\n  Declares a node to be treated as {@link model/InlineNode}.\n\n  @type {Boolean} default: false\n*/\nDocumentNode.isInline = false\n\nfunction _matchPropertyEvent(eventName) {\n  return /([a-zA-Z_0-9]+):changed/.exec(eventName)\n}\n\nexport default DocumentNode\n","import DocumentNode from './DocumentNode'\n\nclass BlockNode extends DocumentNode {}\n\nBlockNode.isBlock = true;\n\nexport default BlockNode;\n","/**\n  Mix-in for parent nodes.\n\n  ParentNodes are nodes which have children nodes,\n  such as List, Table, TableSection, TableRow.\n\n  @mixin\n*/\nvar ParentNodeMixin = {\n\n  hasChildren: function() {\n    return true\n  },\n\n  getChildrenProperty: function() {\n    throw new Error('ParentNodeMixin.getChildrenProperty is abstract and must be implemented in ' + this.type + '.')\n  },\n\n  getChildIndex: function(child) {\n    return this[this.getChildrenProperty()].indexOf(child.id)\n  },\n\n  getChildren: function() {\n    var doc = this.getDocument()\n    var childrenIds = this[this.getChildrenProperty()]\n    return childrenIds.map(function(id) {\n      return doc.get(id)\n    })\n  },\n\n  getChildAt: function(idx) {\n    var children = this[this.getChildrenProperty()]\n    if (idx < 0 || idx >= children.length) {\n      throw new Error('Array index out of bounds: ' + idx + \", \" + children.length)\n    }\n    return this.getDocument().get(children[idx])\n  },\n\n  getChildCount: function() {\n    return this[this.getChildrenProperty()].length\n  },\n\n  getAddressablePropertyNames: function() {\n    return [this.getChildrenProperty()]\n  },\n\n}\n\nexport default ParentNodeMixin\n","class ContainerAddress {\n\n  constructor(pos, offset) {\n    this.pos = pos\n    this.offset = offset\n  }\n\n  isBefore(other, strict) {\n    strict = Boolean(strict)\n    if (this.pos < other.pos) {\n      return true\n    } else if (this.pos > other.pos) {\n      return false\n    } else if (this.offset < other.offset) {\n      return true\n    } else if (this.offset > other.offset) {\n      return false\n    }\n    if (strict) {\n      return false\n    } else {\n      return true\n    }\n  }\n\n  isAfter(other, strict) {\n    return other.isBefore(this, strict)\n  }\n\n  isEqual(other) {\n    return (this.pos === other.pos && this.offset === other.offset)\n  }\n\n  toString() {\n    return [this.pos,'.',this.offset].join('')\n  }\n}\n\nexport default ContainerAddress\n","import { extend, isNumber, isString } from 'lodash-es'\nimport DocumentNode from './DocumentNode'\nimport ParentNodeMixin from './ParentNodeMixin'\nimport ContainerAddress from './ContainerAddress'\n\n/*\n  A Container represents a list of nodes.\n\n  While most editing occurs on a property level (such as editing text),\n  other things happen on a node level, e.g., breaking or mergin nodes,\n  or spanning annotations or so called ContainerAnnotations.\n\n  @class\n  @prop {String[]} nodes\n*/\nclass Container extends DocumentNode {\n\n  constructor(...args) {\n    super(...args)\n    // HACK: we invalidate cached positions on every change\n    // NOTE, that in trans action docs we don't do caching\n    if (this.document && !this.document.isTransactionDocument) {\n      this.document.on('document:changed', this._onChange, this)\n    }\n  }\n\n  dispose() {\n    this.document.off(this)\n  }\n\n  getContentPath() {\n    return [this.id, 'nodes']\n  }\n\n  getContent() {\n    return this.nodes\n  }\n\n  getPosition(nodeId) {\n    // HACK: ATM we are caching only in the real Document\n    // i.e., which is connected to the UI etc.\n    if (this.document && this.document.isTransactionDocument) {\n      return this.getContent().indexOf(nodeId)\n    } else {\n      var positions = this._getCachedPositions()\n      var pos = positions[nodeId]\n      if (pos === undefined) {\n        pos = -1\n      }\n      return pos\n    }\n  }\n\n  getNodeAt(idx) {\n    let content = this.getContent()\n    if (idx < 0 || idx >= content.length) {\n      throw new Error('Array index out of bounds: ' + idx + \", \" + content.length)\n    }\n    return this.getDocument().get(content[idx])\n  }\n\n  getNodes() {\n    let doc = this.getDocument()\n    return this.getContent().map(function(id) {\n      return doc.get(id)\n    }).filter(Boolean)\n  }\n\n  show(nodeId, pos) {\n    var doc = this.getDocument()\n    var arg1 = arguments[0]\n    if (!isString(arg1)) {\n      if (arg1._isNode) {\n        nodeId = arg1.id\n      }\n    }\n    if (!isNumber(pos)) {\n      pos = this.getLength()\n    }\n    doc.update(this.getContentPath(), { type: 'insert', pos: pos, value: nodeId })\n  }\n\n  hide(nodeId) {\n    var doc = this.getDocument()\n    var pos = this.getPosition(nodeId)\n    if (pos >= 0) {\n      doc.update(this.getContentPath(), { type: 'delete', pos: pos })\n    }\n  }\n\n  getAddress(coor) {\n    if (!coor._isCoordinate) {\n      // we have broken with an earlier version of this API\n      throw new Error('Illegal argument: Container.getAddress(coor) expects a Coordinate instance.')\n    }\n    var nodeId = coor.path[0]\n    var nodePos = this.getPosition(nodeId)\n    var offset\n    if (coor.isNodeCoordinate()) {\n      if (coor.offset > 0) {\n        offset = Number.MAX_VALUE\n      } else {\n        offset = 0\n      }\n    } else {\n      offset = coor.offset\n    }\n    return new ContainerAddress(nodePos, offset)\n  }\n\n  getLength() {\n    return this.getContent().length\n  }\n\n  get length() {\n    return this.getLength()\n  }\n\n  _onChange(change) {\n    if (change.isUpdated(this.getContentPath())) {\n      this.positions = null\n    }\n  }\n\n  _getCachedPositions() {\n    if (!this.positions) {\n      var positions = {}\n      this.nodes.forEach(function(id, pos) {\n        positions[id] = pos\n      })\n      this.positions = positions\n    }\n    return this.positions\n  }\n\n}\n\nContainer.prototype._isContainer = true\n\n// HACK: using a mixin here\n// TODO: Get rid of this ParentNodeMixin\nextend(Container.prototype, ParentNodeMixin)\n\nContainer.prototype.getChildrenProperty = function() {\n  return 'nodes'\n}\n\nContainer.define({\n  type: 'container',\n  nodes: { type: ['array', 'id'], default: [] }\n})\n\nexport default Container\n","import { isEqual, last } from 'lodash-es'\nimport EventEmitter from '../util/EventEmitter'\nimport forEach from '../util/forEach'\nimport DocumentNode from './DocumentNode'\nimport Selection from './Selection'\nimport Anchor from './Anchor'\nimport documentHelpers from './documentHelpers'\n\n/*\n  Describes an annotation sticking on a container that can span over multiple\n  nodes.\n\n  @class\n\n  @example\n\n  ```js\n  {\n    \"id\": \"subject_reference_1\",\n    \"type\": \"subject_reference\",\n    \"containerId\": \"content\",\n    \"startPath\": [\"text_2\", \"content\"],\n    \"startOffset\": 100,\n    \"endPath\": [\"text_4\", \"content\"],\n    \"endOffset\": 40\n  }\n  ```\n */\n\nclass ContainerAnnotation extends DocumentNode {\n\n  /**\n    Get the plain text spanned by this annotation.\n\n    @return {String}\n  */\n  getText() {\n    var doc = this.getDocument()\n    if (!doc) {\n      console.warn('Trying to use a ContainerAnnotation which is not attached to the document.')\n      return \"\"\n    }\n    return documentHelpers.getTextForSelection(doc, this.getSelection())\n  }\n\n  /**\n    Provides a selection which has the same range as this annotation.\n\n    @return {model/ContainerSelection}\n  */\n  getSelection() {\n    var doc = this.getDocument()\n    // Guard: when this is called while this node has been detached already.\n    if (!doc) {\n      console.warn('Trying to use a ContainerAnnotation which is not attached to the document.')\n      return Selection.nullSelection()\n    }\n    return doc.createSelection({\n      type: \"container\",\n      containerId: this.containerId,\n      startPath: this.startPath,\n      startOffset: this.startOffset,\n      endPath: this.endPath,\n      endOffset: this.endOffset\n    })\n  }\n\n  setHighlighted(highlighted, scope) {\n    if (this.highlighted !== highlighted) {\n      this.highlighted = highlighted\n      this.highlightedScope = scope\n      this.emit('highlighted', highlighted, scope)\n      forEach(this.fragments, function(frag) {\n        frag.emit('highlighted', highlighted, scope)\n      })\n    }\n  }\n\n  updateRange(tx, sel) {\n    if (!sel.isContainerSelection()) {\n      throw new Error('Cannot change to ContainerAnnotation.')\n    }\n    if (!isEqual(this.startPath, sel.start.path)) {\n      tx.set([this.id, 'startPath'], sel.start.path)\n    }\n    if (this.startOffset !== sel.start.offset) {\n      tx.set([this.id, 'startOffset'], sel.start.offset)\n    }\n    if (!isEqual(this.endPath, sel.end.path)) {\n      tx.set([this.id, 'endPath'], sel.end.path)\n    }\n    if (this.endOffset !== sel.end.offset) {\n      tx.set([this.id, 'endOffset'], sel.end.offset)\n    }\n  }\n\n  getFragments() {\n    var fragments = []\n    var doc = this.getDocument()\n    var container = doc.get(this.containerId)\n    var paths = container.getPathRange(this.startPath, this.endPath)\n    if (paths.length === 1) {\n      fragments.push(new ContainerAnnotationFragment(this, paths[0], \"property\"))\n    } else if (paths.length > 1) {\n      fragments.push(new ContainerAnnotationFragment(this, paths[0], \"start\"))\n      fragments.push(new ContainerAnnotationFragment(this, last(paths), \"end\"))\n      for (var i = 1; i < paths.length-1; i++) {\n        fragments.push(new ContainerAnnotationFragment(this, paths[i], \"inner\"))\n      }\n    }\n    return fragments\n  }\n\n  getStartAnchor() {\n    if (!this._startAnchor) {\n      this._startAnchor = new ContainerAnnotationAnchor(this, 'isStart')\n    }\n    return this._startAnchor\n  }\n\n  getEndAnchor() {\n    if (!this._endAnchor) {\n      this._endAnchor = new ContainerAnnotationAnchor(this)\n    }\n    return this._endAnchor\n  }\n}\n\nContainerAnnotation.define({\n  type: \"container-annotation\",\n  containerId: \"string\",\n  startPath: [\"string\"],\n  startOffset: \"number\",\n  endPath: [\"string\"],\n  endOffset: \"number\"\n})\n\nContainerAnnotation.isContainerAnnotation = true\nContainerAnnotation.prototype._isAnnotation = true\nContainerAnnotation.prototype._isContainerAnnotation = true\n\n/**\n  @internal\n*/\nclass ContainerAnnotationAnchor extends Anchor {\n\n  constructor(anno, isStart) {\n    super('SKIP')\n    // Note: we are not calling Anchor() as it is not useful for us\n    // as we need to delegate to the annos value dynamically\n    // Anchor.call(this, path, offset)\n\n    this.type = \"container-annotation-anchor\"\n    this.anno = anno\n    // TODO: remove this.node in favor of this.anno\n    this.node = anno\n    this.id = anno.id\n    this.containerId = anno.containerId\n    this.isStart = Boolean(isStart)\n    Object.freeze(this)\n  }\n\n\n  getTypeNames() {\n    return [this.type]\n  }\n\n  getPath() {\n    return (this.isStart ? this.node.startPath : this.node.endPath)\n  }\n\n  getOffset() {\n    return (this.isStart ? this.node.startOffset : this.node.endOffset)\n  }\n\n}\n\n\nObject.defineProperties(ContainerAnnotationAnchor.prototype, {\n  path: {\n    get: function() { return this.getPath(); }\n  },\n  offset: {\n    get: function() { return this.getOffset(); }\n  }\n})\n\n/**\n  @internal\n*/\nclass ContainerAnnotationFragment extends EventEmitter {\n\n  constructor(anno, path, mode) {\n    super()\n\n    this.type = \"container-annotation-fragment\"\n    this.anno = anno\n    // HACK: id is necessary for Fragmenter\n    this.id = anno.id\n    this.path = path\n    this.mode = mode\n  }\n\n  getTypeNames() {\n    return [this.type]\n  }\n\n  getStartOffset() {\n    return ( (this.mode === \"start\" || this.mode === \"property\") ? this.anno.startOffset : 0)\n  }\n\n  getEndOffset() {\n    var doc = this.anno.getDocument()\n    var textProp = doc.get(this.path)\n    var length = textProp.length\n    return ( (this.mode === \"end\" || this.mode === \"property\") ? this.anno.endOffset : length)\n  }\n}\n\nContainerAnnotationFragment.fragmentation = Number.MAX_VALUE\n\nObject.defineProperties(ContainerAnnotationFragment.prototype, {\n  startOffset: {\n    get: function() { return this.getStartOffset(); },\n    set: function() { throw new Error('ContainerAnnotationFragment.startOffset is read-only.'); }\n  },\n  endOffset: {\n    get: function() { return this.getEndOffset(); },\n    set: function() { throw new Error('ContainerAnnotationFragment.endOffset is read-only.'); }\n  },\n  highlighted: {\n    get: function() {\n      return this.anno.highlighted\n    },\n    set: function() { throw new Error('ContainerAnnotationFragment.highlighted is read-only.'); }\n  }\n})\n\nContainerAnnotation.Anchor = ContainerAnnotationAnchor\nContainerAnnotation.Fragment = ContainerAnnotationFragment\n\nexport default ContainerAnnotation\n","import isArrayEqual from '../util/isArrayEqual'\nimport DocumentNode from './DocumentNode'\nimport CoordinateAdapter from './CoordinateAdapter'\n\n/**\n  A property annotation can be used to overlay text and give it a special meaning.\n  PropertyAnnotations only work on text properties. If you want to annotate multiple\n  nodes you have to use a {@link model/ContainerAnnotation}.\n\n  @prop {String[]} path Identifies a text property in the document (e.g. `['text_1', 'content']`)\n  @prop {Number} startOffset the character where the annoation starts\n  @prop {Number} endOffset: the character where the annoation starts\n\n  @example\n\n  Here's how a **strong** annotation is created. In Substance annotations are stored\n  separately from the text. Annotations are just regular nodes in the document.\n  They refer to a certain range (`startOffset, endOffset`) in a text property (`path`).\n\n  ```js\n  doc.transaction(function(tx) {\n    tx.create({\n      id: 's1',\n      type: 'strong',\n      path: ['p1', 'content'],\n      \"startOffset\": 10,\n      \"endOffset\": 19\n    })\n  })\n  ```\n*/\nclass PropertyAnnotation extends DocumentNode {\n\n  constructor(...args) {\n    super(...args)\n\n    // for Coordinate oriented methods (such as CoordinateOperations)\n    this._start = new CoordinateAdapter(this, 'path', 'startOffset')\n    this._end = new CoordinateAdapter(this, 'path', 'endOffset')\n  }\n\n  /**\n    Get the plain text spanned by this annotation.\n\n    @returns {String}\n  */\n  getText() {\n    var doc = this.getDocument()\n    if (!doc) {\n      console.warn('Trying to use an PropertyAnnotation which is not attached to the document.')\n      return \"\"\n    }\n    var text = doc.get(this.path)\n    return text.substring(this.startOffset, this.endOffset)\n  }\n\n  /**\n    Determines if an annotation can be split e.g., when breaking a node.\n\n    In these cases, a new annotation will be created attached to the created node.\n\n    For certain annotation types,you may want to the annotation truncated\n    rather than split, where you need to override this method returning `false`.\n  */\n  canSplit() {\n    return true\n  }\n\n  get start() {\n    return this._start\n  }\n\n  get end() {\n    return this._end\n  }\n\n  /**\n    If this annotation is an Anchor.\n\n    Anchors are annotations with a zero width.\n    For instance, ContainerAnnotation have a start and an end anchor,\n    or rendered cursors are modeled as anchors.\n\n    @returns {Boolean}\n  */\n  isAnchor() {\n    return false\n  }\n\n  // TODO: maybe this should go into documentHelpers\n  getSelection() {\n    return this.getDocument().createSelection({\n      type: 'property',\n      path: this.path,\n      startOffset: this.startOffset,\n      endOffset: this.endOffset\n    })\n  }\n\n  updateRange(tx, sel) {\n    if (!sel.isPropertySelection()) {\n      throw new Error('Cannot change to ContainerAnnotation.')\n    }\n    if (!isArrayEqual(this.startPath, sel.start.path)) {\n      tx.set([this.id, 'path'], sel.start.path)\n    }\n    if (this.startOffset !== sel.start.offset) {\n      tx.set([this.id, 'startOffset'], sel.start.offset)\n    }\n    if (this.endOffset !== sel.end.offset) {\n      tx.set([this.id, 'endOffset'], sel.end.offset)\n    }\n  }\n\n  // WIP\n  isInsideOf(sel, _strict) {\n    if (sel.isNull()) return false;\n    if (_strict) {\n      return (isArrayEqual(this.path, sel.path) &&\n        this.startOffset > sel.startOffset &&\n        this.endOffset < sel.endOffset)\n    } else {\n      return (isArrayEqual(this.path, sel.path) &&\n        this.startOffset >= sel.startOffset &&\n        this.endOffset <= sel.endOffset)\n    }\n  }\n}\n\nPropertyAnnotation.define({\n  type: \"annotation\",\n  path: { type: [\"array\", \"string\"] },\n  startOffset: \"number\",\n  endOffset: \"number\",\n  // this is only used when an annotation is used 'stand-alone'\n  // i.e. not attached to a property\n  _content: { type: \"string\", optional: true}\n})\n\nPropertyAnnotation.isPropertyAnnotation = true\nPropertyAnnotation.prototype._isAnnotation = true\nPropertyAnnotation.prototype._isPropertyAnnotation = true\n\n// these properties making PropertyAnnotation compatible with ContainerAnnotations\n// TODO: for such things we should use the coordinates\nObject.defineProperties(PropertyAnnotation.prototype, {\n  startPath: {\n    get: function() {\n      return this.path\n    }\n  },\n  endPath: {\n    get: function() {\n      return this.path\n    }\n  }\n})\n\nexport default PropertyAnnotation","import forEach from '../util/forEach'\nimport isString from '../util/isString'\n\nvar ENTER = 1\nvar EXIT = -1\nvar ANCHOR = -2\n\n// Fragmenter\n// --------\n//\n// An algorithm that is used to fragment overlapping structure elements\n// following a priority rule set.\n// E.g., we use this for creating DOM elements for annotations. The annotations\n// can partially be overlapping. However this is not allowed in general for DOM elements\n// or other hierarchical structures.\n//\n// Example: For the annotation use case consider a 'comment' spanning partially\n// over an 'emphasis' annotation.\n// 'The <comment>quick brown <bold>fox</comment> jumps over</bold> the lazy dog.'\n// We want to be able to create a valid XML structure:\n// 'The <comment>quick brown <bold>fox</bold></comment><bold> jumps over</bold> the lazy dog.'\n//\n// For that one would choose\n//\n//     {\n//        'comment': 0,\n//        'bold': 1\n//     }\n//\n// as priority levels.\n// In case of structural violations as in the example, elements with a higher level\n// would be fragmented and those with lower levels would be preserved as one piece.\n//\n// TODO: If a violation for nodes of the same level occurs an Error should be thrown.\n// Currently, in such cases the first element that is opened earlier is preserved.\n\nclass Fragmenter {\n\n  constructor(options) {\n    Object.assign(this, options)\n  }\n\n  start(rootContext, text, annotations) {\n    if (!isString(text)) {\n      throw new Error(\"Illegal argument: 'text' must be a String, but was \" + text)\n    }\n    this._start(rootContext, text, annotations)\n  }\n\n  onText(context, text, entry) { // eslint-disable-line\n  }\n\n  // should return the created user context\n  onEnter(entry, parentContext) { // eslint-disable-line\n    return null\n  }\n\n  onExit(entry, context, parentContext) { // eslint-disable-line\n  }\n\n  _enter(entry, parentContext) {\n    entry.counter++\n    return this.onEnter(entry, parentContext)\n  }\n\n  _exit(entry, context, parentContext) {\n    this.onExit(entry, context, parentContext)\n  }\n\n  _createText(context, text, entry) {\n    this.onText(context, text, entry)\n  }\n\n  _start(rootContext, text, annotations) {\n    var entries = _extractEntries.call(this, annotations)\n    var stack = [{context: rootContext, entry: null}]\n\n    var pos = 0\n    for (var i = 0; i < entries.length; i++) {\n      var entry = entries[i]\n      var textFragment = text.substring(pos, entry.pos)\n      if (textFragment) {\n        // add the last text to the current element\n        this._createText(stack[stack.length-1].context, textFragment, entry)\n      }\n\n      pos = entry.pos\n      var stackLevel, idx, _entry\n      if (entry.mode === ENTER || entry.mode === ANCHOR) {\n        // find the correct position and insert an entry\n        for (stackLevel = 1; stackLevel < stack.length; stackLevel++) {\n          if (entry.level < stack[stackLevel].entry.level) {\n            break\n          }\n        }\n        // create elements which are open, and are now stacked ontop of the\n        // entered entry\n        for (idx = stack.length-1; idx >= stackLevel; idx--) {\n          _entry = stack[idx].entry\n          // compute number of characters since last 'enter'\n          _entry.length = pos - _entry.pos\n          this._exit(_entry, stack[idx].context, stack[idx-1].context)\n        }\n        stack.splice(stackLevel, 0, {entry: entry})\n        // create new elements for all lower entries\n        for (idx = stackLevel; idx < stack.length; idx++) {\n          _entry = stack[idx].entry\n          // bump 'enter' pos\n          _entry.pos = pos\n          stack[idx].context = this._enter(_entry, stack[idx-1].context)\n        }\n      }\n      if (entry.mode === EXIT || entry.mode === ANCHOR) {\n        // find the according entry and remove it from the stack\n        for (stackLevel = 1; stackLevel < stack.length; stackLevel++) {\n          if (stack[stackLevel].entry.node === entry.node) {\n            break\n          }\n        }\n        for (idx = stack.length-1; idx >= stackLevel; idx--) {\n          _entry = stack[idx].entry\n          // compute number of characters since last 'enter'\n          _entry.length = pos - _entry.pos\n          this._exit(_entry, stack[idx].context, stack[idx-1].context)\n        }\n        stack.splice(stackLevel, 1)\n        // create new elements for all lower entries\n        for (idx = stackLevel; idx < stack.length; idx++) {\n          _entry = stack[idx].entry\n          // bump 'enter' pos\n          _entry.pos = pos\n          stack[idx].context = this._enter(_entry, stack[idx-1].context)\n        }\n      }\n    }\n\n    // Finally append a trailing text node\n    var trailingText = text.substring(pos)\n    if (trailingText) {\n      this._createText(rootContext, trailingText)\n    }\n  }\n\n}\n\nFragmenter.SHOULD_NOT_SPLIT = 0\nFragmenter.NORMAL = 10\nFragmenter.ANY = 100\nFragmenter.ALWAYS_ON_TOP = Number.MAX_VALUE\n\n// This is a sweep algorithm wich uses a set of ENTER/EXIT entries\n// to manage a stack of active elements.\n// Whenever a new element is entered it will be appended to its parent element.\n// The stack is ordered by the annotation types.\n//\n// Examples:\n//\n// - simple case:\n//\n//       [top] -> ENTER(idea1) -> [top, idea1]\n//\n//   Creates a new 'idea' element and appends it to 'top'\n//\n// - stacked ENTER:\n//\n//       [top, idea1] -> ENTER(bold1) -> [top, idea1, bold1]\n//\n//   Creates a new 'bold' element and appends it to 'idea1'\n//\n// - simple EXIT:\n//\n//       [top, idea1] -> EXIT(idea1) -> [top]\n//\n//   Removes 'idea1' from stack.\n//\n// - reordering ENTER:\n//\n//       [top, bold1] -> ENTER(idea1) -> [top, idea1, bold1]\n//\n//   Inserts 'idea1' at 2nd position, creates a new 'bold1', and appends itself to 'top'\n//\n// - reordering EXIT\n//\n//       [top, idea1, bold1] -> EXIT(idea1)) -> [top, bold1]\n//\n//   Removes 'idea1' from stack and creates a new 'bold1'\n//\n\nfunction _extractEntries(annotations) {\n  var openers = []\n  var closers = []\n  forEach(annotations, function(a) {\n    var isAnchor = (a.isAnchor ? a.isAnchor() : false)\n    // special treatment for zero-width annos such as ContainerAnnotation.Anchors\n    if (isAnchor) {\n      openers.push({\n        mode: ANCHOR,\n        pos: a.offset,\n        id: a.id,\n        level: Fragmenter.ALWAYS_ON_TOP,\n        type: 'anchor',\n        node: a,\n        counter: -1,\n        length: 0\n      })\n    } else {\n      // TODO better naming, `Node.level` does not say enough\n      // Better would be `Node.fragmentation = Fragmenter.SHOULD_NOT_SPLIT;`\n      // meaning, that the fragmenter should try to render the fragment as one single\n      // element, and not splitting it up on different stack levels.\n      // E.g. When bold an link are overlapping\n      // the fragmenter should not split the link element such as A<b>B<a>CD</a></b><a>EF</a>GH\n      // but should instead A<b>B</b><a><b>CD</b><a>EF</a>GH\n\n      // use a weak default level when not given\n      var l = Fragmenter.NORMAL\n      var isInline = (a.isInline ? a.isInline() : false)\n      if (isInline) {\n        l = Number.MAX_VALUE\n      } else if (a.constructor.hasOwnProperty('fragmentation')) {\n        l = a.constructor.fragmentation\n      } else if (a.hasOwnProperty('fragmentationHint')) {\n        l = a.fragmentationHint\n      }\n      var startOffset = Math.min(a.startOffset, a.endOffset)\n      var endOffset = Math.max(a.startOffset, a.endOffset)\n      var opener = {\n        pos: startOffset,\n        mode: ENTER,\n        level: l,\n        id: a.id,\n        type: a.type,\n        node: a,\n        length: 0,\n        counter: -1,\n      }\n      openers.push(opener)\n      closers.push({\n        pos: endOffset,\n        mode: EXIT,\n        level: l,\n        id: a.id,\n        type: a.type,\n        node: a,\n        opener: opener\n      })\n    }\n  })\n\n  // sort the openers\n  openers.sort(_compareOpeners)\n  // store indexes for openers\n  for (var i = openers.length - 1; i >= 0; i--) {\n    openers[i].idx = i\n  }\n  closers.sort(_compareClosers)\n  // merge openers and closers, sorted by pos\n  var entries = new Array(openers.length+closers.length)\n  var idx = 0\n  var idx1 = 0\n  var idx2 = 0\n  var opener = openers[idx1]\n  var closer = closers[idx2]\n  while(opener || closer) {\n    if (opener && closer) {\n      // close before open\n      if (closer.pos <= opener.pos && closer.opener !== opener) {\n        entries[idx] = closer\n        idx2++\n      } else {\n        entries[idx] = opener\n        idx1++\n      }\n    } else if (opener) {\n      entries[idx] = opener\n      idx1++\n    } else if (closer) {\n      entries[idx] = closer\n      idx2++\n    }\n    opener = openers[idx1]\n    closer = closers[idx2]\n    idx++\n  }\n  return entries\n}\n\nfunction _compareOpeners(a, b) {\n  if (a.pos < b.pos) return -1\n  if (a.pos > b.pos) return 1\n  if (a.mode < b.mode) return -1\n  if (a.mode > b.mode) return 1\n  if (a.mode === b.mode) {\n    if (a.level < b.level) return -1\n    if (a.level > b.level) return 1\n  }\n  return 0\n}\n\n// sort in inverse order of openers\nfunction _compareClosers(a, b) {\n  if (a.pos < b.pos) return -1\n  if (a.pos > b.pos) return 1\n  // this makes closer be sorted in inverse order of openers\n  // to reduce stack sice\n  // HACK: a bit trial error. When we have to collapsed annotations\n  // at the same position then we want the closers in the same order\n  // as the openers.\n  if (a.pos === a.opener.pos && b.pos === b.opener.pos) {\n    if (a.opener.idx < b.opener.idx) {\n      return -1\n    } else {\n      return 1\n    }\n  }\n  if (a.opener.idx > b.opener.idx) return -1\n  if (a.opener.idx < b.opener.idx) return 1\n  return 0\n}\n\nexport default Fragmenter\n","/*\n  Escape XML Entities\n\n  HACK: this is just a cheap implementation to escape XML entities\n*/\nfunction encodeXMLEntities(str) {\n  return String(str)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n}\n\nexport default encodeXMLEntities\n","import { extend } from 'lodash-es'\nimport isString from '../util/isString'\nimport Registry from '../util/Registry'\nimport Fragmenter from './Fragmenter'\nimport encodeXMLEntities from '../util/encodeXMLEntities'\n\nclass DOMExporter {\n\n  constructor(config, context) {\n    this.context = context || {}\n    if (!config.converters) {\n      throw new Error('config.converters is mandatory')\n    }\n    if (!config.converters._isRegistry) {\n      this.converters = new Registry()\n      config.converters.forEach(function(Converter) {\n        var converter\n        if (typeof Converter === 'function') {\n          converter = new Converter()\n        } else {\n          converter = Converter\n        }\n        if (!converter.type) {\n          console.error('Converter must provide the type of the associated node.', converter)\n          return\n        }\n        this.converters.add(converter.type, converter)\n      }.bind(this))\n    } else {\n      this.converters = config.converters\n    }\n\n    this.state = {\n      doc: null\n    }\n    this.config = extend({idAttribute: 'id'}, config)\n\n    // NOTE: Subclasses (HTMLExporter and XMLExporter) must initialize this\n    // with a proper DOMElement instance which is used to create new elements.\n    this._el = null\n    this.$$ = this.createElement.bind(this)\n  }\n\n  exportDocument(doc) {\n    // TODO: this is no left without much functionality\n    // still, it would be good to have a consistent top-level API\n    // i.e. converter.importDocument(el) and converter.exportDocument(doc)\n    // On the other side, the 'internal' API methods are named this.convert*.\n    return this.convertDocument(doc)\n  }\n\n  /**\n    @param {Document}\n    @returns {DOMElement|DOMElement[]} The exported document as DOM or an array of elements\n             if exported as partial, which depends on the actual implementation\n             of `this.convertDocument()`.\n\n    @abstract\n    @example\n\n    convertDocument(doc) {\n      var elements = this.convertContainer(doc, this.state.containerId)\n      var out = elements.map(function(el) {\n        return el.outerHTML\n      })\n      return out.join('')\n    }\n  */\n  convertDocument(doc) { // eslint-disable-line\n    throw new Error('This method is abstract')\n  }\n\n  convertContainer(container) {\n    if (!container) {\n      throw new Error('Illegal arguments: container is mandatory.')\n    }\n    var doc = container.getDocument()\n    this.state.doc = doc\n    var elements = []\n    container.nodes.forEach(function(id) {\n      var node = doc.get(id)\n      var nodeEl = this.convertNode(node)\n      elements.push(nodeEl)\n    }.bind(this))\n    return elements\n  }\n\n  convertNode(node) {\n    if (isString(node)) {\n      // Assuming this.state.doc has been set by convertDocument\n      node = this.state.doc.get(node)\n    } else {\n      this.state.doc = node.getDocument()\n    }\n    var converter = this.getNodeConverter(node)\n    // special treatment for annotations, i.e. if someone calls\n    // `exporter.convertNode(anno)`\n    if (node.isPropertyAnnotation() && (!converter || !converter.export)) {\n      return this._convertPropertyAnnotation(node)\n    }\n    if (!converter) {\n      converter = this.getDefaultBlockConverter()\n    }\n    var el\n    if (converter.tagName) {\n      el = this.$$(converter.tagName)\n    } else {\n      el = this.$$('div')\n    }\n    el.attr(this.config.idAttribute, node.id)\n    if (converter.export) {\n      el = converter.export(node, el, this) || el\n    } else {\n      el = this.getDefaultBlockConverter().export(node, el, this) || el\n    }\n    return el\n  }\n\n  convertProperty(doc, path, options) {\n    this.initialize(doc, options)\n    var wrapper = this.$$('div')\n      .append(this.annotatedText(path))\n    return wrapper.innerHTML\n  }\n\n  annotatedText(path) {\n    var doc = this.state.doc\n    var text = doc.get(path)\n    var annotations = doc.getIndex('annotations').get(path)\n    return this._annotatedText(text, annotations)\n  }\n\n  getNodeConverter(node) {\n    return this.converters.get(node.type)\n  }\n\n  getDefaultBlockConverter() {\n    throw new Error('This method is abstract.')\n  }\n\n  getDefaultPropertyAnnotationConverter() {\n    throw new Error('This method is abstract.')\n  }\n\n  getDocument() {\n    return this.state.doc\n  }\n\n  createElement(str) {\n    return this._el.createElement(str)\n  }\n\n  _annotatedText(text, annotations) {\n    var self = this\n\n    var annotator = new Fragmenter()\n    annotator.onText = function(context, text) {\n      context.children.push(encodeXMLEntities(text))\n    }\n    annotator.onEnter = function(fragment) {\n      var anno = fragment.node\n      return {\n        annotation: anno,\n        children: []\n      }\n    }\n    annotator.onExit = function(fragment, context, parentContext) {\n      var anno = context.annotation\n      var converter = self.getNodeConverter(anno)\n      if (!converter) {\n        converter = self.getDefaultPropertyAnnotationConverter()\n      }\n      var el\n      if (converter.tagName) {\n        el = this.$$(converter.tagName)\n      } else {\n        el = this.$$('span')\n      }\n      el.attr(this.config.idAttribute, anno.id)\n      el.append(context.children)\n      if (converter.export) {\n        el = converter.export(anno, el, self) || el\n      }\n      parentContext.children.push(el)\n    }.bind(this)\n    var wrapper = { children: [] }\n    annotator.start(wrapper, text, annotations)\n    return wrapper.children\n  }\n\n  /*\n    This is used when someone calls `exporter.convertNode(anno)`\n    Usually, annotations are converted by calling exporter.annotatedText(path).\n    Still it makes sense to be able to export just a fragment containing just\n    the annotation element.\n  */\n  _convertPropertyAnnotation(anno) {\n    // take only the annotations within the range of the anno\n    var wrapper = this.$$('div').append(this.annotatedText(anno.path))\n    var el = wrapper.find('['+this.config.idAttribute+'=\"'+anno.id+'\"]')\n    return el\n  }\n\n}\n\nexport default DOMExporter\n","export default function createCountingIdGenerator() {\n  var counters = {}\n  return function uuid(prefix) {\n    if (!counters.hasOwnProperty(prefix)) {\n      counters[prefix] = 1\n    }\n    var result = [prefix, '-', counters[prefix]++].join('')\n    return result\n  }\n}\n","import { clone, extend } from 'lodash-es'\nimport last from '../util/last'\nimport forEach from '../util/forEach'\nimport createCountingIdGenerator from '../util/createCountingIdGenerator'\nimport ArrayIterator from '../util/ArrayIterator'\n\nconst WS_LEFT = /^\\s+/g\nconst WS_LEFT_ALL = /^\\s*/g\nconst WS_RIGHT = /\\s+$/g\nconst WS_ALL = /\\s+/g\n// var ALL_WS_NOTSPACE_LEFT = /^[\\t\\n]+/g\n// var ALL_WS_NOTSPACE_RIGHT = /[\\t\\n]+$/g\nconst SPACE = \" \"\nconst TABS_OR_NL = /[\\t\\n\\r]+/g\n\n/**\n  A generic base implementation for XML/HTML importers.\n\n  @class\n  @param {Object} config\n */\nclass DOMImporter {\n\n  constructor(config, context) {\n    this.context = context || {}\n\n    if (!config.converters) {\n      throw new Error('config.converters is mandatory')\n    }\n    this.config = extend({ idAttribute: 'id' }, config)\n    this.schema = config.schema\n    this.state = null\n\n    this._defaultBlockConverter = null\n    this._allConverters = []\n    this._blockConverters = []\n    this._propertyAnnotationConverters = []\n\n    var schema = this.schema\n    var defaultTextType = schema.getDefaultTextType()\n\n    config.converters.forEach(function(Converter) {\n      var converter\n      if (typeof Converter === 'function') {\n        // console.log('installing converter', Converter)\n        converter = new Converter()\n      } else {\n        converter = Converter\n      }\n      if (!converter.type) {\n        console.error('Converter must provide the type of the associated node.', converter)\n        return\n      }\n      if (!converter.matchElement && !converter.tagName) {\n        console.error('Converter must provide a matchElement function or a tagName property.', converter)\n        return\n      }\n      if (!converter.matchElement) {\n        converter.matchElement = this._defaultElementMatcher.bind(converter)\n      }\n      var NodeClass = schema.getNodeClass(converter.type)\n      if (!NodeClass) {\n        console.error('No node type defined for converter', converter.type)\n        return\n      }\n      if (!this._defaultBlockConverter && defaultTextType === converter.type) {\n        this._defaultBlockConverter = converter\n      }\n\n      this._allConverters.push(converter)\n      // Defaults to _blockConverters\n      if (NodeClass.isPropertyAnnotation) {\n        this._propertyAnnotationConverters.push(converter)\n      } else {\n        this._blockConverters.push(converter)\n      }\n\n    }.bind(this))\n\n    this.state = new DOMImporter.State()\n  }\n\n  reset() {\n    this.state.reset()\n  }\n\n  createDocument() {\n    this.state.doc = this._createDocument(this.config.schema)\n    return this.state.doc\n  }\n\n  // Note: this is e.g. shared by ClipboardImporter which has a different\n  // implementation of this.createDocument()\n  _createDocument(schema) {\n    // create an empty document and initialize the container if not present\n    var doc = new this.config.DocumentClass(schema)\n    return doc\n  }\n\n  // should be called at the end to finish conversion\n  // For instance, the creation of annotation is deferred\n  // to make sure that the nodes they are attached to are created first\n  // TODO: we might want to rethink this in future\n  // as it makes this a bit more complicated\n  generateDocument() {\n    if (!this.state.doc) {\n      this.state.doc = this.createDocument()\n    }\n    var doc = this.state.doc\n    this._createNodes()\n    return doc\n  }\n\n  _createNodes() {\n    var state = this.state\n    var doc = state.doc\n    // creating all nodes\n    state.nodes.forEach(function(node) {\n      // delete if the node exists already\n      if (doc.get(node.id)) {\n        doc.delete(node.id)\n      }\n      doc.create(node)\n    })\n    this._createInlineNodes()\n  }\n\n  _createInlineNodes() {\n    var state = this.state\n    var doc = state.doc\n    // creating annotations afterwards so that the targeted nodes exist for sure\n    state.inlineNodes.forEach(function(node) {\n      if (doc.get(node.id)) {\n        doc.delete(node.id)\n      }\n      doc.create(node)\n    })\n  }\n\n  /**\n    Converts and shows all children of a given element.\n\n    @param {ui/DOMElement[]} elements All elements that should be converted into the container.\n    @param {String} containerId The id of the target container node.\n    @returns {Object} the preliminary container node\n   */\n  convertContainer(elements, containerId) {\n    var state = this.state\n    state.container = []\n    state.containerId = containerId\n    var iterator = new ArrayIterator(elements)\n    while(iterator.hasNext()) {\n      var el = iterator.next()\n      var blockTypeConverter = this._getConverterForElement(el, 'block')\n      var node\n      if (blockTypeConverter) {\n        node = this._nodeData(el, blockTypeConverter.type)\n        state.pushContext(el.tagName, blockTypeConverter)\n        node = blockTypeConverter.import(el, node, this) || node\n        state.popContext()\n        this._createAndShow(node)\n      } else {\n        if (el.isCommentNode()) {\n          // skip HTML comment nodes on block level\n        } else if (el.isTextNode()) {\n          var text = el.textContent\n          if (/^\\s*$/.exec(text)) continue\n          // If we find text nodes on the block level we wrap\n          // it into a paragraph element (or what is configured as default block level element)\n          iterator.back()\n          this._wrapInlineElementsIntoBlockElement(iterator)\n        } else if (el.isElementNode()) {\n          // NOTE: hard to tell if unsupported nodes on this level\n          // should be treated as inline or not.\n          // ATM: we apply a catch-all to handle cases where inline content\n          // is found on top level\n          iterator.back()\n          this._wrapInlineElementsIntoBlockElement(iterator)\n        }\n      }\n    }\n    var container = {\n      type: 'container',\n      id: containerId,\n      nodes: this.state.container.slice(0)\n    }\n    this.createNode(container)\n    return container\n  }\n\n  /**\n    Converts a single HTML element and creates a node in the current document.\n\n    @param {ui/DOMElement} el the HTML element\n    @returns {object} the created node as JSON\n   */\n  convertElement(el) {\n    var doc = this.state.doc\n    var nodeData = this._convertElement(el)\n    var node\n    if (doc) {\n      node = doc.create(nodeData)\n    } else {\n      var NodeClass = this.schema.getNodeClass(nodeData.type)\n      node = new NodeClass(doc, nodeData)\n    }\n    return node\n  }\n\n  _convertElement(el, mode) {\n    var node\n    var converter = this._getConverterForElement(el, mode)\n    if (converter) {\n      node = this._nodeData(el, converter.type)\n      var NodeClass = this.schema.getNodeClass(node.type)\n      this.state.pushContext(el.tagName, converter)\n      // Note: special treatment for property annotations and inline nodes\n      // i.e. if someone calls `importer.convertElement(annoEl)`\n      // usually, annotations are imported in the course of `importer.annotatedText(..)`\n      // The peculiarity here is that in such a case, it is not\n      // not clear, which property the annotation is attached to\n      if (NodeClass.isInline) {\n        this._convertInlineNode(el, node, converter)\n      }\n      else if (NodeClass.isPropertyAnnotation) {\n        this._convertPropertyAnnotation(el, node)\n      } else {\n        node = converter.import(el, node, this) || node\n      }\n      this.state.popContext()\n      this.createNode(node)\n    } else {\n      throw new Error('No converter found for '+el.tagName)\n    }\n    return node\n  }\n\n  _convertPropertyAnnotation(el, node) {\n    // if there is no context, this is called stand-alone\n    // i.e., user tries to convert an annotation element\n    // directly, not part of a block element, such as a paragraph\n    node.path = [node.id, '_content']\n    node._content = this.annotatedText(el, node.path)\n    node.startOffset = 0\n    node.endOffset = node._content.length\n  }\n\n  _convertInlineNode(el, node, converter) {\n    node.path = [node.id, 'content']\n    node._content = '$'\n    node.startOffset = 0\n    node.endOffset = 1\n    node = converter.import(el, node, this)\n    return node\n  }\n\n  createNode(node) {\n    if (this.state.ids[node.id]) {\n      throw new Error('Node with id alread exists:' + node.id)\n    }\n    this.state.ids[node.id] = true\n    this.state.nodes.push(node)\n    return node\n  }\n\n  show(node) {\n    this.state.container.push(node.id)\n  }\n\n  _createAndShow(node) {\n    this.createNode(node)\n    this.show(node)\n  }\n\n  _nodeData(el, type) {\n    var nodeData = {\n      type: type,\n      id: this.getIdForElement(el, type)\n    }\n    var NodeClass = this.schema.getNodeClass(type)\n    forEach(NodeClass.schema, function(prop, name) {\n      // check integrity of provided props, such as type correctness,\n      // and mandatory properties\n      var hasDefault = prop.hasOwnProperty('default')\n      if (hasDefault) {\n        nodeData[name] = clone(prop.default)\n      }\n    })\n    return nodeData\n  }\n\n  // /**\n  //   Converts an html element into a text property of the document.\n\n  //   @private\n  //   @param {Array<String>} path Path of the property to be written\n  //   @param {String} html HTML to be converter\n  //  */\n  // convertProperty(path, html) {\n  //   // TODO: while this method may be useful if html is updated\n  //   // piecewise, from an API point of view it is not intuitive.\n  //   // We should see if we really need this.\n  //   // And we should give it a better naming.\n  //   var doc = this.getDocument()\n  //   var el = $$('div').setInnerHtml(html)\n  //   var text = this.annotatedText(el, path)\n  //   doc.setText(path, text, this.state.inlineNodes)\n  // }\n\n  /**\n    Convert annotated text. You should call this method only for elements\n    containing rich-text.\n\n    @param {ui/DOMElement} el\n    @param {String[]} path The target property where the extracted text (plus annotations) should be stored.\n    @param {Object} options\n    @param {Boolean} options.preserveWhitespace when true will preserve whitespace. Default: false.\n    @returns {String} The converted text as plain-text\n   */\n  annotatedText(el, path, options) {\n    var state = this.state\n    if (path) {\n      // if (state.stack.length>0) {\n      //   throw new Error('Contract: it is not allowed to bind a new call annotatedText to a path while the previous has not been completed.', el.outerHTML)\n      // }\n      if (options && options.preserveWhitespace) {\n        state.preserveWhitespace = true\n      }\n      state.stack.push({ path: path, offset: 0, text: \"\"})\n    } else {\n      if (state.stack.length===0) {\n        throw new Error(\"Contract: DOMImporter.annotatedText() requires 'path' for non-reentrant call.\", el.outerHTML)\n      }\n    }\n    // IMO we should reset the last char, as it is only relevant within one\n    // annotated text property. This feature is mainly used to eat up\n    // whitespace in XML/HTML at tag boundaries, produced by pretty-printed XML/HTML.\n    this.state.lastChar = ''\n    var text\n    var iterator = el.getChildNodeIterator()\n    text = this._annotatedText(iterator)\n    if (path) {\n      state.stack.pop()\n      state.preserveWhitespace = false\n    }\n    return text\n  }\n\n  /**\n    Converts the given element as plain-text.\n\n    @param {ui/DOMElement} el\n    @returns {String} The plain text\n   */\n  plainText(el) {\n    var state = this.state\n    var text = el.textContent\n    if (state.stack.length > 0) {\n      var context = last(state.stack)\n      context.offset += text.length\n      context.text += context.text.concat(text)\n    }\n    return text\n  }\n\n  /**\n    Tells the converter to insert a virutal custom text.\n\n    This is useful when during conversion a generated label needs to be inserted instead\n    of real text.\n\n    @param {String}\n   */\n  customText(text) {\n    var state = this.state\n    if (state.stack.length > 0) {\n      var context = last(state.stack)\n      context.offset += text.length\n      context.text += context.text.concat(text)\n    }\n    return text\n  }\n\n  /**\n    Generates an id. The generated id is unique with respect to all ids generated so far.\n\n    @param {String} a prefix\n    @return {String} the generated id\n   */\n  nextId(prefix) {\n    // TODO: we could create more beautiful ids?\n    // however we would need to be careful as there might be another\n    // element in the HTML coming with that id\n    // For now we use shas\n    return this.state.uuid(prefix)\n  }\n\n  getIdForElement(el, type) {\n    var id = el.getAttribute(this.config.idAttribute)\n    if (id && !this.state.ids[id]) return id\n\n    var root = el.getRoot()\n    id = this.nextId(type)\n    while (this.state.ids[id] || root.find('#'+id)) {\n      id = this.nextId(type)\n    }\n    return id\n  }\n\n  defaultConverter(el, converter) {\n    if (!this.IGNORE_DEFAULT_WARNINGS) {\n      console.warn('This element is not handled by the converters you provided. This is the default implementation which just skips conversion. Override DOMImporter.defaultConverter(el, converter) to change this behavior.', el.outerHTML)\n    }\n    var defaultTextType = this.schema.getDefaultTextType()\n    var defaultConverter = this._defaultBlockConverter\n    if (!defaultConverter) {\n      throw new Error('Could not find converter for default type ', defaultTextType)\n    }\n    var node = this._nodeData(el, defaultTextType)\n    this.state.pushContext(el.tagName, converter)\n    node = defaultConverter.import(el, node, converter) || node\n    this.state.popContext()\n    return node\n  }\n\n  _defaultElementMatcher(el) {\n    return el.is(this.tagName)\n  }\n\n  // Internal function for parsing annotated text\n  // --------------------------------------------\n  //\n  _annotatedText(iterator) {\n    var state = this.state\n    var context = last(state.stack)\n    if (!context) {\n      throw new Error('Illegal state: context is null.')\n    }\n    while(iterator.hasNext()) {\n      var el = iterator.next()\n      var text = \"\"\n      // Plain text nodes...\n      if (el.isTextNode()) {\n        text = this._prepareText(state, el.textContent)\n        if (text.length) {\n          // Note: text is not merged into the reentrant state\n          // so that we are able to return for this reentrant call\n          context.text = context.text.concat(text)\n          context.offset += text.length\n        }\n      } else if (el.isCommentNode()) {\n        // skip comment nodes\n        continue\n      } else if (el.isElementNode()) {\n        var inlineTypeConverter = this._getConverterForElement(el, 'inline')\n        // if no inline converter is found we just traverse deeper\n        if (!inlineTypeConverter) {\n          if (!this.IGNORE_DEFAULT_WARNINGS) {\n            console.warn('Unsupported inline element. We will not create an annotation for it, but process its children to extract annotated text.', el.outerHTML)\n          }\n          // Note: this will store the result into the current context\n          this.annotatedText(el)\n          continue\n        }\n        // reentrant: we delegate the conversion to the inline node class\n        // it will either call us back (this.annotatedText) or give us a finished\n        // node instantly (self-managed)\n        var startOffset = context.offset\n        var inlineType = inlineTypeConverter.type\n        var inlineNode = this._nodeData(el, inlineType)\n        if (inlineTypeConverter.import) {\n          // push a new context so we can deal with reentrant calls\n          state.stack.push({ path: context.path, offset: startOffset, text: \"\"})\n          state.pushContext(el.tagName, inlineTypeConverter)\n          inlineNode = inlineTypeConverter.import(el, inlineNode, this) || inlineNode\n          state.popContext()\n\n          var NodeClass = this.schema.getNodeClass(inlineType)\n          // inline nodes are attached to an invisible character\n          if (NodeClass.isInline) {\n            this.customText(\"\\u200B\")\n          } else {\n            // We call this to descent into the element\n            // which could be 'forgotten' otherwise.\n            // TODO: what if the converter has processed the element already?\n            this.annotatedText(el)\n          }\n          // ... and transfer the result into the current context\n          var result = state.stack.pop()\n          context.offset = result.offset\n          context.text = context.text.concat(result.text)\n        } else {\n          this.annotatedText(el)\n        }\n        // in the mean time the offset will probably have changed to reentrant calls\n        var endOffset = context.offset\n        inlineNode.startOffset = startOffset\n        inlineNode.endOffset = endOffset\n        inlineNode.path = context.path.slice(0)\n        state.inlineNodes.push(inlineNode)\n      } else {\n        console.warn('Unknown element type. Taking plain text.', el.outerHTML)\n        text = this._prepareText(state, el.textContent)\n        context.text = context.text.concat(text)\n        context.offset += text.length\n      }\n    }\n    // return the plain text collected during this reentrant call\n    return context.text\n  }\n\n  _getConverterForElement(el, mode) {\n    var converters\n    if (mode === \"block\") {\n      if (!el.tagName) return null\n      converters = this._blockConverters\n    } else if (mode === \"inline\") {\n      converters = this._propertyAnnotationConverters\n    } else {\n      converters = this._allConverters\n    }\n    var converter = null\n    for (var i = 0; i < converters.length; i++) {\n      if (this._converterCanBeApplied(converters[i], el)) {\n        converter = converters[i]\n        break\n      }\n    }\n    return converter\n  }\n\n  _converterCanBeApplied(converter, el) {\n    return converter.matchElement(el, converter)\n  }\n\n  _createElement(tagName) {\n    return this._el.createElement(tagName)\n  }\n\n  /**\n    Wraps the remaining (inline) elements of a node iterator into a default\n    block node.\n\n    @private\n    @param {model/DOMImporter.ChildIterator} childIterator\n    @returns {model/DocumentNode}\n   */\n  _wrapInlineElementsIntoBlockElement(childIterator) {\n    var wrapper = this._createElement('div')\n    while(childIterator.hasNext()) {\n      var el = childIterator.next()\n      // if there is a block node we finish this wrapper\n      var blockTypeConverter = this._getConverterForElement(el, 'block')\n      if (blockTypeConverter) {\n        childIterator.back()\n        break\n      }\n      wrapper.append(el.clone())\n    }\n    var node = this.defaultConverter(wrapper, this)\n    if (node) {\n      if (!node.type) {\n        throw new Error('Contract: DOMImporter.defaultConverter() must return a node with type.')\n      }\n      this._createAndShow(node)\n    }\n    return node\n  }\n\n  /**\n    Converts an element into a default block level node.\n\n    @private\n    @param {ui/DOMElement} el\n    @returns {model/DocumentNode}\n   */\n  _createDefaultBlockElement(el) {\n    var node = this.defaultConverter(el, this)\n    if (node) {\n      if (!node.type) {\n        throw new Error('Contract: Html.defaultConverter() must return a node with type.', el.outerHTML)\n      }\n      node.id = node.id || this.defaultId(el, node.type)\n      this._createAndShow(node)\n    }\n  }\n\n  // TODO: this needs to be tested and documented\n  _prepareText(state, text) {\n    if (state.preserveWhitespace) {\n      return text\n    }\n    var repl = SPACE\n    // replace multiple tabs and new-lines by one space\n    text = text.replace(TABS_OR_NL, '')\n    // TODO: the last char handling is only necessary for for nested calls\n    // i.e., when processing the content of an annotation, for instance\n    // we need to work out how we could control this with an inner state\n    if (state.lastChar === SPACE) {\n      text = text.replace(WS_LEFT_ALL, repl)\n    } else {\n      text = text.replace(WS_LEFT, repl)\n    }\n    text = text.replace(WS_RIGHT, repl)\n    // EXPERIMENTAL: also remove white-space within\n    // this happens if somebody treats the text more like it would be done in Markdown\n    // i.e. introducing line-breaks\n    if (this.config.REMOVE_INNER_WS || state.removeInnerWhitespace) {\n      text = text.replace(WS_ALL, SPACE)\n    }\n    state.lastChar = text[text.length-1] || state.lastChar\n    return text\n  }\n\n  /**\n    Removes any leading and trailing whitespaces from the content\n    within the given element.\n    Attention: this is not yet implemented fully. Atm, trimming is only done\n    on the first and last text node (if they exist).\n\n    @private\n    @param {util/jQuery} $el\n    @returns {util/jQuery} an element with trimmed text\n   */\n  _trimTextContent(el) {\n    var nodes = el.getChildNodes()\n    var firstNode = nodes[0]\n    var lastNode = last(nodes)\n    var text, trimmed\n      // trim the first and last text\n    if (firstNode && firstNode.isTextNode()) {\n      text = firstNode.textContent\n      trimmed = this._trimLeft(text)\n      firstNode.textContent = trimmed\n    }\n    if (lastNode && lastNode.isTextNode()) {\n      text = lastNode.textContent\n      trimmed = this._trimRight(text)\n      lastNode.textContent = trimmed\n    }\n    return el\n  }\n\n  _trimLeft(text) {\n    return text.replace(WS_LEFT, \"\")\n  }\n\n  _trimRight(text) {\n    return text.replace(WS_RIGHT, \"\")\n  }\n\n}\n\nclass DOMImporterState {\n\n  constructor() {\n    this.reset()\n  }\n\n  reset() {\n    this.preserveWhitespace = false\n    this.nodes = []\n    this.inlineNodes = []\n    this.containerId = null\n    this.container = []\n    this.ids = {}\n    // stack for reentrant calls into _convertElement()\n    this.contexts = []\n    // stack for reentrant calls into _annotatedText()\n    this.stack = []\n    this.lastChar = \"\"\n    this.skipTypes = {}\n    this.ignoreAnnotations = false\n\n    // experimental: trying to generate simpler ids during import\n    // this.uuid = uuid\n    this.uuid = createCountingIdGenerator()\n  }\n\n  pushContext(tagName, converter) {\n    this.contexts.push({ tagName: tagName, converter: converter})\n  }\n\n  popContext() {\n    return this.contexts.pop()\n  }\n\n  getCurrentContext() {\n    return last(this.contexts)\n  }\n\n}\n\nDOMImporter.State = DOMImporterState\n\nexport default DOMImporter\n","/*\n  A FileProxy represents a proxy from a FileNode to the real resource.\n  As real resources may need to be fetched, the FileProxy typically has\n  multiple internal states.\n*/\nclass FileProxy {\n  constructor(fileNode, context) {\n    this.fileNode = fileNode\n    this.context = context\n    fileNode.setProxy(this)\n  }\n\n  get id() {\n    return this.fileNode.id\n  }\n\n  /*\n    Fires a property update on the file node\n  */\n  triggerUpdate() {\n    let fileId = this.fileNode.id\n    this.context.editorSession.transaction((tx) => {\n      tx.set([fileId, '__changed__'], '')\n    }, { history: false })\n  }\n\n  getUrl() {\n    return ''\n  }\n\n  sync() {\n    return Promise.reject(new Error('sync method not implemented'))\n  }\n}\n\nFileProxy.match = function(fileNode, context) { // eslint-disable-line\n  return false\n}\n\nexport default FileProxy","import DOMExporter from './DOMExporter'\nimport DefaultDOMElement from '../ui/DefaultDOMElement'\nimport { isBoolean } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport isNumber from '../util/isNumber'\nimport isString from '../util/isString'\n\nvar defaultAnnotationConverter = {\n  tagName: 'span',\n  export: function(node, el) {\n    el.tagName = 'span'\n    el.attr('data-type', node.type)\n    var properties = node.toJSON()\n    forEach(properties, function(value, name) {\n      if (name === 'id' || name === 'type') return\n      if (isString(value) || isNumber(value) || isBoolean(value)) {\n        el.attr('data-'+name, value)\n      }\n    })\n  }\n}\n\nvar defaultBlockConverter = {\n  export: function(node, el, converter) {\n    el.attr('data-type', node.type)\n    var properties = node.toJSON()\n    forEach(properties, function(value, name) {\n      if (name === 'id' || name === 'type') {\n        return\n      }\n      var prop = converter.$$('div').attr('property', name)\n      if (node.getPropertyType(name) === 'string' && value) {\n        prop.append(converter.annotatedText([node.id, name]))\n      } else {\n        prop.text(value)\n      }\n      el.append(prop)\n    })\n  }\n}\n\n/*\n  @class\n  @abstract\n\n  Base class for custom HTML exporters. If you want to use XML as your\n  exchange format see {@link model/XMLExporter}.\n*/\n\nclass HTMLExporter extends DOMExporter {\n\n  constructor(config) {\n    super(Object.assign({ idAttribute: 'data-id' }, config))\n\n    // used internally for creating elements\n    this._el = DefaultDOMElement.parseHTML('<html></html>')\n  }\n\n  exportDocument(doc) {\n    var htmlEl = DefaultDOMElement.parseHTML('<html><head></head><body></body></html>')\n    return this.convertDocument(doc, htmlEl)\n  }\n\n  getDefaultBlockConverter() {\n    return defaultBlockConverter\n  }\n\n  getDefaultPropertyAnnotationConverter() {\n    return defaultAnnotationConverter\n  }\n\n}\n\nexport default HTMLExporter\n","import DOMImporter from './DOMImporter'\nimport DefaultDOMElement from '../ui/DefaultDOMElement'\n\n/*\n  Base class for custom HTML importers. If you want to use XML as your\n  exchange format see {@link model/XMLImporter}.\n\n  @class\n  @abstract\n*/\nclass HTMLImporter extends DOMImporter {\n\n  constructor(config) {\n    super(Object.assign({ idAttribute: 'data-id' }, config))\n\n    // only used internally for creating wrapper elements\n    this._el = DefaultDOMElement.parseHTML('<html></html>')\n  }\n\n  importDocument(html) {\n    this.reset()\n    var parsed = DefaultDOMElement.parseHTML(html)\n    // creating all nodes\n    this.convertDocument(parsed)\n    this.generateDocument()\n    return this.state.doc\n  }\n\n  /**\n    Orchestrates conversion of a whole document.\n\n    This method should be overridden by custom importers to reflect the\n    structure of a custom HTML document or fragment, and to control where\n    things go to within the document.\n\n    @abstract\n    @param {ui/DOMElement} documentEl the document element.\n\n    @example\n\n    When a fragment `<h1>Foo</h1><p></Bar</p>` is imported the implementation\n    looks like this.\n\n    ```js\n      convertDocument(els) {\n        this.convertContainer(els, 'body')\n      }\n    ```\n\n    If a full document `<html><body><p>A</p><p>B</p></body></html>` is imported\n    you get the `<html>` element instead of a node array.\n\n    ```js\n      convertDocument(htmlEl) {\n        var bodyEl = htmlEl.find('body')\n        this.convertContainer(bodyEl.children, 'body')\n      }\n    ```\n  */\n  convertDocument(documentEl) { // eslint-disable-line\n    throw new Error('This method is abstract')\n  }\n\n}\n\nexport default HTMLImporter\n","import PropertyAnnotation from './PropertyAnnotation'\n\nclass InlineNode extends PropertyAnnotation {}\n\nInlineNode.isInline = true;\n\nexport default InlineNode;\n","import PropertyAnnotation from './PropertyAnnotation'\n\nclass Marker extends PropertyAnnotation {\n  invalidate() {}\n  remove() {\n    this.getDocument().data.delete(this.id)\n  }\n}\n\n// while having the same interface, Markers should still be treated differently, e.g. not go into the AnnotationIndex\nMarker.prototype._isPropertyAnnotation = false\nMarker.prototype._isMarker = true\n\nexport default Marker\n","import DocumentNode from './DocumentNode'\n\n/**\n  A base class for all text-ish nodes, such as Paragraphs, Headings,\n  Prerendered, etc.\n*/\nclass TextNode extends DocumentNode {\n\n  getTextPath() {\n    return [this.id, 'content']\n  }\n\n  getText() {\n    return this.content\n  }\n\n  isEmpty() {\n    return !this.content\n  }\n\n}\n\nTextNode.isText = true\n\nTextNode.define({\n  type: \"text\",\n  content: \"text\",\n  direction: { type: \"string\", optional: true }\n})\n\nexport default TextNode\n","import TextNode from './TextNode'\n\nclass TextBlock extends TextNode {}\n\nTextBlock.isBlock = true;\n\nexport default TextBlock;\n","import { isBoolean } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport isNumber from '../util/isNumber'\nimport isString from '../util/isString'\nimport DOMExporter from './DOMExporter'\nimport DefaultDOMElement from '../ui/DefaultDOMElement'\n\nvar defaultAnnotationConverter = {\n  tagName: 'annotation',\n  export: function(node, el) {\n    el.attr('type', node.type)\n    var properties = node.toJSON()\n    forEach(properties, function(value, name) {\n      if (name === 'id' || name === 'type') return\n      if (isString(value) || isNumber(value) || isBoolean(value)) {\n        el.attr(name, value)\n      }\n    })\n  }\n}\n\nvar defaultBlockConverter = {\n  tagName: 'block',\n  export: function(node, el, converter) {\n    el.attr('type', node.type)\n    var properties = node.toJSON()\n    forEach(properties, function(value, name) {\n      if (name === 'id' || name === 'type') {\n        return\n      }\n      var prop = converter.$$(name)\n      if (node.getPropertyType(name) === 'string') {\n        prop.append(converter.annotatedText([node.id, name]))\n      } else {\n        prop.text(value)\n      }\n      el.append(prop)\n    })\n  }\n}\n\n/*\n  @class\n  @abstract\n\n  Base class for custom XML exporters. If you want to use HTML as your\n  exchange format see {@link model/HTMLExporter}.\n*/\nclass XMLExporter extends DOMExporter {\n\n  constructor(config, context) {\n    super(Object.assign({ idAttribute: 'id' }, config), context)\n\n    // used internally for creating elements\n    this._el = DefaultDOMElement.parseXML('<dummy></dummy>')\n  }\n\n  getDefaultBlockConverter() {\n    return defaultBlockConverter\n  }\n\n  getDefaultPropertyAnnotationConverter() {\n    return defaultAnnotationConverter\n  }\n\n}\n\nexport default XMLExporter\n","import DOMImporter from './DOMImporter'\nimport DefaultDOMElement from '../ui/DefaultDOMElement'\n\n/*\n  @class\n  @abstract\n\n  Base class for custom XML importers. If you want to use HTML as your\n  exchange format see {@link model/HTMLImporter}.\n\n  TODO: provide example and activate reenable API docs\n*/\n\nclass XMLImporter extends DOMImporter {\n\n  constructor(config, context) {\n    super(Object.assign({ idAttribute: 'id' }, config), context)\n    // only used internally for creating wrapper elements\n    this._el = DefaultDOMElement.parseXML('<dummy></dummy>')\n  }\n\n  importDocument(xml) {\n    // initialization\n    this.reset()\n    // converting to JSON first\n    var articleElement = DefaultDOMElement.parseXML(xml)\n    this.convertDocument(articleElement)\n    var doc = this.generateDocument()\n    return doc\n  }\n\n}\n\nexport default XMLImporter\n","import Component from '../../ui/Component'\n\n/*\n  @example\n\n  ```js\n  $$(Button, {\n    name: 'add-ref' // used to resolve icon and label\n    label: 'Add reference' // optional if you want to set the label string explicity\n  })\n  ```\n*/\nclass Button extends Component {\n  render($$) {\n    let el = $$('button')\n      .addClass('sc-button')\n\n    if (this.props.icon) {\n      el.append(this.renderIcon($$))\n    }\n    if (this.props.label) {\n      el.append(this.renderLabel($$))\n    }\n    if (this.props.active) {\n      el.addClass('sm-active')\n    }\n    if (this.props.style) {\n      el.addClass('sm-style-'+this.props.style)\n    }\n    if (this.props.disabled) {\n      // make button inaccessible\n      el.attr('tabindex', -1)\n        .attr('disabled', true)\n    } else {\n      // make button accessible for tab-navigation\n      el.attr('tabindex', 1)\n    }\n\n    // Ability to inject additional elements (should be avoided!)\n    el.append(this.props.children)\n    return el\n  }\n\n  renderIcon($$) {\n    let iconEl = this.context.iconProvider.renderIcon($$, this.props.icon)\n    return iconEl\n  }\n\n  renderLabel($$) {\n    return $$('div').addClass('se-label').append(\n      this.getLabel(this.props.label)\n    )\n  }\n\n  renderHint($$) {\n    return $$('div').addClass('se-hint').append(\n      this.getLabel(this.props.hint+'-hint')\n    )\n  }\n\n  getLabel(name) {\n    let labelProvider = this.context.labelProvider\n    return labelProvider.getLabel(name)\n  }\n}\n\nexport default Button\n","import Button from './Button'\n\nexport default {\n  name: 'button',\n  configure: function(config) {\n    config.addComponent('button', Button)\n  }\n}\n","import Component from '../../ui/Component'\nimport { isEqual } from 'lodash-es'\n\nclass Toolbox extends Component {\n\n  getInitialState() {\n    return {\n      activeToolGroups: this.getActiveToolGroups()\n    }\n  }\n\n  shouldRerender(newProps, newState) {\n    // poor-man's immutable style\n    let hasChanged = !isEqual(this.props, newProps) || !isEqual(this.state.activeToolGroups, newState.activeToolGroups)\n\n    if (!hasChanged) {\n      this.hide()\n      return false\n    }\n    return true\n  }\n\n  didMount() {\n    // rerender the context menu after anything else has been updated\n    this.context.editorSession.onRender(this._onCommandStatesChanged, this)\n  }\n\n  dispose() {\n    this.context.editorSession.off(this)\n  }\n\n  _onCommandStatesChanged(editorSession) {\n    if (editorSession.hasChanged('commandStates')) {\n      this.setState({\n        activeToolGroups: this.getActiveToolGroups()\n      })\n    }\n  }\n\n  /*\n    Returns A map of tooltargets, the value being an array of tool objects\n    containing Class and toolProps for rendering\n  */\n  getActiveToolGroups() {\n    this._hasActiveTools = false\n\n    let toolGroups = this.context.toolGroups\n    let activeToolGroupNames = this.getActiveToolGroupNames()\n    let activeToolGroups = new Map()\n\n    activeToolGroupNames.forEach((toolGroupName) => {\n      let toolGroup = toolGroups.get(toolGroupName)\n      if (!toolGroup) return\n      let tools = toolGroup.tools\n      let activeTools = this.getActiveTools(tools, toolGroupName)\n      activeToolGroups.set(toolGroupName, {\n        name: toolGroupName,\n        Class: toolGroup.Class,\n        tools: activeTools\n      })\n    })\n    return activeToolGroups\n  }\n\n  /*\n    For a given Map of tools and a toolGroupName determine\n    a set of activeTools, based on the current commandStates\n  */\n  getActiveTools(tools, toolGroupName) { // eslint-disable-line\n    let activeTools = new Map()\n    let commandStates = this._getCommandStates()\n\n    tools.forEach((tool, toolName) => {\n      if (!commandStates[toolName]) {\n        throw new Error(`Could not find commandState for ${toolName}`)\n      }\n\n      let toolProps = Object.assign({}, commandStates[toolName], {\n        name: toolName,\n        label: toolName,\n        // style hint only interprerted by generic Tool class\n        style: this.getToolStyle(toolName)\n      })\n\n      if (!toolProps.disabled || this.showDisabled()) {\n        activeTools.set(tool.name, {\n          name: tool.name,\n          Class: tool.Class,\n          toolProps: toolProps\n        })\n        this._hasActiveTools = true\n      }\n    })\n\n    return activeTools\n  }\n\n  hasActiveTools() {\n    return Boolean(this._hasActiveTools)\n  }\n\n  getActiveToolGroupNames() {\n    throw new Error('Abstract method')\n  }\n\n  showDisabled() {\n    return false\n  }\n\n  hide() {\n    // Optional hook for hiding the toolbox component\n  }\n\n  /*\n    Override if you just want to use a different style\n  */\n  getToolStyle() {\n    throw new Error('Abstract method')\n  }\n\n  _getCommandStates() {\n    return this.context.commandManager.getCommandStates()\n  }\n\n}\n\nexport default Toolbox\n","import Toolbox from '../tools/Toolbox'\n\nclass ContextMenu extends Toolbox {\n\n  didMount() {\n    super.didMount()\n    if (!this.context.scrollPane) {\n      throw new Error('Requires a scrollPane context')\n    }\n    this.context.scrollPane.on('context-menu:opened', this._onContextMenuOpened, this)\n  }\n\n  dispose() {\n    super.dispose()\n    this.context.scrollPane.off(this)\n  }\n\n  /*\n    Override with custom rendering\n  */\n  render($$) {\n    let el = $$('div').addClass('sc-context-menu sm-hidden')\n    let activeToolGroups = this.state.activeToolGroups\n\n    activeToolGroups.forEach((toolGroup) => {\n      let toolGroupProps = Object.assign({}, toolGroup, {\n        toolStyle: this.getToolStyle(),\n        showLabels: true,\n        // showHints: true\n      })\n\n      if (toolGroupProps.tools.size > 0) {\n        let toolGroupEl = $$(toolGroup.Class, toolGroupProps)\n        el.append(toolGroupEl)\n      }\n    })\n    return el\n  }\n\n  getActiveToolGroupNames() {\n    return ['context-menu-primary', 'context-menu-document']\n  }\n\n  showDisabled() {\n    return true\n  }\n\n  /*\n    Override if you just want to use a different style\n  */\n  getToolStyle() {\n    return 'plain-dark'\n  }\n\n  hide() {\n    this.el.addClass('sm-hidden')\n  }\n\n  /*\n    Positions the content menu relative to the scrollPane\n  */\n  _onContextMenuOpened(hints) {\n    let mouseBounds = hints.mouseBounds\n    this.el.removeClass('sm-hidden')\n    let contextMenuWidth = this.el.htmlProp('offsetWidth')\n\n    // By default, context menu are aligned left bottom to the mouse coordinate clicked\n    this.el.css('top', mouseBounds.top)\n    let leftPos = mouseBounds.left\n    // Must not exceed left bound\n    leftPos = Math.max(leftPos, 0)\n    // Must not exceed right bound\n    let maxLeftPos = mouseBounds.left + mouseBounds.right - contextMenuWidth\n    leftPos = Math.min(leftPos, maxLeftPos)\n    this.el.css('left', leftPos)\n  }\n}\n\nexport default ContextMenu\n","import ContextMenu from './ContextMenu'\n\nexport default {\n  name: 'context-menu',\n  configure: function(config) {\n    config.addComponent('context-menu', ContextMenu)\n  }\n}\n","import Component from '../../ui/Component'\n\n/*\n  Simple component for realizing grid layouts\n*/\nclass Grid extends Component {\n  render($$) {\n    let el = $$('div').addClass('sc-grid')\n    if (this.props.mobile) {\n      el.addClass('sm-mobile')\n    }\n    el.append(this.props.children)\n    return el\n  }\n}\n\n/*\n  A grid row\n*/\nclass Row extends Component {\n  render($$) {\n    let el = $$('div').addClass('se-row')\n    el.append(this.props.children)\n    return el\n  }\n}\n\n/*\n  A grid cell\n*/\nclass Cell extends Component {\n  render($$) {\n    let el = $$('div').addClass('se-cell')\n    el.addClass('sm-column-'+this.props.columns)\n    el.append(this.props.children)\n    return el\n  }\n}\n\nGrid.Row = Row\nGrid.Cell = Cell\n\nexport default Grid\n","import Grid from './Grid'\n\nexport default {\n  name: 'grid',\n  configure: function(config) {\n    config.addComponent('grid', Grid)\n  }\n}\n","import Toolbox from '../tools/Toolbox'\n\n/*\n  A default implementation to render the content for the overlay (aka popup) tools.\n*/\nclass Gutter extends Toolbox {\n\n  render($$) {\n    let el = $$('div').addClass(this.getClassNames())\n    el.addClass('sm-hidden')\n    el.addClass('sm-theme-'+this.getTheme())\n    let activeToolGroups = this.state.activeToolGroups\n    let activeToolsEl = $$('div').addClass('se-active-tools')\n\n    activeToolGroups.forEach((toolGroup) => {\n      let toolGroupProps = Object.assign({}, toolGroup, {\n        toolStyle: this.getToolStyle(),\n        showIcons: true\n      })\n      activeToolsEl.append(\n        $$(toolGroup.Class, toolGroupProps)\n      )\n    })\n\n    el.append(activeToolsEl)\n    return el\n  }\n\n  /*\n    Override if you just want to use a different style\n  */\n  getToolStyle() {\n    return 'outline-dark'\n  }\n\n  show(hints) {\n    this.el.removeClass('sm-hidden')\n    this._position(hints)\n  }\n\n  hide() {\n    this.el.addClass('sm-hidden')\n  }\n\n  _position(hints) {\n    if (hints) {\n      // By default, gutter is centered (y-axis) and left of the scrollPane content (x-axis)\n      this.el.css('top', hints.rectangle.top + hints.rectangle.height - hints.rectangle.height / 2)\n      this.el.css('left', 0)\n    }\n  }\n\n  getClassNames() {\n    return 'sc-gutter'\n  }\n\n  getTheme() {\n    return 'dark'\n  }\n\n  getActiveToolGroupNames() {\n    return ['gutter']\n  }\n\n}\n\nexport default Gutter\n","import Gutter from './Gutter'\n\nexport default {\n  name: 'gutter',\n  configure: function(config) {\n    config.addToolGroup('gutter')\n    config.addComponent('gutter', Gutter)\n  }\n}\n","import Component from '../../ui/Component'\n\nclass Input extends Component {\n\n  _onChange() {\n    let editorSession = this.context.editorSession\n    let path = this.props.path\n    let newVal = this.el.val()\n\n    editorSession.transaction(function(tx) {\n      tx.set(path, newVal)\n    })\n  }\n\n  render($$) {\n    let val\n\n    if (this.props.path) {\n      let editorSession = this.context.editorSession\n      let doc = editorSession.getDocument()\n      val = doc.get(this.props.path)\n    } else {\n      val = this.props.value\n    }\n\n    let el = $$('input').attr({\n      value: val,\n      type: this.props.type,\n      placeholder: this.props.placeholder\n    })\n    .addClass('sc-input')\n\n    if (this.props.path) {\n      el.on('change', this._onChange)\n    }\n\n    if (this.props.centered) {\n      el.addClass('sm-centered')\n    }\n\n    return el\n  }\n}\n\nexport default Input\n","import Input from './Input'\n\nexport default {\n  name: 'input',\n  configure: function(config) {\n    config.addComponent('input', Input)\n  }\n}\n","import Component from '../../ui/Component'\n\n/**\n  Layout component for simple layout tasks, without having to write CSS\n\n  @class\n  @component\n\n  @prop {String} width 'small', 'medium', 'large' and 'full'\n  @prop {String} [textAlign] 'center', 'left' or 'right'\n  @prop {String} [noPadding] No padding around layout, will fill the whole space\n\n  @example\n\n  ```js\n  var form = $$(Layout, {\n    width: 'large',\n    textAlign: 'center'\n  });\n  ```\n*/\nclass Layout extends Component {\n\n  render($$) {\n    let el = $$('div').addClass('sc-layout')\n    el.addClass('sm-width-'+this.props.width)\n    if (this.props.textAlign) {\n      el.addClass('sm-text-align-'+this.props.textAlign)\n    }\n\n    if (this.props.noPadding) {\n      el.addClass('sm-no-padding')\n    }\n\n    el.append(this.props.children)\n    return el\n  }\n}\n\nexport default Layout\n","import Layout from './Layout'\n\nexport default {\n  name: 'layout',\n  configure: function(config) {\n    config.addComponent('layout', Layout)\n  }\n}\n","import Component from '../../ui/Component'\n\n/**\n  Modal dialog component\n\n  @class\n  @component\n\n  @prop {String} width 'small', 'medium', 'large' and 'full'\n\n  @example\n\n  ```js\n  var form = $$(Modal, {\n    width: 'medium',\n    textAlign: 'center'\n  });\n  ```\n*/\nclass Modal extends Component {\n\n  render($$) {\n    let el = $$('div').addClass('sc-modal')\n\n    // TODO: don't think that this is good enough. Right the modal is closed by any unhandled click.\n    // Need to be discussed.\n    el.on('click', this._closeModal)\n\n    if (this.props.width) {\n      el.addClass('sm-width-'+this.props.width)\n    }\n\n    el.append(\n      $$('div').addClass('se-body').append(\n        this.props.children\n      )\n    )\n    return el\n  }\n\n  _closeModal(e) {\n    let closeSurfaceClick = e.target.classList.contains('sc-modal')\n    if (closeSurfaceClick) {\n      this.send('closeModal')\n    }\n  }\n\n}\n\nexport default Modal\n","import Modal from './Modal'\n\nexport default {\n  name: 'modal',\n  configure: function(config) {\n    config.addComponent('modal', Modal)\n  }\n}\n","import Toolbox from '../tools/Toolbox'\n\n/*\n  A default implementation to render the content for the overlay (aka popup) tools.\n*/\nclass Overlay extends Toolbox {\n\n  didMount() {\n    super.didMount()\n    if (!this.context.scrollPane) {\n      throw new Error('Requires scrollPane context')\n    }\n    this.context.scrollPane.on('dom-selection:rendered', this._onDomSelectionRendered, this)\n  }\n\n  dispose() {\n    super.dispose()\n    this.context.scrollPane.off(this)\n  }\n\n  render($$) {\n    let el = $$('div').addClass(this.getClassNames())\n    el.addClass('sm-hidden')\n    el.addClass('sm-theme-'+this.getTheme())\n    let activeToolGroups = this.state.activeToolGroups\n    let activeToolsEl = $$('div').addClass('se-active-tools')\n\n    activeToolGroups.forEach((toolGroup) => {\n      let toolGroupProps = Object.assign({}, toolGroup, {\n        toolStyle: this.getToolStyle(),\n        showIcons: true\n      })\n      activeToolsEl.append(\n        $$(toolGroup.Class, toolGroupProps)\n      )\n    })\n\n    el.append(activeToolsEl)\n    return el\n  }\n\n  /*\n    Override if you just want to use a different style\n  */\n  getToolStyle() {\n    return 'plain-dark'\n  }\n\n  show(hints) {\n    this.el.removeClass('sm-hidden')\n    this._position(hints)\n  }\n\n  hide() {\n    this.el.addClass('sm-hidden')\n  }\n\n  _onDomSelectionRendered(hints) {\n    if (this.hasActiveTools()) {\n\n      this.el.removeClass('sm-hidden')\n\n      let overlayWidth = this.el.htmlProp('offsetWidth')\n      let selRect = hints.selectionRect\n      let selectionMaxWidth = selRect.width\n\n      // By default, Overlays are aligned center/bottom to the selection\n      this.el.css('top', selRect.top + selRect.height)\n      let leftPos = selRect.left + selectionMaxWidth/2 - overlayWidth/2\n      // Must not exceed left bound\n      leftPos = Math.max(leftPos, 0)\n      // Must not exceed right bound\n      let maxLeftPos = selRect.left + selectionMaxWidth + selRect.right - overlayWidth\n      leftPos = Math.min(leftPos, maxLeftPos)\n      this.el.css('left', leftPos)\n    } else {\n      this.el.addClass('sm-hidden')\n    }\n  }\n\n  getClassNames() {\n    return 'sc-overlay'\n  }\n\n  getTheme() {\n    return 'dark'\n  }\n\n  getActiveToolGroupNames() {\n    return this.props.toolGroups || ['overlay']\n  }\n\n}\n\nexport default Overlay\n","import Overlay from './Overlay'\n\nexport default {\n  name: 'overlay',\n  configure: function(config) {\n    config.addToolGroup('overlay')\n    config.addComponent('overlay', Overlay)\n  }\n}\n","import forEach from './forEach'\nimport map from './map'\n\n/*\n  Calculate a bounding rectangle for a set of rectangles.\n\n  Note: Here, `bounds.right` and `bounds.bottom` are relative to\n  the left top of the viewport.\n*/\nfunction _getBoundingRect(rects) {\n  var bounds = {\n    left: Number.POSITIVE_INFINITY,\n    top: Number.POSITIVE_INFINITY,\n    right: Number.NEGATIVE_INFINITY,\n    bottom: Number.NEGATIVE_INFINITY,\n    width: Number.NaN,\n    height: Number.NaN\n  }\n\n  forEach(rects, function(rect) {\n    if (rect.left < bounds.left) {\n      bounds.left = rect.left\n    }\n    if (rect.top < bounds.top) {\n      bounds.top = rect.top\n    }\n    if (rect.left + rect.width > bounds.right) {\n      bounds.right = rect.left + rect.width\n    }\n    if (rect.top + rect.height > bounds.bottom) {\n      bounds.bottom = rect.top + rect.height\n    }\n  })\n  bounds.width = bounds.right - bounds.left\n  bounds.height = bounds.bottom - bounds.top\n  return bounds\n}\n\n/*\n  Calculate the bounding rect of a single element relative to a parent.\n\n  The rectangle dimensions are calculated as the union of the given elements\n  clientRects. A selection fragment, for example, may appear as a multi-line span\n  element that consists of a single client rect per line of text in variable widths.\n*/\nfunction _getBoundingOffsetsRect(el, relativeParentEl) {\n  var relativeParentElRect = relativeParentEl.getBoundingClientRect()\n  var elRect = _getBoundingRect(el.getClientRects())\n\n  var left = elRect.left - relativeParentElRect.left\n  var top = elRect.top - relativeParentElRect.top\n  return {\n    left: left,\n    top: top,\n    right: relativeParentElRect.width - left - elRect.width,\n    bottom: relativeParentElRect.height - top - elRect.height,\n    width: elRect.width,\n    height: elRect.height\n  }\n}\n\n/**\n  Get bounding rectangle relative to a given parent element. Allows multiple\n  elements being passed (we need this for selections that consist of multiple\n  selection fragments). Takes a relative parent element that is used as a\n  reference point, instead of the browser's viewport.\n\n  @param {Array} els elements to compute the bounding rectangle for\n  @param {DOMElement} containerEl relative parent used as a reference point\n  @return {object} rectangle description with left, top, right, bottom, width and height\n*/\nfunction getRelativeBoundingRect(els, containerEl) {\n  if (els.length === undefined) {\n    els = [els]\n  }\n  var elRects = map(els, function(el) {\n    return _getBoundingOffsetsRect(el, containerEl)\n  })\n\n  var elsRect = _getBoundingRect(elRects)\n  var containerElRect = containerEl.getBoundingClientRect()\n  return {\n    left: elsRect.left,\n    top: elsRect.top,\n    right: containerElRect.width - elsRect.left - elsRect.width,\n    bottom: containerElRect.height - elsRect.top - elsRect.height,\n    width: elsRect.width,\n    height: elsRect.height\n  }\n}\n\nexport default getRelativeBoundingRect\n","import Component from '../../ui/Component'\nimport getRelativeBoundingRect from '../../util/getRelativeBoundingRect'\n\nexport default class DropTeaser extends Component {\n  didMount() {\n    this.context.dragManager.on('drag:updated', this._onDragUpdated, this)\n  }\n\n  render($$) {\n    let el = $$('div').addClass('sc-drop-teaser sm-hidden')\n    el.on('dragenter', this._onDrag)\n    el.on('dragover', this._onDrag)\n    return el\n  }\n\n  _onDragUpdated(dragState) {\n    let scrollPane = this.context.scrollPane\n    let targetEl = dragState.targetEl\n    if (!targetEl) return\n\n    let contentElement = scrollPane.getContentElement().getNativeElement()\n    let rect = getRelativeBoundingRect(targetEl.getNativeElement(), contentElement)\n\n    if (dragState.insertMode === 'before') {\n      rect.bottom = rect.bottom + rect.height\n    } else {\n      rect.top = rect.top + rect.height\n    }\n\n    this._renderDropTeaser({rect: rect, visible: dragState.isContainerDrop})\n  }\n\n  _renderDropTeaser(hints) {\n    if (hints.visible) {\n      this.el.removeClass('sm-hidden')\n      this.el.css('top', hints.rect.top)\n      this.el.css('left', hints.rect.left)\n      this.el.css('right', hints.rect.right)\n    } else {\n      this.el.addClass('sm-hidden')\n    }\n  }\n\n  // just so that the teaser does not prevent dropping\n  _onDrag(e) { e.preventDefault() }\n}","import DropTeaser from './DropTeaser'\n\nexport default {\n  name: 'drop-teaser',\n  configure: function(config) {\n    config.addComponent('drop-teaser', DropTeaser)\n  }\n}\n","import Component from '../../ui/Component'\nimport forEach from '../../util/forEach'\nimport DefaultDOMElement from '../../ui/DefaultDOMElement'\nimport getRelativeBoundingRect from '../../util/getRelativeBoundingRect'\n\n/**\n  A rich scrollbar implementation that supports highlights.   Usually\n  instantiated by {@link ScrollPane}, so you will likely not create it\n  yourself.\n\n  @class Scrollbar\n  @component\n  @private\n\n  @prop {ui/ScrollPane} scrollPane scroll pane the scrollbar operates on\n  @prop {object} highlights hightlights grouped by scope\n\n  @example\n\n  ```js\n  $$(Scrollbar, {\n    scrollPane: this,\n    highlights: {\n      'bib-items': ['bib-item-citation-1', 'bib-item-citation-2']\n    }\n  }).ref('scrollbar')\n  ```\n*/\n\nclass Scrollbar extends Component {\n\n  didMount() {\n    // do a full rerender when window gets resized\n    DefaultDOMElement.getBrowserWindow().on('resize', this.onResize, this)\n    // update the scroll handler on scroll\n    this.props.scrollPane.on('scroll', this.onScroll, this)\n    // TODO: why is this necessary here?\n    setTimeout(function() {\n      this.updatePositions()\n    }.bind(this))\n  }\n\n  dispose() {\n    DefaultDOMElement.getBrowserWindow().off(this)\n    this.props.scrollPane.off(this)\n  }\n\n  didUpdate() {\n    this.updatePositions()\n  }\n\n  render($$) {\n    let el = $$('div')\n      .addClass('sc-scrollbar')\n      .on('mousedown', this.onMouseDown)\n\n    if (this.props.highlights) {\n      let highlightEls = []\n\n      forEach(this.props.highlights, function(highlights, scope) {\n        forEach(highlights, function(h) {\n          highlightEls.push(\n            $$('div').ref(h).addClass('se-highlight sm-'+scope)\n          )\n        })\n      })\n\n      el.append(\n        $$('div').ref('highlights')\n          .addClass('se-highlights')\n          .append(highlightEls)\n      )\n    }\n    el.append($$('div').ref('thumb').addClass('se-thumb'))\n    return el\n  }\n\n  updatePositions() {\n    let scrollPane = this.props.scrollPane\n    let scrollableEl = scrollPane.getScrollableElement()\n    let contentHeight = scrollPane.getContentHeight()\n    let scrollPaneHeight = scrollPane.getHeight()\n    let scrollTop = scrollPane.getScrollPosition()\n    let contentEl = scrollPane.getContentElement()\n\n    // Needed for scrollbar interaction\n    this.factor = (contentHeight / scrollPaneHeight)\n\n    if (this.factor <= 1) {\n      this.el.addClass('sm-hide-thumb')\n    } else {\n      this.el.removeClass('sm-hide-thumb')\n    }\n\n    this.refs.thumb.css({\n      top: scrollTop / this.factor,\n      height: scrollPaneHeight / this.factor\n    })\n\n    // If we have highlights, update them as well\n    if (this.props.highlights) {\n      // Compute highlights\n      forEach(this.props.highlights,function(highlights) {\n        forEach(highlights, function(nodeId) {\n          let nodeEl = scrollableEl.find('*[data-id=\"'+nodeId+'\"]')\n\n          if (!nodeEl) return\n\n          // Compute bounding rect relative to scroll pane content element\n          let rect = getRelativeBoundingRect(nodeEl.getNativeElement(), contentEl.getNativeElement())\n          let top = rect.top / this.factor\n          let height = rect.height / this.factor\n\n          // Use specified minHeight for highlights\n          if (height < Scrollbar.overlayMinHeight) {\n            height = Scrollbar.overlayMinHeight\n          }\n\n          let highlightEl = this.refs[nodeId]\n          if (highlightEl) {\n            this.refs[nodeId].css({\n              top: top,\n              height: height\n            })\n          } else {\n            console.warn('no ref found for highlight', nodeId)\n          }\n        }.bind(this))\n      }.bind(this))\n    }\n  }\n\n  getScrollableElement() {\n    return this.props.scrollPane.getScrollableElement()\n  }\n\n  onResize() {\n    this.rerender()\n  }\n\n  onScroll() {\n    this.updatePositions()\n  }\n\n  onMouseDown(e) {\n    e.stopPropagation()\n    e.preventDefault()\n    this._mouseDown = true\n\n    // temporarily, we bind to events on window level\n    // because could leave the this element's area while dragging\n    let _window = DefaultDOMElement.getBrowserWindow()\n    _window.on('mousemove', this.onMouseMove, this)\n    _window.on('mouseup', this.onMouseUp, this)\n\n    let scrollBarOffset = this.el.getOffset().top\n    let y = e.pageY - scrollBarOffset\n    let thumbEl = this.refs.thumb.el\n    if (e.target !== thumbEl.getNativeElement()) {\n      // Jump to mousedown position\n      this.offset = thumbEl.height / 2\n      this.onMouseMove(e)\n    } else {\n      this.offset = y - thumbEl.getPosition().top\n    }\n  }\n\n  // Handle Mouse Up\n  onMouseUp() {\n    this._mouseDown = false\n    let _window = DefaultDOMElement.getBrowserWindow()\n    _window.off('mousemove', this.onMouseMove, this)\n    _window.off('mouseup', this.onMouseUp, this)\n  }\n\n  onMouseMove(e) {\n    if (this._mouseDown) {\n      let scrollPane = this.props.scrollPane\n      let scrollableEl = scrollPane.getScrollableElement()\n      let scrollBarOffset = this.el.getOffset().top\n      let y = e.pageY - scrollBarOffset\n\n      // find offset to visible-area.top\n      let scroll = (y-this.offset)*this.factor\n      scrollableEl.setProperty('scrollTop', scroll)\n    }\n  }\n}\n\nScrollbar.overlayMinHeight = 2\n\nexport default Scrollbar\n","import Scrollbar from './Scrollbar'\n\nexport default {\n  name: 'scrollbar',\n  configure: function(config) {\n    config.addComponent('scrollbar', Scrollbar)\n  }\n}\n","import inBrowser from './inBrowser'\n\n/**\n  @module\n\n  Platform utilities such as browser detection etc.\n\n  @example\n\n  ```js\n  import platform from 'substance/util/platform'\n  ```\n*/\nvar platform = {\n\n  inBrowser: inBrowser,\n\n  /**\n    True if user agent is Internet Explorer or Microsoft Edge.\n  */\n  isIE: false,\n  /**\n    True if user agent is Firefox\n  */\n\n  isFF: false,\n\n  isWebkit: false,\n\n  /*\n    Major version\n\n    ATTENTION: at the moment only extracted for IE\n  */\n  version: -1,\n\n  // TODO: make sure that this is implemented correctly\n\n  isWindows: (inBrowser && window.navigator !== undefined && window.navigator.appVersion && window.navigator.appVersion.indexOf(\"Win\") !== -1),\n\n  isMac: (inBrowser && window.navigator !== undefined && window.navigator.platform.indexOf('Mac') >= 0)\n\n}\n\nif (typeof window !== 'undefined') {\n  // Detect Internet Explorer / Edge\n  var ua = window.navigator.userAgent\n  var msie = ua.indexOf('MSIE ')\n  var trident = ua.indexOf('Trident/')\n  var edge = ua.indexOf('Edge/')\n\n  if (msie > 0) {\n    // IE 10 or older => return version number\n    platform.isIE = true\n    platform.version = 10\n    // TODO: if we need someday, this would be the exact version number\n    // parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10)\n  } else if (trident > 0) {\n    // IE 11 => return version number\n    platform.isIE = true\n    platform.version = 11\n    platform.isTrident = true\n    // TODO: if we need someday, this would be the exact version number\n    // var rv = ua.indexOf('rv:')\n    // parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10)\n  } else if (edge > 0) {\n    // IE 12 => return version number\n    platform.isIE = true\n    platform.isEdge = true\n    platform.version = 12\n    // TODO: if we need someday, this would be the exact version number\n    parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10)\n  }\n\n  // Detect Firefox\n  platform.isFF = window.navigator.userAgent.toLowerCase().indexOf('firefox') > -1\n\n  // TODO: explicit detection of Webkit&/Blink\n  platform.isWebkit = !platform.isFF && !platform.isIE\n}\n\nexport default platform","/**\n  Get bounding bounds for a given mouse event, relative parent element.\n\n  @param {MouseEvent} mouseEvent the source mouse event\n  @param {DOMElement} containerEl used as a reference point to calculate position\n  @return {object} bound description with left, top, right, bottom\n*/\nfunction getRelativeMouseBounds(mouseEvent, containerEl) {\n  let containerElRect = containerEl.getBoundingClientRect()\n  let left = mouseEvent.clientX - containerElRect.left\n  let top = mouseEvent.clientY - containerElRect.top\n  let res = {\n    left: left,\n    right: containerElRect.width - left,\n    top: top,\n    bottom: containerElRect.height - top\n  }\n  return res;\n}\n\nexport default getRelativeMouseBounds","import Component from '../../ui/Component'\n\nclass AbstractScrollPane extends Component {\n\n  /*\n    Expose scrollPane as a child context\n  */\n  getChildContext() {\n    return {\n      scrollPane: this\n    }\n  }\n\n  didMount() {\n    this.handleActions({\n      'domSelectionRendered': this._onDomSelectionRendered\n    })\n  }\n\n  /*\n    Determine selection rectangle relative to content element\n    and emit a dom-selection:rendered event with positioning hints\n  */\n  _onDomSelectionRendered() {\n    let selectionRect = this._getSelectionRect()\n    if (!selectionRect) return\n    // Allows overlays to do positioning relative to the current\n    // selection bounding rectangle.\n    this.emit('dom-selection:rendered', {\n      selectionRect: selectionRect\n    })\n    this._scrollSelectionIntoView(selectionRect)\n  }\n\n  /*\n    Determine mouse bounds relative to content element\n    and emit context-menu:opened event with positioning hints\n  */\n  _onContextMenu(e) {\n    e.preventDefault()\n    let mouseBounds = this._getMouseBounds(e)\n\n    this.emit('context-menu:opened', {\n      mouseBounds: mouseBounds\n    })\n  }\n\n  _scrollSelectionIntoView(selectionRect) {\n    let upperBound = this.getScrollPosition()\n    let lowerBound = upperBound + this.getHeight()\n    let selTop = selectionRect.top\n    let selBottom = selectionRect.top + selectionRect.height\n    if ((selTop < upperBound && selBottom < upperBound) ||\n        (selTop > lowerBound && selBottom > lowerBound)) {\n      this.setScrollPosition(selTop)\n    }\n  }\n\n  /**\n    Returns the height of scrollPane (inner content overflows)\n  */\n  getHeight() {\n    throw new Error('Abstract method')\n  }\n\n  /**\n    Returns the cumulated height of a panel's content\n  */\n  getContentHeight() {\n    throw new Error('Abstract method')\n  }\n\n  getContentElement() {\n    // TODO: should be wrapped in DefaultDOMElement\n    throw new Error('Abstract method')\n  }\n\n  // /**\n  //   Get the `.se-scrollable` element\n  // */\n  getScrollableElement() {\n    throw new Error('Abstract method')\n  }\n\n  /**\n    Get current scroll position (scrollTop) of `.se-scrollable` element\n  */\n  getScrollPosition() {\n    throw new Error('Abstract method')\n  }\n\n  setScrollPosition() {\n    throw new Error('Abstract method')\n  }\n\n  /**\n    Get offset relative to `.se-content`.\n\n    @param {DOMNode} el DOM node that lives inside the\n  */\n  getPanelOffsetForElement(el) { // eslint-disable-line\n    throw new Error('Abstract method')\n  }\n\n  /**\n    Scroll to a given sub component.\n\n    @param {String} componentId component id, must be present in data-id attribute\n  */\n  scrollTo(componentId, onlyIfNotVisible) { // eslint-disable-line\n    throw new Error('Abstract method')\n  }\n\n  /*\n    Get selection rectangle relative to panel content element\n  */\n  _getSelectionRect() {\n    throw new Error('Abstract method')\n  }\n\n  _getMouseBounds(e) { // eslint-disable-line\n    throw new Error('Abstract method')\n  }\n\n}\n\nexport default AbstractScrollPane\n","import platform from '../../util/platform'\nimport Scrollbar from '../scrollbar/Scrollbar'\nimport getRelativeBoundingRect from '../../util/getRelativeBoundingRect'\nimport getRelativeMouseBounds from '../../util/getRelativeMouseBounds'\nimport AbstractScrollPane from './AbstractScrollPane'\n\n/**\n  Wraps content in a scroll pane.\n\n  @class ScrollPane\n  @component\n\n  @prop {String} scrollbarType 'native' or 'substance' for a more advanced visual scrollbar. Defaults to 'native'\n  @prop {String} [scrollbarPosition] 'left' or 'right' only relevant when scrollBarType: 'substance'. Defaults to 'right'\n  @prop {ui/Highlights} [highlights] object that maintains highlights and can be manipulated from different sources\n  @prop {ui/TOCProvider} [tocProvider] object that maintains table of content entries\n\n  @example\n\n  ```js\n  $$(ScrollPane, {\n    scrollbarType: 'substance', // defaults to native\n    scrollbarPosition: 'left', // defaults to right\n    onScroll: this.onScroll.bind(this),\n    highlights: this.contentHighlights,\n    tocProvider: this.tocProvider\n  })\n  ```\n*/\nclass ScrollPane extends AbstractScrollPane {\n\n  didMount() {\n    super.didMount()\n    if (this.refs.scrollbar && this.props.highlights) {\n      this.props.highlights.on('highlights:updated', this.onHighlightsUpdated, this)\n    }\n    if (this.refs.scrollbar) {\n      this.domObserver = new window.MutationObserver(this._onContentChanged.bind(this))\n      this.domObserver.observe(this.el.getNativeElement(), {\n        subtree: true,\n        attributes: true,\n        characterData: true,\n        childList: true,\n      })\n      this.context.editorSession.onPosition(this._onPosition, this)\n    }\n  }\n\n  dispose() {\n    super.dispose()\n    if (this.props.highlights) {\n      this.props.highlights.off(this)\n    }\n    this.context.editorSession.off(this)\n    this.context.dragManager.off(this)\n  }\n\n  render($$) {\n    let el = $$('div')\n      .addClass('sc-scroll-pane')\n\n    if (platform.isFF) {\n      el.addClass('sm-firefox')\n    }\n\n    // When noStyle is provided we just use ScrollPane as a container, but without\n    // any absolute positioned containers, leaving the body scrollable.\n    if (!this.props.noStyle) {\n      el.addClass('sm-default-style')\n    }\n\n    // Initialize Substance scrollbar (if enabled)\n    if (this.props.scrollbarType === 'substance') {\n      el.addClass('sm-substance-scrollbar')\n      el.addClass('sm-scrollbar-position-' + this.props.scrollbarPosition)\n\n      el.append(\n        // TODO: is there a way to pass scrollbar highlights already\n        // via props? Currently the are initialized with a delay\n        $$(Scrollbar, {\n          scrollPane: this\n        }).ref('scrollbar')\n          .attr('id', 'content-scrollbar')\n      )\n\n      // Scanline is debugging purposes, display: none by default.\n      el.append(\n        $$('div').ref(\"scanline\").addClass('se-scanline')\n      )\n    }\n\n    el.append(\n      $$('div').ref('scrollable').addClass('se-scrollable').append(\n        this.renderContent($$)\n      ).on('scroll', this.onScroll)\n    )\n    return el\n  }\n\n  renderContent($$) {\n    let contentEl = $$('div').ref('content').addClass('se-content')\n    contentEl.append(this.props.children)\n    if (this.props.contextMenu === 'custom') {\n      contentEl.on('contextmenu', this._onContextMenu)\n    }\n    return contentEl\n  }\n\n  _onContentChanged() {\n    this._contentChanged = true\n  }\n\n  _onPosition() {\n    if (this.refs.scrollbar && this._contentChanged) {\n      this._contentChanged = false\n      this._updateScrollbar()\n    }\n  }\n\n  _updateScrollbar() {\n    if (this.refs.scrollbar) {\n      this.refs.scrollbar.updatePositions()\n    }\n  }\n\n  onHighlightsUpdated(highlights) {\n    this.refs.scrollbar.extendProps({\n      highlights: highlights\n    })\n  }\n\n  onScroll() {\n    let scrollPos = this.getScrollPosition()\n    let scrollable = this.refs.scrollable\n    if (this.props.onScroll) {\n      this.props.onScroll(scrollPos, scrollable)\n    }\n    // Update TOCProvider given\n    if (this.props.tocProvider) {\n      this.props.tocProvider.markActiveEntry(this)\n    }\n    this.emit('scroll', scrollPos, scrollable)\n  }\n\n  /**\n    Returns the height of scrollPane (inner content overflows)\n  */\n  getHeight() {\n    let scrollableEl = this.getScrollableElement()\n    return scrollableEl.height\n  }\n\n  /**\n    Returns the cumulated height of a panel's content\n  */\n  getContentHeight() {\n    let contentEl = this.refs.content.el.getNativeElement()\n    // Important to use scrollHeight here (e.g. to consider overflowing\n    // content, that stretches the content area, such as an overlay or\n    // a context menu)\n    return contentEl.scrollHeight\n  }\n\n  /**\n    Get the `.se-content` element\n  */\n  getContentElement() {\n    return this.refs.content.el\n  }\n\n  /**\n    Get the `.se-scrollable` element\n  */\n  getScrollableElement() {\n    return this.refs.scrollable.el\n  }\n\n  /**\n    Get current scroll position (scrollTop) of `.se-scrollable` element\n  */\n  getScrollPosition() {\n    let scrollableEl = this.getScrollableElement()\n    return scrollableEl.getProperty('scrollTop')\n  }\n\n  setScrollPosition(scrollPos) {\n    let scrollableEl = this.getScrollableElement()\n    scrollableEl.setProperty('scrollTop', scrollPos)\n  }\n\n  /**\n    Get offset relative to `.se-content`.\n\n    @param {DOMNode} el DOM node that lives inside the\n  */\n  getPanelOffsetForElement(el) {\n    let nativeEl = el.getNativeElement()\n    let contentContainerEl = this.refs.content.getNativeElement()\n    let rect = getRelativeBoundingRect(nativeEl, contentContainerEl)\n    return rect.top\n  }\n\n  /**\n    Scroll to a given sub component.\n\n    @param {String} componentId component id, must be present in data-id attribute\n  */\n  scrollTo(componentId, onlyIfNotVisible) {\n    let scrollableEl = this.getScrollableElement()\n    let targetNode = scrollableEl.find('*[data-id=\"'+componentId+'\"]')\n    if (targetNode) {\n      const offset = this.getPanelOffsetForElement(targetNode)\n      let shouldScroll = true\n      if (onlyIfNotVisible) {\n        const height = scrollableEl.height\n        const oldOffset = scrollableEl.getProperty('scrollTop')\n        shouldScroll = (offset < oldOffset || oldOffset+height<offset)\n      }\n      if (shouldScroll) {\n        this.setScrollPosition(offset)\n      }\n    } else {\n      console.warn(componentId, 'not found in scrollable container')\n    }\n  }\n\n  /*\n    Determines the selection bounding rectangle relative to the scrollpane's content.\n  */\n  _onDomSelectionRendered() {\n    super._onDomSelectionRendered()\n    this._updateScrollbar()\n  }\n\n  _onContextMenu(e) {\n    super._onContextMenu(e)\n    this._updateScrollbar()\n  }\n\n  _getMouseBounds(e) {\n    let contentContainerEl = this.getContentElement().getNativeElement()\n    return getRelativeMouseBounds(e, contentContainerEl)\n  }\n\n  /*\n    Get selection rectangle relative to panel content element\n  */\n  _getSelectionRect() {\n    const wsel = window.getSelection()\n    if (wsel.rangeCount === 0) return\n    const wrange = wsel.getRangeAt(0)\n    let contentRect = this.getContentElement().getNativeElement().getBoundingClientRect()\n    let selectionRect = wrange.getBoundingClientRect()\n    if (selectionRect.top === 0 && selectionRect.bottom === 0) {\n      selectionRect = this._fixForCursorRectBug()\n    }\n    return _getRelativeRect(contentRect, selectionRect)\n  }\n\n  _fixForCursorRectBug() {\n    let wsel = window.getSelection()\n    let rects = wsel.anchorNode.parentElement.getClientRects()\n    return rects[0]\n  }\n\n}\n\nfunction _getRelativeRect(parentRect, childRect) {\n  var left = childRect.left - parentRect.left\n  var top = childRect.top - parentRect.top\n  return {\n    left: left,\n    top: top,\n    right: parentRect.width - left - childRect.width,\n    bottom: parentRect.height - top - childRect.height,\n    width: childRect.width,\n    height: childRect.height\n  }\n}\n\nexport default ScrollPane\n","import ScrollPane from './ScrollPane'\n\nexport default {\n  name: 'scroll-pane',\n  configure: function(config) {\n    config.addComponent('scroll-pane', ScrollPane)\n  }\n}\n","import AbstractScrollPane from '../scroll-pane/AbstractScrollPane'\nimport getRelativeMouseBounds from '../../util/getRelativeMouseBounds'\n\n/**\n  Wraps content in a scroll pane.\n\n  @class ScrollPane\n  @component\n\n  @prop {String} scrollbarType 'native' or 'substance' for a more advanced visual scrollbar. Defaults to 'native'\n  @prop {String} [scrollbarPosition] 'left' or 'right' only relevant when scrollBarType: 'substance'. Defaults to 'right'\n  @prop {ui/Highlights} [highlights] object that maintains highlights and can be manipulated from different sources\n  @prop {ui/TOCProvider} [tocProvider] object that maintains table of content entries\n\n  @example\n\n  ```js\n  $$(BodyScrollPane).append(\n    content,\n    $$(ContextMenu)\n    $$(Overlay)\n  )\n  ```\n*/\nclass BodyScrollPane extends AbstractScrollPane {\n\n  /*\n    Expose scrollPane as a child context\n  */\n  getChildContext() {\n    return {\n      scrollPane: this\n    }\n  }\n\n  didMount() {\n    this.handleActions({\n      'domSelectionRendered': this._onDomSelectionRendered\n    })\n  }\n\n  dispose() {\n    this.context.editorSession.off(this)\n  }\n\n  render($$) {\n    let el = $$('div')\n    if (this.props.contextMenu === 'custom') {\n      el.on('contextmenu', this._onContextMenu)\n    }\n    el.append(this.props.children)\n    return el\n  }\n\n  /**\n    Returns the height of scrollPane (inner content overflows)\n  */\n  getHeight() {\n    return window.innerHeight\n  }\n\n  /**\n    Returns the cumulated height of a panel's content\n  */\n  getContentHeight() {\n    return document.body.scrollHeight\n  }\n\n  getContentElement() {\n    // TODO: should be wrapped in DefaultDOMElement\n    return document.body\n  }\n\n  // /**\n  //   Get the `.se-scrollable` element\n  // */\n  getScrollableElement() {\n    return document.body\n  }\n\n  /**\n    Get current scroll position (scrollTop) of `.se-scrollable` element\n  */\n  getScrollPosition() {\n    return document.body.scrollTop\n  }\n\n  setScrollPosition(scrollPos) {\n    document.body.scrollTop = scrollPos\n  }\n\n  /**\n    Get offset relative to `.se-content`.\n\n    @param {DOMNode} el DOM node that lives inside the\n  */\n  getPanelOffsetForElement(el) { // eslint-disable-line\n    console.warn('TODO: implement')\n  }\n\n  /**\n    Scroll to a given sub component.\n\n    @param {String} componentId component id, must be present in data-id attribute\n  */\n  scrollTo(componentId, onlyIfNotVisible) { // eslint-disable-line\n    console.warn('TODO: implement')\n  }\n\n  /*\n    Get selection rectangle relative to panel content element\n  */\n  _getSelectionRect() {\n    const wsel = window.getSelection()\n    if (wsel.rangeCount === 0) return\n    const wrange = wsel.getRangeAt(0)\n    const contentRect = document.body.getBoundingClientRect()\n    const selectionRect = wrange.getBoundingClientRect()\n\n    return _getRelativeRect(contentRect, selectionRect)\n  }\n\n  _fixForCursorRectBug() {\n    let wsel = window.getSelection()\n    let rects = wsel.anchorNode.parentElement.getClientRects()\n    return rects[0]\n  }\n\n  _getMouseBounds(e) {\n    return getRelativeMouseBounds(e, document.body)\n  }\n\n}\n\nfunction _getRelativeRect(parentRect, childRect) {\n  var left = childRect.left - parentRect.left\n  var top = childRect.top - parentRect.top\n  return {\n    left: left,\n    top: top,\n    right: parentRect.width - left - childRect.width,\n    bottom: parentRect.height - top - childRect.height,\n    width: childRect.width,\n    height: childRect.height\n  }\n}\n\n\nexport default BodyScrollPane\n","import BodyScrollPane from './BodyScrollPane'\n\nexport default {\n  name: 'body-scroll-pane',\n  configure: function(config) {\n    config.addComponent('body-scroll-pane', BodyScrollPane)\n  }\n}\n","import Component from '../../ui/Component'\n\n/**\n  A split view layout component. Takes properties for configuration and 2 children via append.\n\n  @class SplitPane\n  @component\n\n  @prop {String} splitType either 'vertical' (default) or 'horizontal'.\n  @prop {String} sizeA size of the first pane (A). '40%' or '100px' or 'inherit' are valid values.\n  @prop {String} sizeB size of second pane. sizeA and sizeB can not be combined.\n\n  @example\n\n  ```js\n  $$(SplitPane, {\n    sizeA: '30%',\n    splitType: 'horizontal'\n  }).append(\n    $$('div').append('Pane A'),\n    $$('div').append('Pane B')\n  )\n  ```\n*/\n\nclass SplitPane extends Component {\n\n  render($$) {\n    if (this.props.children.length !== 2) {\n      throw new Error('SplitPane only works with exactly two child elements')\n    }\n\n    let el = $$('div').addClass('sc-split-pane')\n    if (this.props.splitType === 'horizontal') {\n      el.addClass('sm-horizontal')\n    } else {\n      el.addClass('sm-vertical')\n    }\n\n    let paneA = this.props.children[0]\n    let paneB = this.props.children[1]\n\n    // Apply configured size either to pane A or B.\n    if (this.props.sizeB) {\n      paneB.addClass('se-pane sm-sized')\n      paneB.css(this.getSizedStyle(this.props.sizeB))\n      paneA.addClass('se-pane sm-auto-fill')\n    } else {\n      paneA.addClass('se-pane sm-sized')\n      paneA.css(this.getSizedStyle(this.props.sizeA))\n      paneB.addClass('se-pane sm-auto-fill')\n    }\n\n    el.append(\n      paneA,\n      paneB\n    )\n    return el\n  }\n\n  // Accepts % and px units for size property\n  getSizedStyle(size) {\n    if (!size || size === 'inherit') return {}\n    if (this.props.splitType === 'horizontal') {\n      return {'height': size}\n    } else {\n      return {'width': size}\n    }\n  }\n\n}\n\nexport default SplitPane\n","import SplitPane from './SplitPane'\n\nexport default {\n  name: 'split-pane',\n  configure: function(config) {\n    config.addComponent('split-pane', SplitPane)\n  }\n}\n","import Component from '../../ui/Component'\nimport forEach from '../../util/forEach'\n\n/*\n  A tabbed pane layout component. The actual content is specified via append.\n\n  @class TabbedPane\n  @component\n\n  @prop {Object[]} tabs an array of objects with id and name properties\n  @prop {String} activeTab id of currently active tab\n\n  @example\n\n  ```js\n  $$(TabbedPane, {\n    tabs: [\n      {id: 'tabA', 'A'},\n      {id: 'tabB', 'B'},\n    ],\n    activeTab: 'tabA'\n  }).ref('tabbedPane').append(\n    tabAContent\n  )\n  ```\n*/\n\nclass TabbedPane extends Component {\n\n  render($$) {\n    let el = $$('div').addClass('sc-tabbed-pane')\n    let tabsEl = $$('div').addClass('se-tabs')\n    forEach(this.props.tabs, function(tab) {\n      let tabEl = $$('a')\n        .addClass(\"se-tab\")\n        .attr({\n          href: \"#\",\n          \"data-id\": tab.id,\n        })\n        .on('click', this.onTabClicked)\n      if (tab.id === this.props.activeTab) {\n        tabEl.addClass(\"sm-active\")\n      }\n      tabEl.append(\n        $$('span').addClass('label').append(tab.name)\n      )\n      tabsEl.append(tabEl)\n    }.bind(this))\n\n    el.append(tabsEl)\n    // Active content\n    el.append(\n      $$('div').addClass('se-tab-content').ref('tabContent').append(\n        this.props.children\n      )\n    )\n    return el\n  }\n\n  onTabClicked(e) {\n    e.preventDefault()\n    let tabId = e.currentTarget.dataset.id\n    this.send('switchTab', tabId)\n  }\n}\n\nexport default TabbedPane\n","import TabbedPane from './TabbedPane'\n\nexport default {\n  name: 'tabbed-pane',\n  configure: function(config) {\n    config.addComponent('tabbed-pane', TabbedPane)\n  }\n}\n","import DocumentNode from '../../model/DocumentNode'\n\nclass FileNode extends DocumentNode {\n\n  constructor(...args) {\n    super(...args)\n  }\n\n  getUrl() {\n    if (this.proxy) {\n      return this.proxy.getUrl()\n    } else {\n      // this happens if no FileProxy is attached\n      console.warn('No file proxy attached to ', this.id)\n      return ''\n    }\n  }\n\n  setProxy(proxy) {\n    this.proxy = proxy\n  }\n}\n\nFileNode.type = 'file'\nFileNode.define({\n  url: { type: 'string', optional: true },\n  fileType: { type: 'string', optional: true },\n  mimeType: { type: 'string', optional: true },\n  data: { type: 'object', optional: true }\n})\n\nFileNode.strip = function(nodeData) {\n  return {\n    type: nodeData.type,\n    id: nodeData.id,\n    url: nodeData.url,\n    fileType: nodeData.fileType,\n    mimeType: nodeData.mimeType\n  }\n}\n\nFileNode.prototype._isFileNode = true\nFileNode._isFileNode = true\n\nexport default FileNode","import FileNode from './FileNode'\n\nexport default {\n  name: 'file',\n  configure: function(config) {\n    config.addNode(FileNode)\n  }\n}\n","import { capitalize, extend } from 'lodash-es'\nimport Component from '../../ui/Component'\n\n/**\n  Default Tool implementation\n\n  A tool must be associated with a Command, which holds all the logic, while the tool\n  is just the visual representation of the command state. You can use this component\n  for simple button-like tools, or extend it to create your own UI.\n\n  @class\n  @component\n\n  @example\n\n  Usually instantiated in a Toolbar or an Overlay. Usage:\n\n  ```\n  $$(Tool, {\n    icon: 'strong',\n    label: 'strong',\n    style: 'outline',\n    active: false,\n    disabled: false\n  })\n  ```\n\n\n  ```\n  config.addCommand('strong', AnnotationCommand, { nodeType: 'strong' })\n  config.addTool('strong', AnnotationTool, {\n    target: 'annotations'\n  })\n  ```\n*/\nclass Tool extends Component {\n\n  get _isTool() {\n    return true\n  }\n\n  /**\n    Default tool rendering. You can override this method to provide your custom markup\n  */\n  render($$) {\n    let el = $$('div')\n      .addClass('se-tool')\n\n    let customClassNames = this.getClassNames()\n    if (customClassNames) {\n      el.addClass(customClassNames)\n    }\n\n    let title = this.getTitle()\n    if (title) {\n      el.attr('title', title)\n      el.attr('aria-label', title)\n    }\n\n    el.append(\n      this.renderButton($$)\n    )\n    return el\n  }\n\n  renderButton($$) {\n    let Button = this.getComponent('button')\n    let btn = $$(Button, {\n      icon: this.props.showIcon ? this.props.name : null,\n      label: this.props.showLabel ? this.props.name : null,\n      hint: this.props.showHint ? this.props.name : null,\n      active: this.props.active,\n      disabled: this.props.disabled,\n      style: this.props.style\n    }).on('click', this.onClick)\n    return btn\n  }\n\n  getClassNames() {\n    return ''\n  }\n\n  getTitle() {\n    let labelProvider = this.context.labelProvider\n    let title = this.props.title || labelProvider.getLabel(this.getName())\n    // Used only by annotation tool so far\n    if (this.props.mode) {\n      title = [capitalize(this.props.mode), title].join(' ')\n    }\n    return title\n  }\n\n  /*\n    For now always same as tool name\n  */\n  getCommandName() {\n    return this.getName()\n  }\n\n  getName() {\n    return this.props.name\n  }\n\n  onClick(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (!this.props.disabled) this.executeCommand()\n  }\n\n  /**\n    Executes the associated command\n  */\n  executeCommand(props) {\n    this.context.commandManager.executeCommand(this.getCommandName(), extend({\n      mode: this.props.mode\n    }, props))\n  }\n}\n\nexport default Tool\n","/**\n  Commands are used to perform UI triggered actions on the document. For instance the\n  {@link ui/AnnotationCommand} takes care of creating, expanding, truncating and\n  deleting annotations such as strong and emphasis. It does so by determining a\n  commandState by inspecting the current selection, which is used to parametrize\n  the corresponding tool component. E.g. the strong tool gets active and clickable\n  in create mode when a word in the text is selected. Triggered by a click on the tool,\n  or a keyboard shortcut, the command gets executed by running the code specified in the\n  execute method.\n\n  @class Command\n  @abstract\n\n  @example\n\n  ```\n  class MyCommand extends Command {\n    getCommandState(params, context) {\n      // determine commandState based on params and context\n    }\n\n    execute(params, context) {\n      // perform operations on the document\n    }\n  }\n  ```\n*/\nclass Command {\n\n  /**\n    Construcutor is only used internally.\n\n    @constructor\n    @param {Object} config    Config provided during command registration\n  */\n  constructor(config) {\n    this.config = config || {}\n    this.name = this.config.name\n    if (!this.name) {\n      throw new Error(\"'name' is required\");\n    }\n  }\n\n  get isAsync() {\n    return false\n  }\n\n  /**\n    Get the command name specified at command registration. See\n    {@link util/Configurator#addCommand}\n  */\n  getName() {\n    return this.name\n  }\n\n  /**\n    Determines command state, based on passed params and context. The command\n    state is usually used as props for tool components.\n\n    @example\n\n    This shows the implementation of {@link EditAnnotationCommand#getCommandState}\n\n    ```\n    getCommandState(params) {\n      const sel = this._getSelection(params)\n      const annos = params.selectionState.getAnnotationsForType(this.config.nodeType)\n      const newState = {\n        disabled: true,\n      }\n\n      if (annos.length === 1 && sel.isPropertySelection()) {\n        newState.disabled = false\n        newState.node = annos[0]\n      }\n    }\n    ```\n\n    @param {Object} params      Provides editorSession, selectionState, surface, selection\n    @param {Object} context     Provides app-specific context.\n  */\n  getCommandState(params, context) { // eslint-disable-line\n    throw new Error('Command.getCommandState() is abstract.')\n  }\n\n  /**\n    Execute command and perform operations on the document\n\n    @param {Object} params      Provides commandState, editorSession, selectionState, surface, selection\n    @param {Object} context     Provides app-specific context.\n\n    @return {Object} info object with execution details\n  */\n  execute(params, context) { // eslint-disable-line\n    throw new Error('Command.execute() is abstract.')\n  }\n\n  _getEditorSession(params, context) {\n    let editorSession = params.editorSession || context.editorSession\n    if (!editorSession) {\n      throw new Error(\"'editorSession' is required.\")\n    }\n    return editorSession\n  }\n\n  _getSelection(params) {\n    let sel = params.selection || params.selectionState.getSelection()\n    if (!sel) {\n      throw new Error(\"'selection' is required.\")\n    }\n    return sel\n  }\n\n}\n\nCommand.prototype._isCommand = true\n\nexport default Command\n","import Command from '../../ui/Command'\n\nclass Undo extends Command {\n\n  getCommandState(params) {\n    let editorSession = params.editorSession\n    return {\n      disabled: !editorSession.canUndo(),\n      active: false\n    }\n  }\n\n  execute(params) {\n    let editorSession = params.editorSession\n    if (editorSession.canUndo()) {\n      editorSession.undo()\n      return true\n    }\n    return false\n  }\n\n}\n\nexport default Undo\n","import Command from '../../ui/Command'\n\nclass Redo extends Command {\n\n  getCommandState(params) {\n    let editorSession = params.editorSession\n    return {\n      disabled: !editorSession.canRedo(),\n      active: false\n    }\n  }\n\n  execute(params) {\n    let editorSession = params.editorSession\n    if (editorSession.canRedo()) {\n      editorSession.redo()\n      return true\n    } else {\n      return false\n    }\n  }\n\n}\n\nexport default Redo\n","import Command from '../../ui/Command'\nimport last from '../../util/last'\n\nclass SelectAll extends Command {\n\n  getCommandState(params) {\n    let editorSession = params.editorSession\n    return {\n      disabled: editorSession.getSelection().isNull()\n    }\n  }\n\n  execute(params) {\n    let editorSession = params.editorSession\n    let doc = editorSession.getDocument()\n    let surface = params.surface || editorSession.getFocusedSurface()\n    if (surface) {\n      let sel\n      // TODO: we should move the logic out of the surfaces\n      if (surface._isContainerEditor) {\n        let container = surface.getContainer()\n        if (container.nodes.length === 0) {\n          return false\n        }\n        let firstNodeId = container.nodes[0]\n        let lastNodeId = last(container.nodes)\n        sel = editorSession.createSelection({\n          type: 'container',\n          startPath: [firstNodeId],\n          startOffset: 0,\n          endPath: [lastNodeId],\n          endOffset: 1,\n          containerId: container.id,\n          surfaceId: surface.id\n        })\n      } else if (surface._isTextPropertyEditor) {\n        let path = surface.getPath()\n        let text = doc.get(path)\n        sel = editorSession.createSelection({\n          type: 'property',\n          path: path,\n          startOffset: 0,\n          endOffset: text.length,\n          surfaceId: surface.id\n        })\n      }\n      editorSession.setSelection(sel)\n      return true\n    }\n    return false\n  }\n}\n\nexport default SelectAll\n","import ButtonPackage from '../button/ButtonPackage'\nimport ContextMenuPackage from '../context-menu/ContextMenuPackage'\nimport GridPackage from '../grid/GridPackage'\nimport GutterPackage from '../gutter/GutterPackage'\nimport InputPackage from '../input/InputPackage'\nimport LayoutPackage from '../layout/LayoutPackage'\nimport ModalPackage from '../modal/ModalPackage'\nimport OverlayPackage from '../overlay/OverlayPackage'\nimport DropTeaserPackage from '../drop-teaser/DropTeaserPackage'\nimport ScrollbarPackage from '../scrollbar/ScrollbarPackage'\nimport ScrollPanePackage from '../scroll-pane/ScrollPanePackage'\nimport BodyScrollPanePackage from '../body-scroll-pane/BodyScrollPanePackage'\nimport SplitPanePackage from '../split-pane/SplitPanePackage'\nimport TabbedPanePackage from '../tabbed-pane/TabbedPanePackage'\nimport FilePackage from '../file/FilePackage'\nimport Tool from '../tools/Tool'\nimport platform from '../../util/platform'\n\nimport UndoCommand from './UndoCommand'\nimport RedoCommand from './RedoCommand'\nimport SelectAllCommand from './SelectAllCommand'\n\nexport default {\n  name: 'base',\n  configure: function(config) {\n    config.import(FilePackage)\n    config.import(ScrollPanePackage)\n    config.import(BodyScrollPanePackage)\n    config.import(SplitPanePackage)\n    config.import(TabbedPanePackage)\n    config.import(ScrollbarPackage)\n    config.import(GridPackage)\n    config.import(ModalPackage)\n    config.import(InputPackage)\n    config.import(ButtonPackage)\n    config.import(LayoutPackage)\n    config.import(ContextMenuPackage)\n    config.import(OverlayPackage)\n    config.import(DropTeaserPackage)\n    config.import(GutterPackage)\n\n    // Setup base toolgroups\n    config.addToolGroup('document')\n    config.addToolGroup('annotations')\n    config.addToolGroup('default')\n    config.addToolGroup('context-menu-primary')\n    config.addToolGroup('context-menu-document')\n    config.addToolGroup('insert')\n\n    // Commands\n    config.addCommand('undo', UndoCommand)\n    config.addCommand('redo', RedoCommand)\n    config.addCommand('select-all', SelectAllCommand)\n\n    // Tools\n    config.addTool('undo', Tool, {toolGroup: ['document', 'context-menu-document']})\n    config.addTool('redo', Tool, {toolGroup: ['document', 'context-menu-document']})\n    config.addTool('select-all', Tool, {toolGroup: ['context-menu-document']})\n\n    // Icons\n    config.addIcon('undo', { 'fontawesome': 'fa-undo' })\n    config.addIcon('redo', { 'fontawesome': 'fa-repeat' })\n    config.addIcon('edit', { 'fontawesome': 'fa-cog' })\n    config.addIcon('delete', { 'fontawesome': 'fa-times' })\n    config.addIcon('expand', { 'fontawesome': 'fa-arrows-h' })\n    config.addIcon('truncate', { 'fontawesome': 'fa-arrows-h' })\n\n    // Labels\n    config.addLabel('undo', {\n      en: 'Undo',\n      de: 'Rckgngig'\n    })\n    config.addLabel('redo', {\n      en: 'Redo',\n      de: 'Wiederherstellen'\n    })\n    config.addLabel('select-all', {\n      en: 'Select All',\n      de: 'Alles Auswhlen'\n    })\n    config.addLabel('container-selection', {\n      en: 'Container',\n      de: 'Container'\n    })\n    config.addLabel('container', {\n      en: 'Container',\n      de: 'Container'\n    })\n    config.addLabel('insert-container', {\n      en: 'Insert Container',\n      de: 'Container einfgen'\n    })\n\n    if (platform.isMac) {\n      config.addKeyboardShortcut('cmd+z', { command: 'undo' })\n      config.addKeyboardShortcut('cmd+shift+z', { command: 'redo' })\n      config.addKeyboardShortcut('cmd+a', { command: 'select-all' })\n    } else {\n      config.addKeyboardShortcut('ctrl+z', { command: 'undo' })\n      config.addKeyboardShortcut('ctrl+shift+z', { command: 'redo' })\n      config.addKeyboardShortcut('ctrl+a', { command: 'select-all' })\n    }\n  }\n}\n","import TextBlock from '../../model/TextBlock'\n\nclass Blockquote extends TextBlock {}\n\nBlockquote.type = \"blockquote\"\n\nexport default Blockquote\n","import Component from './Component'\n\nclass NodeComponent extends Component {\n\n  render($$) {\n    let tagName = this.getTagName()\n    let el = $$(tagName)\n      .attr('data-id', this.props.node.id)\n      .addClass(this.getClassNames())\n    return el\n  }\n\n  getTagName() {\n    return 'div'\n  }\n\n  getClassNames() {\n    return ''\n  }\n\n}\n\nexport default NodeComponent\n","import Component from './Component'\n\n/**\n  Renders an annotation. Used internally by different components (e.g. ui/AnnotatedTextComponent)\n\n  @class\n  @component\n  @extends ui/Component\n\n  @prop {Object} doc document\n  @prop {Object} node node which describes annotation\n\n  @example\n\n  ```js\n  $$(AnnotationComponent, {\n    doc: doc,\n    node: node\n  })\n  ```\n*/\n\nclass AnnotationComponent extends Component {\n\n  // TODO: we should avoid to have a didMount hook on an abstract base class\n  didMount() {\n    let node = this.props.node\n    node.on('highlighted', this.onHighlightedChanged, this)\n  }\n\n  // TODO: we should avoid to have a didMount hook on an abstract base class\n  dispose() {\n    let node = this.props.node\n    node.off(this)\n  }\n\n  render($$) {\n    let el = $$(this.getTagName())\n      .attr(\"data-id\", this.props.node.id)\n      .addClass(this.getClassNames())\n    if (this.props.node.highlighted) {\n      el.addClass('sm-highlighted')\n    }\n    el.append(this.props.children)\n    return el\n  }\n\n  getClassNames() {\n    return 'sc-'+this.props.node.type\n  }\n\n  onHighlightedChanged() {\n    if (this.props.node.highlighted) {\n      this.el.addClass('sm-highlighted')\n    } else {\n      this.el.removeClass('sm-highlighted')\n    }\n  }\n\n  getTagName() {\n    return 'span'\n  }\n\n}\n\nexport default AnnotationComponent\n","export default function createSurfaceId(surface) {\n  var surfaceParent = surface._getSurfaceParent()\n  if (surfaceParent) {\n    return surfaceParent.getId() + '/' + surface.name\n  } else {\n    return surface.name\n  }\n}\n","import { startsWith } from 'lodash-es'\nimport keys from '../../util/keys'\nimport createSurfaceId from '../../util/createSurfaceId'\nimport Coordinate from '../../model/Coordinate'\nimport Component from '../../ui/Component'\n\nclass IsolatedNodeComponent extends Component {\n  constructor(...args) {\n    super(...args)\n\n    this.name = this.props.node.id\n    this._id = createSurfaceId(this)\n    this._state = {\n      selectionFragment: null\n    }\n\n    this.handleAction('escape', this._escape)\n    this.ContentClass = this._getContentClass(this.props.node) || Component\n  }\n\n  get __elementTag() {\n    return 'div'\n  }\n\n  get __slugChar() {\n    return \"|\"\n  }\n\n  getChildContext() {\n    return {\n      surfaceParent: this\n    }\n  }\n\n  getInitialState() {\n    let selState = this.context.editorSession.getSelectionState()\n    return this._deriveStateFromSelectionState(selState)\n  }\n\n  didMount() {\n    super.didMount.call(this);\n\n    let editorSession = this.context.editorSession\n    editorSession.onRender('selection', this._onSelectionChanged, this)\n  }\n\n  dispose() {\n    super.dispose.call(this)\n\n    let editorSession = this.context.editorSession\n    editorSession.off(this)\n  }\n\n  getClassNames() {\n    return 'sc-isolated-node'\n  }\n\n  render($$) {\n    let node = this.props.node\n    let ContentClass = this.ContentClass\n    // console.log('##### IsolatedNodeComponent.render()', $$.capturing);\n    let el = super.render.apply(this, arguments)\n    el.tagName = this.__elementTag\n    el.addClass(this.getClassNames())\n      .addClass('sm-'+this.props.node.type)\n      .attr(\"data-id\", node.id)\n\n    let disabled = this.isDisabled()\n\n    if (this.state.mode) {\n      el.addClass('sm-'+this.state.mode)\n    } else {\n      el.addClass('sm-not-selected')\n    }\n\n    if (!ContentClass.noStyle) {\n      el.addClass('sm-default-style')\n    }\n\n    // shadowing handlers of the parent surface\n    // TODO: extract this into a helper so that we can reuse it anywhere where we want\n    // to prevent propagation to the parent surface\n    el.on('keydown', this.onKeydown)\n      .on('mousedown', this._stopPropagation)\n      .on('keypress', this._stopPropagation)\n      .on('keyup', this._stopPropagation)\n      .on('compositionstart', this._stopPropagation)\n      .on('textInput', this._stopPropagation)\n\n    el.append(\n      $$(this.__elementTag).addClass('se-slug').addClass('sm-before').ref('before')\n        // NOTE: better use a regular character otherwise Edge has problems\n        .append(this.__slugChar)\n    )\n\n    let level = this._getLevel()\n\n    let container = $$(this.__elementTag).addClass('se-container')\n      .attr('contenteditable', false)\n      .css({ 'z-index': 2*level })\n\n    if (ContentClass.fullWidth) {\n      container.addClass('sm-full-width')\n    }\n\n    if (this.state.mode === 'cursor' && this.state.position === 'before') {\n      container.append(\n        $$(this.__elementTag).addClass('se-cursor').addClass('sm-before').attr('contenteditable', false)\n      )\n    }\n    container.append(this.renderContent($$, node))\n\n    if (disabled) {\n      container.addClass('sm-disabled')\n      if (this.shouldRenderBlocker()) {\n        // NOTE: there are some content implementations which work better without a blocker\n        let blocker = $$(this.__elementTag).addClass('se-blocker').ref('blocker')\n          .css({ 'z-index': 2*level+1 })\n        // select the node on click\n        blocker.on('click', this.onClickBlocker)\n        container.append(blocker)\n      } else {\n        // select the node on click\n        el.on('click', this.onClick)\n      }\n    }\n\n    if (this.state.mode === 'cursor' && this.state.position === 'after') {\n      container.append(\n        $$(this.__elementTag).addClass('se-cursor').addClass('sm-after').attr('contenteditable', false)\n      );\n    }\n\n    el.append(container)\n    el.append(\n      $$(this.__elementTag).addClass('se-slug').addClass('sm-after').ref('after')\n        // NOTE: better use a regular character otherwise Edge has problems\n        .append(this.__slugChar)\n    )\n\n    el.attr('draggable', true)\n    return el\n  }\n\n  renderContent($$, node) {\n    let ComponentClass = this.ContentClass\n    if (!ComponentClass) {\n      console.error('Could not resolve a component for type: ' + node.type)\n      return $$(this.__elementTag)\n    } else {\n      let props = {\n        node: node,\n        disabled: this.isDisabled(),\n        isolatedNodeState: this.state.mode\n      }\n      if (this.state.mode === 'focused') {\n        props.focused = true;\n      }\n      return $$(ComponentClass, props).ref('content')\n    }\n  }\n\n  shouldRenderBlocker() {\n    return true\n  }\n\n  shouldSelectOnClick() {\n    return this.state.mode !== 'focused' && this.state.mode !== 'co-focused'\n  }\n\n  getId() {\n    return this._id\n  }\n\n  getMode() {\n    return this.state.mode\n  }\n\n  isNotSelected() {\n    return !this.state.mode\n  }\n\n  isSelected() {\n    return this.state.mode === 'selected'\n  }\n\n  isCoSelected() {\n    return this.state.mode === 'co-selected'\n  }\n\n  isFocused() {\n    return this.state.mode === 'focused'\n  }\n\n  isCoFocused() {\n    return this.state.mode === 'co-focused'\n  }\n\n  _getContentClass(node) {\n    let componentRegistry = this.context.componentRegistry\n    let ComponentClass = componentRegistry.get(node.type)\n    return ComponentClass\n  }\n\n  isDisabled() {\n    return !this.state.mode || ['co-selected', 'cursor'].indexOf(this.state.mode) > -1;\n  }\n\n  _getSurfaceParent() {\n    return this.context.surface\n  }\n\n  _getLevel() {\n    let level = 1;\n    let parent = this._getSurfaceParent()\n    while (parent) {\n      level++\n      parent = parent._getSurfaceParent()\n    }\n    return level\n  }\n\n  _onSelectionChanged(selection) {\n    let editorSession = this.context.editorSession\n    let newState = this._deriveStateFromSelectionState(editorSession.getSelectionState())\n    if (!newState && this.state.mode) {\n      this.extendState({ mode: null })\n    } else if (newState && newState.mode !== this.state.mode) {\n      this.extendState(newState)\n    }\n  }\n\n  _deriveStateFromSelectionState(selState) {\n    let sel = selState.getSelection()\n    let surfaceId = sel.surfaceId\n    if (!surfaceId) return\n    let id = this.getId()\n    let nodeId = this.props.node.id\n    let parentId = this._getSurfaceParent().getId()\n    let inParentSurface = (surfaceId === parentId)\n    // detect cases where this node is selected or co-selected by inspecting the selection\n    if (inParentSurface) {\n      if (sel.isNodeSelection() && sel.getNodeId() === nodeId) {\n        if (sel.isFull()) {\n          return { mode: 'selected' }\n        } else if (sel.isBefore()) {\n          return { mode: 'cursor', position: 'before' }\n        } else if (sel.isAfter()) {\n          return { mode: 'cursor', position: 'after' }\n        }\n      }\n      if (sel.isContainerSelection() && sel.containsNodeFragment(nodeId)) {\n        return { mode: 'co-selected' }\n      }\n      return\n    }\n    if (sel.isCustomSelection() && id === surfaceId) {\n      return { mode: 'focused' }\n    }\n    // HACK: a looks a bit hacky. Fine for now.\n    // TODO: we should think about switching to surfacePath, instead of surfaceId\n    else if (startsWith(surfaceId, id)) {\n      let path1 = id.split('/')\n      let path2 = surfaceId.split('/')\n      let len1 = path1.length\n      let len2 = path2.length\n      if (len2 > len1 && path1[len1-1] === path2[len1-1]) {\n        if (len2 === len1 + 1) {\n          return { mode: 'focused' }\n        } else {\n          return { mode: 'co-focused' }\n        }\n      } else {\n        return null\n      }\n    }\n  }\n\n  onMousedown(event) {\n    // console.log('IsolatedNodeComponent.onMousedown', this.getId());\n    event.stopPropagation()\n  }\n\n  onClick(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    if (this.shouldSelectOnClick()) {\n      this._selectNode()\n    }\n  }\n\n  onClickBlocker(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    if (this.shouldSelectOnClick() && event.target === this.refs.blocker.getNativeElement()) {\n      this._selectNode()\n    }\n  }\n\n  onKeydown(event) {\n    event.stopPropagation()\n    // console.log('####', event.keyCode, event.metaKey, event.ctrlKey, event.shiftKey);\n    // TODO: while this works when we have an isolated node with input or CE,\n    // there is no built-in way of receiving key events in other cases\n    // We need a global event listener for keyboard events which dispatches to the current isolated node\n    if (event.keyCode === keys.ESCAPE && this.state.mode === 'focused') {\n      event.preventDefault()\n      this._escape()\n    }\n  }\n\n  _escape() {\n    this._selectNode()\n  }\n\n  _stopPropagation(event) {\n    event.stopPropagation()\n  }\n\n  _selectNode() {\n    // console.log('IsolatedNodeComponent: selecting node.');\n    let editorSession = this.context.editorSession\n    let surface = this.context.surface\n    let nodeId = this.props.node.id\n    editorSession.setSelection({\n      type: 'node',\n      nodeId: nodeId,\n      mode: 'full',\n      containerId: surface.getContainerId(),\n      surfaceId: surface.id\n    })\n  }\n}\n\nIsolatedNodeComponent.prototype._isIsolatedNodeComponent = true\n\nIsolatedNodeComponent.prototype._isDisabled = IsolatedNodeComponent.prototype.isDisabled\n\nIsolatedNodeComponent.getCoordinate = function(surfaceEl, node) {\n  // special treatment for block-level isolated-nodes\n  let parent = node.getParent()\n  if (node.isTextNode() && parent.is('.se-slug')) {\n    let boundary = parent\n    let isolatedNodeEl = boundary.getParent()\n    let nodeId = isolatedNodeEl.getAttribute('data-id')\n    if (nodeId) {\n      var charPos = boundary.is('sm-after') ? 1 : 0\n      return new Coordinate([nodeId], charPos)\n    } else {\n      console.error('FIXME: expecting a data-id attribute on IsolatedNodeComponent')\n    }\n  }\n  return null\n}\n\nIsolatedNodeComponent.getDOMCoordinate = function(comp, coor) {\n  let domCoor\n  if (coor.offset === 0) {\n    domCoor = {\n      container: comp.refs.before.getNativeElement(),\n      offset: 0\n    }\n  } else {\n    domCoor = {\n      container: comp.refs.after.getNativeElement(),\n      offset: 1\n    }\n  }\n  return domCoor\n}\n\nIsolatedNodeComponent.getDOMCoordinates = function(comp) {\n  return {\n    start: {\n      container: comp.refs.before.getNativeElement(),\n      offset: 0\n    },\n    end: {\n      container: comp.refs.after.getNativeElement(),\n      offset: 1\n    }\n  }\n}\n\nexport default IsolatedNodeComponent\n","import { isEqual, startsWith } from 'lodash-es'\nimport Coordinate from '../../model/Coordinate'\nimport IsolatedNodeComponent from '../isolated-node/IsolatedNodeComponent'\n\nclass InlineNodeComponent extends IsolatedNodeComponent {\n\n  get _isInlineNodeComponent() {\n    return true\n  }\n\n  // use spans everywhere\n  get __elementTag() {\n    return 'span'\n  }\n\n  get __slugChar() {\n    return \"\\uFEFF\"\n  }\n\n  getClassNames() {\n    return 'sc-inline-node'\n  }\n\n  render($$) { // eslint-disable-line\n    let el = super.render($$)\n    el.attr('data-inline', '1')\n    return el\n  }\n\n  // TODO: this is almost the same as the super method. Try to consolidate.\n  _deriveStateFromSelectionState(selState) {\n    let sel = selState.getSelection()\n    let surfaceId = sel.surfaceId\n    if (!surfaceId) return\n    let id = this.getId()\n    let node = this.props.node\n    let parentId = this._getSurfaceParent().getId()\n    let inParentSurface = (surfaceId === parentId)\n    // detect cases where this node is selected or co-selected by inspecting the selection\n    if (inParentSurface) {\n      if (sel.isPropertySelection() && !sel.isCollapsed() && isEqual(sel.path, node.path)) {\n        let nodeSel = node.getSelection()\n        if(nodeSel.equals(sel)) {\n          return { mode: 'selected' }\n        }\n        if (sel.contains(nodeSel)) {\n          return { mode: 'co-selected' }\n        }\n      }\n      return\n    }\n    // for all other cases (focused / co-focused) the surface id prefix must match\n    if (!startsWith(surfaceId, id)) return\n    // Note: trying to distinguisd focused\n    // surfaceIds are a sequence of names joined with '/'\n    // a surface inside this node will have a path with length+1.\n    // a custom selection might just use the id of this IsolatedNode\n    let p1 = id.split('/')\n    let p2 = surfaceId.split('/')\n    if (p2.length >= p1.length && p2.length <= p1.length+1) {\n      return { mode: 'focused' }\n    } else {\n      return { mode: 'co-focused' }\n    }\n  }\n\n  _selectNode() {\n    // console.log('IsolatedNodeComponent: selecting node.');\n    let editorSession = this.context.editorSession\n    let surface = this.context.surface\n    let node = this.props.node\n    editorSession.setSelection({\n      type: 'property',\n      path: node.path,\n      startOffset: node.startOffset,\n      endOffset: node.endOffset,\n      containerId: surface.getContainerId(),\n      surfaceId: surface.id\n    })\n  }\n\n}\n\nInlineNodeComponent.getCoordinate = function(el) {\n  // special treatment for block-level isolated-nodes\n  let parent = el.getParent()\n  if (el.isTextNode() && parent.is('.se-slug')) {\n    let slug = parent\n    let nodeEl = slug.getParent()\n    if (nodeEl.is('.sc-inline-node')) {\n      let startOffset = Number(nodeEl.getAttribute('data-offset'))\n      let len = Number(nodeEl.getAttribute('data-length'))\n      let charPos = startOffset\n      if (slug.is('sm-after')) charPos += len\n      let path\n      while ( (nodeEl = nodeEl.getParent()) ) {\n        let pathStr = nodeEl.getAttribute('data-path')\n        if (pathStr) {\n          path = pathStr.split('.')\n          let coor = new Coordinate(path, charPos)\n          coor.__inInlineNode__ = true\n          coor.__startOffset__ = startOffset\n          coor.__endOffset__ = startOffset+len\n          return coor\n        }\n      }\n    }\n  }\n  return null\n}\n\nexport default InlineNodeComponent\n","import Fragmenter from '../model/Fragmenter'\nimport Component from './Component'\nimport AnnotationComponent from './AnnotationComponent'\nimport InlineNodeComponent from '../packages/inline-node/InlineNodeComponent'\n\n/**\n  Renders an anotated text. Used internally by {@link ui/TextPropertyComponent}.\n\n  @class\n  @component\n  @extends ui/Component\n\n  @prop {String[]} path The property to be rendered.\n*/\n\nclass AnnotatedTextComponent extends Component {\n\n  /**\n    Node render implementation. Use model/Fragmenter for rendering of annotations.\n\n    @return {VirtualNode} VirtualNode created using ui/Component\n   */\n  render($$) {\n    let el = this._renderContent($$)\n      .addClass('sc-annotated-text')\n      .css({ whiteSpace: \"pre-wrap\" })\n    return el\n  }\n\n  getText() {\n    return this.getDocument().get(this.props.path) || ''\n  }\n\n  getAnnotations() {\n    return this.getDocument().getIndex('annotations').get(this.props.path)\n  }\n\n  _getTagName() {\n    return this.props.tagName\n  }\n\n  _onDocumentChange(update) {\n    if (update.change && update.change.updated[this.getPath()]) {\n      this.rerender()\n    }\n  }\n\n  _renderContent($$) {\n    let text = this.getText();\n    let annotations = this.getAnnotations()\n    let el = $$(this._getTagName() || 'span')\n    if (annotations && annotations.length > 0) {\n      let fragmenter = new Fragmenter({\n        onText: this._renderTextNode.bind(this),\n        onEnter: this._renderFragment.bind(this, $$),\n        onExit: this._finishFragment.bind(this)\n      });\n      fragmenter.start(el, text, annotations)\n    } else {\n      el.append(text)\n    }\n    return el\n  }\n\n  _renderTextNode(context, text) {\n    if (text && text.length > 0) {\n      context.append(text)\n    }\n  }\n\n  _renderFragment($$, fragment) {\n    let doc = this.getDocument()\n    let componentRegistry = this.getComponentRegistry()\n    let node = fragment.node\n    if (node.type === \"container-annotation-fragment\") {\n      return $$(AnnotationComponent, { doc: doc, node: node })\n        .addClass(\"se-annotation-fragment\")\n        .addClass(node.anno.getTypeNames().join(' ').replace(/_/g, \"-\"));\n    } else if (node.type === \"container-annotation-anchor\") {\n      return $$(AnnotationComponent, { doc: doc, node: node })\n        .addClass(\"se-anchor\")\n        .addClass(node.anno.getTypeNames().join(' ').replace(/_/g, \"-\"))\n        .addClass(node.isStart?\"start-anchor\":\"end-anchor\")\n    }\n    let ComponentClass = componentRegistry.get(node.type) || AnnotationComponent\n    if (node.constructor.isInline &&\n        // opt-out for custom implementations\n        !ComponentClass.isCustom &&\n        // also no extra wrapping if the node is already an inline node\n        !ComponentClass.prototype._isInlineNodeComponent) {\n      ComponentClass = InlineNodeComponent\n    }\n    let el = $$(ComponentClass, { doc: doc, node: node })\n    return el\n  }\n\n  _finishFragment(fragment, context, parentContext) {\n    parentContext.append(context)\n  }\n\n  /**\n    Gets document instance.\n\n    @return {Document} The document instance\n   */\n  getDocument() {\n    return this.props.doc || this.context.doc\n  }\n\n}\n\nexport default AnnotatedTextComponent\n","import Component from './Component'\n\nclass CursorComponent extends Component {\n\n  render($$) {\n    // TODO: we should rename se-cursor to sc-cursor\n    let el = $$('span').addClass('se-cursor')\n    // Add zero-width character. Since we have a non-empty element, the\n    // outline style set on the cursor would not be visible in certain\n    // scenarios (e.g. when cursor is at the very beginning of a text.\n    el.append(\"\\uFEFF\")\n    el.append($$('div').addClass('se-cursor-inner'))\n\n    if (this.props.collaborator) {\n      let collaboratorIndex = this.props.collaborator.colorIndex\n      el.addClass('sm-collaborator-'+collaboratorIndex)\n    } else {\n      el.addClass('sm-local-user')\n    }\n\n    return el\n  }\n\n}\n\nexport default CursorComponent\n","import Component from './Component'\n\nclass SelectionFragmentComponent extends Component {\n\n  render($$) {\n    // TODO: we should rename se-cursor to sc-cursor\n    let el = $$('span').addClass('se-selection-fragment')\n    if (this.props.collaborator) {\n      let collaboratorIndex = this.props.collaborator.colorIndex\n      el.addClass('sm-collaborator-'+collaboratorIndex)\n    } else {\n      el.addClass('sm-local-user')\n    }\n    el.append(this.props.children)\n    return el\n  }\n\n}\n\nexport default SelectionFragmentComponent\n","export default function levenshtein(a, b){\n  let m = []\n  for(let i = 0; i <= b.length; i++) {\n    m[i] = [i]\n    if(i === 0) continue;\n    let ib = i-1\n    for(let j = 0; j <= a.length; j++){\n      m[0][j] = j\n      if(j === 0) continue;\n      let jb = j-1\n      m[i][j] = b.charAt(ib) == a.charAt(jb) ? m[ib][jb] : Math.min(\n        m[ib][jb]+1,\n        m[i][jb]+1,\n        m[ib][j]+1\n      )\n    }\n  }\n  return m\n}\n","import isString from './isString'\nimport levenshtein from './levenshtein'\n\n/*\n  Determines a list of changes to transform String a into String b.\n\n  @param {String} a\n  @param {String} b\n*/\nfunction diff(a, b, offset) {\n  if (!isString(a) || !isString(b)) {\n    throw new Error('Illegal arguments.')\n  }\n  offset = offset || 0\n  let changes = []\n  if (a || b) {\n    if (!a && b) {\n      changes.push({ type:'insert', start:offset, text:b })\n    } else if (a && !b) {\n      changes.push({ type:'delete', start:offset, end:offset+a.length })\n    } else {\n      let m = levenshtein(a, b)\n      changes = _diff(a, b, m, offset)\n    }\n  }\n  return changes\n}\n\nfunction _diff(a, b, m, offset) {\n  let i = b.length\n  let j = a.length\n  let changes = []\n  let current\n  while (i>0 && j>0) {\n    _next()\n  }\n  _commit()\n  return changes\n\n  function _next() {\n    let d = m[i][j]\n    let ib = i-1\n    let jb = j-1\n    // substitute\n    if (m[ib][jb]<d) {\n      if (current && current.type === 'replace') {\n        current.start--\n        current.text.unshift(b.charAt(ib))\n      } else {\n        _commit()\n        current = { type:'replace', start:jb, end:j, text:[b.charAt(ib)] }\n      }\n      i--\n      j--\n    }\n    // insert\n    else if (m[ib][j]<d) {\n      if (current && current.type === 'insert') {\n        current.start--\n        current.text.unshift(b.charAt(ib))\n      } else {\n        _commit()\n        current = { type:'insert', start:jb, text:[b.charAt(ib)] }\n      }\n      i--\n    }\n    // delete char\n    else if (m[i][jb]<d) {\n      if (current && current.type === 'delete') {\n        current.start--\n      } else {\n        _commit()\n        current = { type:'delete', start:jb, end:j }\n      }\n      j--\n    }\n    // preserve\n    else {\n      _commit()\n      i--\n      j--\n    }\n  }\n\n  function _commit() {\n    if (current) {\n      switch (current.type) {\n        case 'insert':\n          current.start += offset\n          current.text = current.text.join('')\n          break\n        case 'delete':\n          current.start += offset\n          current.end += offset\n          break\n        case 'replace':\n          current.start += offset\n          current.end += offset\n          current.text = current.text.join('')\n          break\n        default:\n          throw new Error('Invalid state')\n      }\n      changes.push(current)\n      current = null\n    }\n  }\n\n}\n\nexport default diff\n","import isNumber from '../util/isNumber'\nimport Coordinate from '../model/Coordinate'\nimport AnnotatedTextComponent from './AnnotatedTextComponent'\nimport CursorComponent from './CursorComponent'\nimport SelectionFragmentComponent from './SelectionFragmentComponent'\nimport diff from '../util/diff'\n\n/**\n  Renders a text property. Used internally by different components to render\n  editable text.\n\n  @class\n  @component\n  @extends ui/AnnotatedTextComponent\n\n  @prop {String[]} path path to a text property\n  @prop {String} [tagName] specifies which tag should be used - defaults to `div`\n\n  @example\n\n  ```js\n  $$(TextProperty, {\n    path: [ 'paragraph-1', 'content']\n  })\n  ```\n*/\n\nclass TextPropertyComponent extends AnnotatedTextComponent {\n\n  getInitialState() {\n    const markersManager = this.context.markersManager\n    let path = this.props.path\n    let markers\n    if (markersManager) {\n      // register and get initial set of markers\n      markersManager.register(this)\n      markers = markersManager.getMarkers(path, {\n        surfaceId: this.getSurfaceId(),\n        containerId: this.getContainerId()\n      })\n    } else {\n      const doc = this.getDocument()\n      markers = doc.getAnnotations(path)\n    }\n    return {\n      markers: markers\n    }\n  }\n\n  didMount() {\n    if (this.context.surface && this.context.surface.hasNativeSpellcheck()) {\n      this.domObserver = new window.MutationObserver(this._onDomMutations.bind(this));\n      this.domObserver.observe(this.el.getNativeElement(), { subtree: true, characterData: true, characterDataOldValue: true });\n    }\n  }\n\n  dispose() {\n    if (this.context.markersManager) {\n      this.context.markersManager.deregister(this)\n    }\n  }\n\n  render($$) {\n    let path = this.getPath()\n\n    let el = this._renderContent($$)\n      .addClass('sc-text-property')\n      .attr({\n        'data-path': path.join('.')\n      })\n      .css({\n        'white-space': 'pre-wrap'\n      })\n\n    if (!this.props.withoutBreak) {\n      el.append($$('br'))\n    }\n    return el\n  }\n\n  getAnnotations() {\n    return this.state.markers\n  }\n\n  _renderFragment($$, fragment) {\n    let node = fragment.node\n    let id = node.id\n    let el\n    if (node.type === 'cursor') {\n      el = $$(CursorComponent, { collaborator: node.collaborator })\n    } else if (node.type === 'selection-fragment') {\n      el = $$(SelectionFragmentComponent, { collaborator: node.collaborator })\n    } else {\n      el = super._renderFragment.apply(this, arguments)\n      el.ref(id + '@' + fragment.counter)\n      // NOTE: before we only preserved inline nodes, or if configured explicitly\n      // now the performance seems good enough to do this all the time.\n      // if (node.constructor.isInline) {\n      //   el.ref(id)\n      // }\n      // Adding refs here, enables preservative rerendering\n      // TODO: while this solves problems with rerendering inline nodes\n      // with external content, it decreases the overall performance too much.\n      // We should optimize the component first before we can enable this.\n      // else if (this.context.config && this.context.config.preservativeTextPropertyRendering) {\n      //   el.ref(id + '@' + fragment.counter)\n      // }\n    }\n    el.attr('data-offset', fragment.pos)\n    return el\n  }\n\n  _onDomMutations(mutations) {\n    // HACK: only detecting mutations that are coming from the native spell-correction\n    if (mutations.length === 2 && mutations[0].target === mutations[1].target) {\n      let textEl = mutations[0].target._wrapper\n      if (textEl) {\n        this._applyTextMutation(textEl, mutations[0].oldValue)\n        return\n      }\n    }\n    // in all other cases, revert the change by rerendering\n    this.rerender()\n  }\n\n  _applyTextMutation(textEl, oldText) {\n    // find the offset\n    let offset = _getCharPos(textEl, 0)\n    let newText = textEl.textContent\n    let changes = diff(oldText, newText, offset)\n\n    let editorSession = this.context.editorSession\n    let path = this.getPath()\n    editorSession.transaction(function(tx) {\n      changes.forEach(function(change) {\n        // NOTE: atomic text replace is not supported currently\n        if (change.type === 'replace') {\n          tx.update(path, { type: 'delete', start: change.start, end: change.end })\n          tx.update(path, { type: 'insert', start: change.start, text: change.text })\n        } else {\n          tx.update(path, change)\n        }\n      })\n    })\n  }\n\n  getPath() {\n    return this.props.path\n  }\n\n  getRealPath() {\n    return this.getDocument().getRealPath(this.props.path)\n  }\n\n  getText() {\n    return this.getDocument().get(this.getPath())\n  }\n\n  getDocument() {\n    return this.props.doc ||this.context.doc\n  }\n\n  getSurface() {\n    return this.props.surface || this.context.surface\n  }\n\n  // used by MarkersManager to abstract away how this is implemented\n  getSurfaceId() {\n    let surface = this.getSurface()\n    return surface ? surface.id : null\n  }\n\n  getContainerId() {\n    let surface = this.getSurface()\n    return surface ? surface.getContainerId() : null\n  }\n\n  isEditable() {\n    return this.getSurface().isEditable()\n  }\n\n  isReadonly() {\n    return this.getSurface().isReadonly()\n  }\n\n  getDOMCoordinate(charPos) {\n    return this._getDOMCoordinate(this.el, charPos)\n  }\n\n\n  _finishFragment(fragment, context, parentContext) {\n    context.attr('data-length', fragment.length)\n    parentContext.append(context)\n  }\n\n  _getDOMCoordinate(el, charPos) {\n    let l\n    let idx = 0\n    if (charPos === 0) {\n      return {\n        container: el.getNativeElement(),\n        offset: 0\n      }\n    }\n    for (let child = el.getFirstChild(); child; child = child.getNextSibling(), idx++) {\n      if (child.isTextNode()) {\n        l = child.textContent.length\n        if (l >= charPos) {\n          return {\n            container: child.getNativeElement(),\n            offset: charPos\n          }\n        } else {\n          charPos -= l;\n        }\n      } else if (child.isElementNode()) {\n        let length = child.getAttribute('data-length')\n        if (length) {\n          l = parseInt(length, 10)\n          if (l >= charPos) {\n            // special handling for InlineNodes\n            if (child.attr('data-inline')) {\n              let nextSibling = child.getNextSibling()\n              if (nextSibling && nextSibling.isTextNode()) {\n                return {\n                  container: nextSibling.getNativeElement(),\n                  offset: 0\n                }\n              } else {\n                return {\n                  container: el.getNativeElement(),\n                  offset: el.getChildIndex(child) + 1\n                }\n              }\n            }\n            return this._getDOMCoordinate(child, charPos, idx)\n          } else {\n            charPos -= l\n          }\n        } else {\n          console.error('FIXME: Can not map to DOM coordinates.')\n          return null\n        }\n      }\n    }\n  }\n\n}\n\nTextPropertyComponent.prototype._isTextPropertyComponent = true\n\n\n// Helpers for DOM selection mapping\n\nTextPropertyComponent.getCoordinate = function(root, node, offset) {\n  let context = _getPropertyContext(root, node, offset)\n  if (!context) {\n    return null\n  }\n  // in some cases we need to normalize the DOM coordinate\n  // before we can use it for retrieving charPos\n  // E.g. observed with #273\n  node = context.node\n  offset = context.offset\n  var charPos = _getCharPos(context.node, context.offset)\n  if (isNumber(charPos)) {\n    return new Coordinate(context.path, charPos)\n  }\n  return null\n}\n\nfunction _getPropertyContext(root, node, offset) {\n  let result = {\n    el: null,\n    path: null,\n    node: node,\n    offset: offset\n  }\n  while (node && node !== root) {\n    if (node.isElementNode()) {\n      let path = node.getAttribute('data-path')\n      if (path) {\n        result.el = node;\n        result.path = path.split('.')\n        return result;\n      }\n      if (node.getAttribute('data-inline')) {\n        // we need to normalize situations where the DOM coordinate\n        // is inside an inline node, which we have observed\n        // can actually happen.\n        result.node = node\n        if (offset > 0) {\n          result.offset = 1\n        }\n      }\n    }\n    node = node.getParent()\n  }\n  return null\n}\n\nfunction _getCharPos(node, offset) {\n  let charPos = offset\n  let parent, childIdx\n\n  /*\n    In the following implementation we are exploiting two facts\n    for optimization:\n    - an element with data-path is assumed to be the text property element\n    - an element with data-offset is assumed to be an annotation element\n\n    Particularly, the data-offset property is helpful to get the character position\n    in just one iteration.\n  */\n\n  parent = node.getParent()\n  if (node.isTextNode()) {\n    // TextNode is first child\n    if (node === parent.firstChild) {\n      // ... we can stop if parent is text property\n      let parentPath = parent.getAttribute('data-path')\n      let parentOffset = parent.getAttribute('data-offset')\n      if (parentPath) {\n        charPos = offset\n      }\n      // ... and we can stop if parent has an offset hint\n      else if (parentOffset) {\n        charPos = parseInt(parentOffset, 10) + offset\n      }\n      // ... otherwise we count the charPos by recursing up-tree\n      else {\n        charPos = _getCharPos(parent, 0) + offset\n      }\n    } else {\n      // the node has a predecessor so we can apply recurse using the child index\n      childIdx = parent.getChildIndex(node)\n      charPos = _getCharPos(parent, childIdx) + offset\n    }\n  } else if (node.isElementNode()) {\n    let pathStr = node.getAttribute('data-path')\n    let offsetStr = node.getAttribute('data-offset')\n    // if node is the element of a text property, then offset is a child index\n    // up to which we need to sum up all lengths\n    if (pathStr) {\n      charPos = _countCharacters(node, offset)\n    }\n    // similar if node is the element of an annotation, and we can use the\n    // element's offset\n    else if (offsetStr) {\n      childIdx = parent.getChildIndex(node)\n      charPos = parseInt(offsetStr, 10) + _countCharacters(node, offset)\n    }\n    // for other elements we need to count characters in the child tree\n    // adding the offset of this element which needs to be computed by recursing up-tree\n    else {\n      childIdx = parent.getChildIndex(node)\n      charPos = _getCharPos(parent, childIdx) + _countCharacters(node, offset)\n    }\n  } else {\n    // Unsupported case\n    return null\n  }\n  return charPos;\n}\n\nfunction _countCharacters(el, maxIdx) {\n  let charPos = 0\n  // inline elements have a length of 1\n  if (el.getAttribute('data-inline')) {\n    return maxIdx === 0 ? 0 : 1;\n  }\n  let l = el.getChildCount()\n  if (arguments.length === 1) {\n    maxIdx = l;\n  }\n  maxIdx = Math.min(l, maxIdx)\n  for (let i=0, child = el.getFirstChild(); i < maxIdx; child = child.getNextSibling(), i++) {\n    if (child.isTextNode()) {\n      charPos += child.getTextContent().length\n    } else if (child.isElementNode()) {\n      let length = child.getAttribute('data-length')\n      if (child.getAttribute('data-inline')) {\n        charPos += 1\n      } else if (length) {\n        charPos += parseInt(length, 10)\n      } else {\n        charPos += _countCharacters(child)\n      }\n    }\n  }\n  return charPos\n}\n\nexport default TextPropertyComponent\n","import NodeComponent from './NodeComponent'\nimport TextProperty from './TextPropertyComponent'\n\nclass TextBlockComponent extends NodeComponent {\n\n  render($$) {\n    let el = super.render($$)\n    el.addClass('sc-text-block')\n\n    let node = this.props.node\n    // NOTE: we are not using the native text direction support as it changes the contenteditable behavior in a weird way\n    // instead rtl text is supported on model level\n    if (node.direction) {\n      // el.attr('data-direction', node.direction)\n      el.attr('dir', node.direction)\n    }\n    el.append($$(TextProperty, {\n      path: node.getTextPath(),\n      direction: node.direction\n    }))\n    return el\n  }\n\n}\n\nexport default TextBlockComponent\n","import TextBlockComponent from '../../ui/TextBlockComponent'\n\nclass BlockquoteComponent extends TextBlockComponent {\n  render($$) {\n    let el = super.render.call(this, $$)\n    return el.addClass('sc-blockquote')\n  }\n}\n\nexport default BlockquoteComponent\n","/*\n * HTML converter for Blockquote.\n */\nexport default {\n\n  type: 'blockquote',\n  tagName: 'blockquote',\n\n  import: function(el, node, converter) {\n    node.content = converter.annotatedText(el, [node.id, 'content'])\n  },\n\n  export: function(node, el, converter) {\n    el.append(\n      converter.annotatedText([node.id, 'content'])\n    )\n  }\n\n}\n","import Blockquote from './Blockquote'\nimport BlockquoteComponent from './BlockquoteComponent'\nimport BlockquoteHTMLConverter from './BlockquoteHTMLConverter'\nimport BlockquoteXMLConverter from './BlockquoteXMLConverter'\n\nexport default {\n  name: 'blockquote',\n  configure: function(config) {\n    config.addNode(Blockquote);\n    config.addComponent(Blockquote.type, BlockquoteComponent)\n    config.addConverter('html', BlockquoteHTMLConverter)\n    config.addConverter('xml', BlockquoteXMLConverter)\n    config.addTextType({\n      name: 'blockquote',\n      data: {type: 'blockquote'}\n    })\n    config.addLabel('blockquote', {\n      en: 'Blockquote',\n      de: 'Blockzitat'\n    })\n  },\n  Blockquote: Blockquote,\n  BlockquoteComponent: BlockquoteComponent,\n  BlockquoteHTMLConverter: BlockquoteHTMLConverter\n}","import PropertyAnnotation from '../../model/PropertyAnnotation'\n\nclass Code extends PropertyAnnotation {}\n\nCode.type = 'code'\n\nexport default Code\n","/*\n * HTML converter for Code.\n */\nexport default {\n  type: 'code',\n  tagName: 'code'\n}\n","import Command from './Command'\nimport annotationHelpers from '../model/annotationHelpers'\n\n/**\n  A class for commands intended to be executed on the annotations.\n\n  See the example below to learn how to register an `AnnotationCommand`\n  for a strong annotation.\n\n  @class AnnotationCommand\n  @extends ui/Command\n\n  @example\n\n  ```js\n  import { AnnotationCommand } from 'substance'\n\n  config.addCommand('strong', AnnotationCommand, {nodeType: 'strong'})\n  // Disable, when cursor is collapsed\n  config.addCommand('strong', AnnotationCommand, {\n    nodeType: 'strong',\n    disableCollapsedCursor: true\n  })\n  ```\n*/\n\nclass AnnotationCommand extends Command {\n\n  constructor(...args) {\n    super(...args)\n\n    if (!this.config.nodeType) {\n      throw new Error(\"'nodeType' is required\")\n    }\n  }\n\n  /**\n    Get the type of an annotation.\n\n    @returns {String} The annotation's type.\n   */\n  getAnnotationType() {\n    return this.config.nodeType\n  }\n\n  /**\n    Get the annotation's data.\n\n    @returns {Object} The annotation's data.\n   */\n  getAnnotationData() {\n    return {}\n  }\n\n  /**\n    Checks if command couldn't be executed with current selection.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not command could be executed.\n   */\n  isDisabled(sel) {\n    // TODO: Container selections should be valid if the annotation type\n    // is a container annotation. Currently we only allow property selections.\n    if (!sel || sel.isNull() || !sel.isAttached() || sel.isCustomSelection()||\n        sel.isNodeSelection() || sel.isContainerSelection()) {\n      return true\n    }\n\n    if (this.config.disableCollapsedCursor && sel.isCollapsed()) {\n      return true\n    }\n\n    return false\n  }\n\n  /**\n    Checks if new annotations could be created.\n    There should be no annotation overlapping, selection must be not collapsed.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not annotation could be created.\n   */\n  // When there's no existing annotation overlapping, we create a new one.\n  canCreate(annos, sel) {\n    return (annos.length === 0 && !sel.isCollapsed())\n  }\n\n  /**\n    Checks if annotations could be fused.\n    There should be more than one annotation overlaped by current selection.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not annotations could be fused.\n   */\n  canFuse(annos, sel) {\n    // When more than one annotation overlaps with the current selection\n    return (annos.length >= 2 && !sel.isCollapsed())\n  }\n\n  /**\n    Checks if annotation could be deleted.\n    Cursor or selection must be inside an existing annotation.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not annotation could be deleted.\n   */\n  canDelete(annos, sel) {\n    // When the cursor or selection is inside an existing annotation\n    if (annos.length !== 1) return false\n    let annoSel = annos[0].getSelection()\n    return sel.isInsideOf(annoSel)\n  }\n\n  /**\n    Checks if annotation could be expanded.\n    There should be overlap with only a single annotation,\n    selection should be also outside of this annotation.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not annotation could be expanded.\n   */\n  canExpand(annos, sel) {\n    // When there's some overlap with only a single annotation we do an expand\n    if (annos.length !== 1) return false\n    let annoSel = annos[0].getSelection()\n    return sel.overlaps(annoSel) && !sel.isInsideOf(annoSel)\n  }\n\n  /**\n    Checks if annotation could be truncated.\n    There should be overlap with only a single annotation,\n    selection should also have boundary in common with this annotation.\n\n    @param {Array} annos annotations\n    @param {Object} sel selection\n\n    @returns {Boolean} Whether or not annotation could be truncated.\n   */\n  canTruncate(annos, sel) {\n    if (annos.length !== 1) return false\n    let annoSel = annos[0].getSelection()\n\n    return (sel.isLeftAlignedWith(annoSel) || sel.isRightAlignedWith(annoSel)) &&\n           !sel.contains(annoSel) &&\n           !sel.isCollapsed()\n  }\n\n  /**\n    Gets command state object.\n\n    @param {Object} state.selection the current selection\n    @returns {Object} info object with command details.\n  */\n  getCommandState(params) { // eslint-disable-line\n\n    let sel = this._getSelection(params)\n    // We can skip all checking if a disabled condition is met\n    // E.g. we don't allow toggling of property annotations when current\n    // selection is a container selection\n    if (this.isDisabled(sel)) {\n      return {\n        disabled: true\n      }\n    }\n    let annos = this._getAnnotationsForSelection(params)\n    let newState = {\n      disabled: false,\n      active: false,\n      mode: null\n    }\n    if (this.canCreate(annos, sel)) {\n      newState.mode = 'create'\n    } else if (this.canFuse(annos, sel)) {\n      newState.mode = 'fuse'\n    } else if (this.canTruncate(annos, sel)) {\n      newState.active = true\n      newState.mode = 'truncate'\n    } else if (this.canExpand(annos, sel)) {\n      newState.mode = 'expand'\n    } else if (this.canDelete(annos, sel)) {\n      newState.active = true\n      newState.mode = 'delete'\n    } else {\n      newState.disabled = true\n    }\n    return newState\n  }\n\n  /**\n    Execute command and trigger transformation.\n\n    @returns {Object} info object with execution details.\n  */\n  // Execute command and trigger transformations\n  execute(params) {\n    // Disabled the next line as I believe it is\n    // always passed via params already\n    // params.selection = this._getSelection(params)\n    let commandState = params.commandState\n\n    if (commandState.disabled) return false\n    switch(commandState.mode) {\n      case 'create':\n        return this.executeCreate(params)\n      case 'fuse':\n        return this.executeFuse(params)\n      case 'truncate':\n        return this.executeTruncate(params)\n      case 'expand':\n        return this.executeExpand(params)\n      case 'delete':\n        return this.executeDelete(params)\n      default:\n        console.warn('Command.execute(): unknown mode', commandState.mode)\n        return false\n    }\n  }\n\n  executeCreate(params) {\n    let annos = this._getAnnotationsForSelection(params)\n    this._checkPrecondition(params, annos, this.canCreate)\n    let editorSession = this._getEditorSession(params)\n    let annoData = this.getAnnotationData()\n    annoData.type = this.getAnnotationType()\n    let anno\n    editorSession.transaction((tx) => {\n      anno = tx.annotate(annoData)\n    })\n    return {\n      mode: 'create',\n      anno: anno\n    }\n  }\n\n  executeFuse(params) {\n    let annos = this._getAnnotationsForSelection(params);\n    this._checkPrecondition(params, annos, this.canFuse);\n    this._applyTransform(params, function(tx) {\n      annotationHelpers.fuseAnnotation(tx, annos)\n    })\n    return {\n      mode: 'fuse',\n      anno: annos[0]\n    }\n  }\n\n  executeTruncate(params) {\n    let annos = this._getAnnotationsForSelection(params)\n    let anno = annos[0]\n    this._checkPrecondition(params, annos, this.canTruncate)\n    this._applyTransform(params, function(tx) {\n      annotationHelpers.truncateAnnotation(tx, anno, params.selection)\n    })\n    return {\n      mode: 'truncate',\n      anno: anno\n    }\n  }\n\n  executeExpand(params) {\n    let annos = this._getAnnotationsForSelection(params)\n    let anno = annos[0]\n    this._checkPrecondition(params, annos, this.canExpand)\n    this._applyTransform(params, function(tx) {\n      annotationHelpers.expandAnnotation(tx, anno, params.selection)\n    })\n    return {\n      mode: 'expand',\n      anno: anno\n    }\n  }\n\n  executeDelete(params) {\n    let annos = this._getAnnotationsForSelection(params)\n    let anno = annos[0]\n    this._checkPrecondition(params, annos, this.canDelete)\n    this._applyTransform(params, function(tx) {\n      return tx.delete(anno.id)\n    })\n    return {\n      mode: 'delete',\n      annoId: anno.id\n    }\n  }\n\n  _checkPrecondition(params, annos, checker) {\n    let sel = this._getSelection(params)\n    if (!checker.call(this, annos, sel)) {\n      throw new Error(\"AnnotationCommand: can't execute command for selection \" + sel.toString())\n    }\n  }\n\n  _getAnnotationsForSelection(params) {\n    return params.selectionState.getAnnotationsForType(this.getAnnotationType())\n  }\n\n  /**\n    Apply an annotation transformation.\n\n    @returns {Object} transformed annotations.\n   */\n  _applyTransform(params, transformFn) {\n    let sel = this._getSelection(params)\n    if (sel.isNull()) return\n\n    let editorSession = this._getEditorSession(params)\n    let result // to store transform result\n    editorSession.setSelection(sel)\n    editorSession.transaction(function(tx) {\n      let out = transformFn(tx, params)\n      if (out) result = out.result\n    })\n    return result\n  }\n\n}\n\nexport default AnnotationCommand\n","import Tool from '../packages/tools/Tool'\n\n/**\n\n  Reuseable AnnotationTool component. Can be used without modification\n  for pure marker annotations that don't carry data. E.g. strong, emphasis,\n  superscript, etc.\n\n  @class\n  @component\n\n  @example\n\n  ```\n  config.addTool('strong', AnnotationTool, {\n    target: 'annotations'\n  })\n  ```\n*/\n\nclass AnnotationTool extends Tool {\n\n  render($$) {\n    let el = super.render.call(this, $$)\n    el.addClass('sm-annotation-tool')\n    return el\n  }\n\n  renderButton($$) {\n    let el = super.renderButton.call(this, $$)\n    el.append(this.renderMode($$))\n    return el\n  }\n\n  /*\n    Renders a small hint for the mode (expand, truncate, edit, etc)\n  */\n  renderMode($$) {\n    let mode = this.props.mode\n    let el = $$('div').addClass('se-mode')\n\n    let iconEl = this.context.iconProvider.renderIcon($$, mode)\n    if (iconEl) {\n      el.append(iconEl)\n    }\n    return el\n  }\n}\n\nexport default AnnotationTool\n","import Code from './Code'\nimport CodeHTMLConverter from './CodeHTMLConverter'\nimport CodeXMLConverter from './CodeXMLConverter'\nimport AnnotationComponent from '../../ui/AnnotationComponent'\nimport AnnotationCommand from '../../ui/AnnotationCommand'\nimport AnnotationTool from '../../ui/AnnotationTool'\n\nexport default {\n  name: 'code',\n  configure: function(config, options) {\n    config.addNode(Code);\n    config.addConverter('html', CodeHTMLConverter)\n    config.addConverter('xml', CodeXMLConverter)\n    config.addComponent('code', AnnotationComponent)\n    config.addCommand('code', AnnotationCommand, { nodeType: Code.type })\n    config.addTool('code', AnnotationTool, {toolGroup: options.toolGroup || 'annotations'})\n    config.addIcon('code', { 'fontawesome': 'fa-code' })\n    config.addLabel('code', {\n      en: 'Code',\n      de: 'Code'\n    })\n  },\n  Code: Code,\n  CodeHTMLConverter: CodeHTMLConverter\n}\n","import PropertyAnnotation from '../../model/PropertyAnnotation'\nimport Fragmenter from '../../model/Fragmenter'\n\nclass Emphasis extends PropertyAnnotation {}\n\nEmphasis.type = \"emphasis\"\n\n// hint for rendering in presence of overlapping annotations\nEmphasis.fragmentation = Fragmenter.ANY\n\nexport default Emphasis\n","/*\n * HTML converter for Blockquote.\n */\nexport default {\n\n  type: 'emphasis',\n  tagName: 'em',\n\n  matchElement: function(el) {\n    return el.is('em, i')\n  }\n\n}\n","import AnnotationComponent from '../../ui/AnnotationComponent'\n\nclass EmphaisComponent extends AnnotationComponent {\n  getTagName() {\n    return 'em'\n  }\n}\n\nexport default EmphaisComponent\n","import Emphasis from './Emphasis'\nimport EmphasisHTMLConverter from './EmphasisHTMLConverter'\nimport EmphasisXMLConverter from './EmphasisXMLConverter'\nimport AnnotationCommand from '../../ui/AnnotationCommand'\nimport EmphasisComponent from './EmphasisComponent'\nimport AnnotationTool from '../../ui/AnnotationTool'\nimport platform from '../../util/platform'\n\nexport default {\n  name: 'emphasis',\n  configure: function(config, {toolGroup, disableCollapsedCursor}) {\n    config.addNode(Emphasis)\n    config.addConverter('html', EmphasisHTMLConverter)\n    config.addConverter('xml', EmphasisXMLConverter)\n    config.addComponent('emphasis', EmphasisComponent)\n    config.addCommand('emphasis', AnnotationCommand, {\n      nodeType: Emphasis.type,\n      disableCollapsedCursor\n    })\n    config.addTool('emphasis', AnnotationTool, {\n      toolGroup: toolGroup || 'annotations'\n    })\n    config.addIcon('emphasis', { 'fontawesome': 'fa-italic' });\n    config.addLabel('emphasis', {\n      en: 'Emphasis',\n      de: 'Betonung'\n    })\n    if (platform.isMac) {\n      config.addKeyboardShortcut('cmd+i', { command: 'emphasis' })\n    } else {\n      config.addKeyboardShortcut('ctrl+i', { command: 'emphasis' })\n    }\n  },\n  Emphasis: Emphasis,\n  EmphasisHTMLConverter: EmphasisHTMLConverter\n}\n","import DocumentNode from '../../model/DocumentNode'\n\nclass ImageNode extends DocumentNode {\n\n  getImageFile() {\n    if (this.imageFile) {\n      return this.document.get(this.imageFile)\n    }\n  }\n\n  getUrl() {\n    let imageFile = this.getImageFile()\n    if (imageFile) {\n      return imageFile.getUrl()\n    }\n  }\n}\n\nImageNode.define({\n  type: 'image',\n  imageFile: { type: 'file' }\n})\n\nexport default ImageNode\n","import NodeComponent from '../../ui/NodeComponent'\n\nclass ImageComponent extends NodeComponent {\n\n  didMount() {\n    super.didMount.call(this)\n    this.context.editorSession.onRender('document', this._onDocumentChange, this)\n  }\n\n  dispose() {\n    super.dispose.call(this)\n    this.context.editorSession.off(this)\n  }\n\n  // TODO: verify if this check is correct and efficient\n  _onDocumentChange(change) {\n    if (change.isAffected(this.props.node.id) ||\n      change.isAffected(this.props.node.imageFile)) {\n      this.rerender()\n    }\n  }\n\n  render($$) {\n    let el = super.render($$)\n    el.addClass('sc-image')\n    el.append(\n      $$('img').attr({\n        src: this.props.node.getUrl(),\n      }).ref('image')\n    )\n    return el\n  }\n\n}\n\nexport default ImageComponent\n","/*\n * HTML converter for Paragraphs.\n */\nexport default {\n\n  type: 'image',\n  tagName: 'img',\n\n  import: function(el, node, converter) {\n    let imageFile = {\n        type: 'file',\n        fileType: 'image',\n        url: el.attr('src')\n    }\n    converter.createNode(imageFile)\n    node.imageFile = imageFile.id\n  },\n\n  export: function(node, el) {\n    let imageFile = node.document.get(node.imageFile)\n    el.attr('src', imageFile.getUrl())\n  }\n}\n","import Command from './Command'\n\nclass InsertNodeCommand extends Command {\n\n  getCommandState(params) {\n    let sel = params.selection\n    let surface = params.surface\n    let newState = {\n      disabled: true,\n      active: false\n    }\n    if (sel && !sel.isNull() && !sel.isCustomSelection() && sel.containerId) {\n      newState.disabled = false\n    }\n    return newState\n  }\n\n  execute(params, context) {\n    var state = params.commandState\n    if (state.disabled) return\n    let editorSession = this._getEditorSession(params, context)\n    editorSession.transaction((tx)=>{\n      let node = this.createNodeData(tx, params, context)\n      tx.insertBlockNode(node)\n    })\n  }\n\n  createNodeData(tx, args) { // eslint-disable-line\n    throw new Error('InsertNodeCommand.createNodeData() is abstract.')\n  }\n}\n\nexport default InsertNodeCommand\n","export default function(tx, file) {\n  // Create file node for the image\n  let imageFile = tx.create({\n    type: 'file',\n    fileType: 'image',\n    mimeType: file.type,\n    data: file\n  })\n  // Inserts image at current cursor pos\n  tx.insertBlockNode({\n    type: 'image',\n    imageFile: imageFile.id\n  })\n}","import InsertNodeCommand from '../../ui/InsertNodeCommand'\nimport insertImage from './insertImage'\n\nclass ImageCommand extends InsertNodeCommand {\n\n  /*\n    Inserts file and image nodes\n  */\n  execute(params) {\n    let editorSession = params.editorSession\n\n    editorSession.transaction((tx) => {\n      params.files.forEach((file) => {\n        insertImage(tx, file)\n      })\n    })\n  }\n\n}\n\nexport default ImageCommand\n","import Tool from '../tools/Tool'\n\nclass InsertImageTool extends Tool {\n\n  getClassNames() {\n    return 'sc-insert-image-tool'\n  }\n\n  renderButton($$) {\n    let button = super.renderButton($$)\n    let input = $$('input').attr('type', 'file').ref('input')\n      .on('change', this.onFileSelect)\n    return [button, input]\n  }\n\n  onClick() {\n    this.refs.input.click()\n  }\n\n  onFileSelect(e) {\n    let files = e.currentTarget.files\n    this.executeCommand({\n      files: Array.prototype.slice.call(files)\n    })\n  }\n\n}\n\nexport default InsertImageTool\n","class DragAndDropHandler {\n\n  match(dragState, context) { // eslint-disable-line\n    return false\n  }\n\n  drop(dragState, context) { // eslint-disable-line\n    // nothing\n  }\n\n  get _isDragAndDropHandler() {\n    return true\n  }\n\n}\n\nexport default DragAndDropHandler\n","import insertImage from './insertImage'\nimport DragAndDropHandler from '../../ui/DragAndDropHandler'\n\nclass DropImage extends DragAndDropHandler {\n  match(params) {\n    // Mime-type starts with 'image/'\n    let isImage = params.file.type.indexOf('image/') === 0\n    return params.type === 'file' && isImage\n  }\n\n  drop(tx, params) {\n    insertImage(tx, params.file)\n  }\n}\n\nexport default DropImage\n","import FileProxy from '../../model/FileProxy'\n\n/*\n  Generic implementation of a file proxy that works with\n  any file type\n*/\nclass DefaultFileProxy extends FileProxy {\n\n  constructor(fileNode, context) {\n    super(fileNode, context)\n\n    // used locally e.g. after drop or file dialog\n    this.file = fileNode.data\n    if (this.file) {\n      this._fileUrl = URL.createObjectURL(this.file)\n    }\n    this.url = fileNode.url\n  }\n\n  getUrl() {\n    // if we have fetched the url already, just serve it here\n    if (this.url) {\n      return this.url\n    }\n    // if we have a local file, use it's data URL\n    if (this._fileUrl) {\n      return this._fileUrl\n    }\n    // no URL available\n    return ''\n  }\n\n  sync() {\n    if (!this.url) {\n      console.info('Simulating file upload. Creating blob url instead.', this._fileUrl)\n      this.url = this._fileUrl\n    }\n    return Promise.resolve()\n  }\n}\n\nexport default DefaultFileProxy","import DefaultFileProxy from '../file/DefaultFileProxy'\n\nclass ImageProxy extends DefaultFileProxy {}\n\n// to detect that this class should take responsibility for a fileNode\nImageProxy.match = function(fileNode) {\n  return fileNode.fileType === 'image'\n}\n\nexport default ImageProxy","import ImageNode from './ImageNode'\nimport ImageComponent from './ImageComponent'\nimport ImageHTMLConverter from './ImageHTMLConverter'\nimport ImageXMLConverter from './ImageXMLConverter'\nimport InsertImageCommand from './InsertImageCommand'\nimport InsertImageTool from './InsertImageTool'\nimport DropImage from './DropImage'\nimport ImageFileProxy from './ImageFileProxy'\n\nexport default {\n  name: 'image',\n  configure: function(config) {\n    config.addNode(ImageNode);\n    config.addComponent('image', ImageComponent)\n    config.addConverter('html', ImageHTMLConverter)\n    config.addConverter('xml', ImageXMLConverter)\n    config.addCommand('insert-image', InsertImageCommand)\n    config.addTool('insert-image', InsertImageTool)\n    config.addIcon('insert-image', { 'fontawesome': 'fa-image' })\n    config.addLabel('image', {\n      en: 'Image',\n      de: 'Bild'\n    })\n    config.addLabel('insert-image', {\n      en: 'Insert image',\n      de: 'Bild einfgen'\n    })\n\n    config.addDragAndDrop(DropImage)\n    config.addFileProxy(ImageFileProxy)\n  },\n  ImageNode: ImageNode,\n  ImageComponent: ImageComponent,\n  ImageHTMLConverter: ImageHTMLConverter,\n  InsertImageCommand: InsertImageCommand,\n  InsertImageTool: InsertImageTool,\n  DropImage: DropImage\n}\n","import InlineNode from '../../model/InlineNode'\n\nclass InlineWrapper extends InlineNode {\n  getWrappedNode() {\n    return this.getDocument().get(this.wrappedNode)\n  }\n}\n\nInlineWrapper.define({\n  type: 'inline-wrapper',\n  wrappedNode: 'id'\n})\n\nexport default InlineWrapper\n","import InlineNodeComponent from '../../packages/inline-node/InlineNodeComponent'\n\n\nclass InlineWrapperComponent extends InlineNodeComponent {\n\n  getClassNames() {\n    // ATTENTION: ATM it is necessary to add .sc-inline-node\n    return 'sc-inline-wrapper sc-inline-node'\n  }\n\n  renderContent($$) {\n    let node = this.props.node\n    let doc = node.getDocument()\n\n    let wrappedNode = doc.get(node.wrappedNode)\n    let el;\n    if (wrappedNode) {\n      let componentRegistry = this.context.componentRegistry\n      let ComponentClass = componentRegistry.get(wrappedNode.type)\n      if (ComponentClass) {\n        el = $$(ComponentClass, {\n          disabled: this.isDisabled(),\n          node: wrappedNode,\n        }).ref('wrappedNode')\n      } else {\n        console.error('No component registered for node type' + wrappedNode.type)\n      }\n    } else {\n      console.error('Could not find wrapped node: ' + node.wrappedNode)\n    }\n    return el\n  }\n}\n\nexport default InlineWrapperComponent\n","export default {\n  type: 'inline-wrapper',\n\n  matchElement: function(el, converter) {\n    var blockConverter = converter._getConverterForElement(el, 'block')\n    return Boolean(blockConverter)\n  },\n\n  import: function(el, node, converter) {\n    // HACK monkey patching the context\n    node.id = converter.nextId('inline-wrapper')\n    var state = converter.state\n    state.popElementContext()\n    state.pushElementContext(state.getCurrentElementContext().tagName)\n    node.wrappedNode = converter.convertElement(el).id\n  },\n\n  export: function(node, el, converter) {\n    return converter.convertNode(node.wrappedNode)\n  }\n}\n","import InlineWrapper from './InlineWrapper'\nimport InlineWrapperComponent from './InlineWrapperComponent'\nimport InlineWrapperConverter from './InlineWrapperConverter'\n\n/*\n  This package adds a node to the model which can be used\n  to use a block-level node within an inline context.\n\n    The quick brown fox jumps over the lazy <fig><img src='./dog.jpg'/></fig>.\n\n  To register the converter you must provide `config.converters` which is\n  an array of names of the converters you want this to be registered in.\n*/\nexport default {\n  name: 'inline-wrapper',\n  configure: function(config, options) {\n    config.addNode(InlineWrapper)\n    config.addComponent(InlineWrapper.type, InlineWrapperComponent)\n    if (options.converters) {\n      options.converters.forEach(function(name) {\n        config.addConverter(name, InlineWrapperConverter)\n      })\n    }\n  },\n  InlineWrapper: InlineWrapper,\n  InlineWrapperComponent: InlineWrapperComponent,\n  InlineWrapperConverter: InlineWrapperConverter\n}\n","import TextBlock from '../../model/TextBlock'\n\nclass Paragraph extends TextBlock {}\n\nParagraph.type = \"paragraph\"\n\nexport default Paragraph\n","import TextBlockComponent from '../../ui/TextBlockComponent'\n\nclass ParagraphComponent extends TextBlockComponent {\n  render($$) {\n    let el = super.render($$)\n    return el.addClass('sc-paragraph')\n  }\n\n  getTagName() {\n    return 'p'\n  }\n}\n\nexport default ParagraphComponent\n","/*\n * HTML converter for Paragraph.\n */\nexport default {\n\n  type: 'paragraph',\n  tagName: 'p',\n\n  import: function(el, node, converter) {\n    node.content = converter.annotatedText(el, [node.id, 'content']);\n  },\n\n  export: function(node, el, converter) {\n    el.append(converter.annotatedText([node.id, 'content']));\n  }\n\n}\n","import Paragraph from './Paragraph'\nimport ParagraphComponent from './ParagraphComponent'\nimport ParagraphHTMLConverter from './ParagraphHTMLConverter'\nimport ParagraphXMLConverter from './ParagraphXMLConverter'\n\nexport default {\n  name: 'paragraph',\n  configure: function(config) {\n    config.addNode(Paragraph)\n    config.addComponent(Paragraph.type, ParagraphComponent)\n    config.addConverter('html', ParagraphHTMLConverter)\n    config.addConverter('xml', ParagraphXMLConverter)\n    config.addTextType({\n      name: 'paragraph',\n      data: {type: 'paragraph'}\n    })\n    config.addLabel('paragraph', {\n      en: 'Paragraph',\n      de: 'Paragraph'\n    })\n    config.addLabel('paragraph.content', {\n      en: 'Paragraph',\n      de: 'Paragraph'\n    })\n  },\n  Paragraph: Paragraph,\n  ParagraphComponent: ParagraphComponent,\n  ParagraphHTMLConverter: ParagraphHTMLConverter\n}\n","import Command from '../../ui/Command'\n\nclass SaveCommand extends Command {\n  constructor() {\n    super({ name: 'save' })\n  }\n\n  getCommandState(params) {\n    let dirty = params.editorSession.hasUnsavedChanges()\n    return {\n      disabled: !dirty,\n      active: false\n    }\n  }\n\n  execute(params) {\n    let editorSession = params.editorSession\n    editorSession.save()\n    return {\n      status: 'saving-process-started'\n    }\n  }\n}\n\nexport default SaveCommand\n","import SaveCommand from './SaveCommand'\nimport Tool from '../tools/Tool'\n\nexport default {\n  name: 'persistence',\n  configure: function(config) {\n    config.addCommand('save', SaveCommand)\n    config.addTool('save', Tool, {toolGroup: 'document'})\n    config.addIcon('save', { 'fontawesome': 'fa-save' })\n    config.addLabel('save', {\n      en: 'Save',\n      de: 'Speichern'\n    })\n  },\n  SaveCommand: SaveCommand\n}","import PropertyAnnotation from '../../model/PropertyAnnotation'\nimport Fragmenter from '../../model/Fragmenter'\n\nclass Strong extends PropertyAnnotation {}\n\nStrong.type = \"strong\"\n\n// a hint that makes in case of overlapping annotations that this\n// annotation gets fragmented more often\nStrong.fragmentation = Fragmenter.ANY\n\nexport default Strong\n","/*\n * HTML converter for Strong.\n */\nexport default {\n\n  type: \"strong\",\n  tagName: \"strong\",\n\n  matchElement: function(el) {\n    return el.is(\"strong, b\")\n  }\n\n}\n","import AnnotationComponent from '../../ui/AnnotationComponent'\n\nclass StrongComponent extends AnnotationComponent {\n  getTagName() {\n    return 'strong'\n  }\n}\n\nexport default StrongComponent\n","import Strong from './Strong'\nimport StrongHTMLConverter from './StrongHTMLConverter'\nimport StrongXMLConverter from './StrongXMLConverter'\nimport AnnotationCommand from '../../ui/AnnotationCommand'\nimport StrongComponent from './StrongComponent'\nimport AnnotationTool from '../../ui/AnnotationTool'\nimport platform from '../../util/platform'\n\nexport default {\n  name: 'strong',\n  configure: function(config, {toolGroup, disableCollapsedCursor}) {\n    config.addNode(Strong)\n    config.addConverter('html', StrongHTMLConverter)\n    config.addConverter('xml', StrongXMLConverter)\n    config.addComponent('strong', StrongComponent)\n\n    config.addCommand('strong', AnnotationCommand, {\n      nodeType: 'strong',\n      disableCollapsedCursor\n    })\n    config.addTool('strong', AnnotationTool, {\n      toolGroup: toolGroup || 'annotations'\n    })\n    config.addIcon('strong', { 'fontawesome': 'fa-bold' })\n    config.addLabel('strong', {\n      en: 'Strong',\n      de: 'Fett'\n    })\n    if (platform.isMac) {\n      config.addKeyboardShortcut('cmd+b', { command: 'strong' })\n    } else {\n      config.addKeyboardShortcut('ctrl+b', { command: 'strong' })\n    }\n  },\n  Strong: Strong,\n  StrongHTMLConverter: StrongHTMLConverter\n}\n","import PropertyAnnotation from '../../model/PropertyAnnotation'\nimport Fragmenter from '../../model/Fragmenter'\n\nclass Subscript extends PropertyAnnotation {}\n\nSubscript.type = 'subscript'\n\n// hint for rendering in presence of overlapping annotations\nSubscript.fragmentation = Fragmenter.ANY\n\nexport default Subscript\n","/*\n   HTML converter for Subscript.\n*/\nexport default {\n  type: 'subscript',\n  tagName: 'sub'\n}\n","import Subscript from './Subscript'\nimport SubscriptHTMLConverter from './SubscriptHTMLConverter'\nimport SubscriptXMLConverter from './SubscriptXMLConverter'\nimport AnnotationCommand from '../../ui/AnnotationCommand'\nimport AnnotationComponent from '../../ui/AnnotationComponent'\nimport AnnotationTool from '../../ui/AnnotationTool'\n\nexport default {\n  name: 'subscript',\n  configure: function(config, options) {\n    config.addNode(Subscript)\n    config.addConverter('html', SubscriptHTMLConverter)\n    config.addConverter('xml', SubscriptXMLConverter)\n    config.addComponent('subscript', AnnotationComponent)\n    config.addCommand('subscript', AnnotationCommand, { nodeType: 'subscript' })\n    config.addTool('subscript', AnnotationTool, {toolGroup: options.toolGroup || 'annotations'})\n    config.addIcon('subscript', { 'fontawesome': 'fa-subscript' })\n    config.addLabel('subscript', {\n      en: 'Subscript',\n      de: 'Tiefgestellt'\n    })\n  },\n  Subscript: Subscript,\n  SubscriptHTMLConverter: SubscriptHTMLConverter\n}\n","import PropertyAnnotation from '../../model/PropertyAnnotation'\nimport Fragmenter from '../../model/Fragmenter'\n\nclass Superscript extends PropertyAnnotation {}\n\nSuperscript.type = 'superscript'\n\n// hint for rendering in presence of overlapping annotations\nSuperscript.fragmentation = Fragmenter.ANY\n\nexport default Superscript\n","/*\n * HTML converter for Superscript.\n */\nexport default {\n  type: 'superscript',\n  tagName: 'sup'\n}\n","import Superscript from './Superscript'\nimport SuperscriptHTMLConverter from './SuperscriptHTMLConverter'\nimport SuperscriptXMLConverter from './SuperscriptXMLConverter'\nimport AnnotationCommand from '../../ui/AnnotationCommand'\nimport AnnotationComponent from '../../ui/AnnotationComponent'\nimport AnnotationTool from '../../ui/AnnotationTool'\n\nexport default {\n  name: 'superscript',\n  configure: function(config, options) {\n    config.addNode(Superscript)\n    config.addConverter('html', SuperscriptHTMLConverter)\n    config.addConverter('xml', SuperscriptXMLConverter)\n    config.addComponent('superscript', AnnotationComponent)\n    config.addCommand('superscript', AnnotationCommand, { nodeType: 'superscript' })\n    config.addTool('superscript', AnnotationTool, {toolGroup: options.toolGroup || 'annotations'})\n    config.addIcon('superscript', { 'fontawesome': 'fa-superscript' })\n    config.addLabel('superscript', {\n      en: 'Superscript',\n      de: 'Hochgestellt'\n    })\n  },\n  Superscript: Superscript,\n  SuperscriptHTMLConverter: SuperscriptHTMLConverter\n}\n","import TextBlock from '../../model/TextBlock'\n\nclass Heading extends TextBlock {}\n\nHeading.define({\n  type: \"heading\",\n  level: { type: \"number\", default: 1 }\n})\n\nexport default Heading\n","import TextBlockComponent from '../../ui/TextBlockComponent'\n\nclass HeadingComponent extends TextBlockComponent {\n  render($$) {\n    let el = super.render($$)\n    return el.addClass(\"sc-heading sm-level-\"+this.props.node.level)\n  }\n\n  getTagName() {\n    return 'h'+this.props.node.level\n  }\n}\n\nexport default HeadingComponent\n","/*\n * HTML converter for Paragraphs.\n */\nexport default {\n\n  type: \"heading\",\n\n  matchElement: function(el) {\n    return /^h\\d$/.exec(el.tagName)\n  },\n\n  import: function(el, node, converter) {\n    node.level = Number(el.tagName[1])\n    node.content = converter.annotatedText(el, [node.id, 'content'])\n  },\n\n  export: function(node, el, converter) {\n    el.tagName = 'h'+node.level\n    el.append(\n      converter.annotatedText([node.id, 'content'])\n    )\n  }\n\n}\n","import Heading from './Heading'\nimport HeadingComponent from './HeadingComponent'\nimport HeadingHTMLConverter from './HeadingHTMLConverter'\nimport HeadingXMLConverter from './HeadingXMLConverter'\n\nexport default {\n  name: 'heading',\n  configure: function(config) {\n    config.addNode(Heading)\n    config.addComponent(Heading.type, HeadingComponent)\n    config.addConverter('html', HeadingHTMLConverter)\n    config.addConverter('xml', HeadingXMLConverter)\n    config.addTextType({\n      name: 'heading1',\n      data: {type: 'heading', level: 1}\n    })\n    config.addTextType({\n      name: 'heading2',\n      data: {type: 'heading', level: 2}\n    })\n    config.addTextType({\n      name: 'heading3',\n      data: {type: 'heading', level: 3}\n    })\n    config.addLabel('heading1', {\n      en: 'Heading 1',\n      de: 'berschrift 1'\n    })\n    config.addLabel('heading2', {\n      en: 'Heading 2',\n      de: 'berschrift 2'\n    })\n    config.addLabel('heading3', {\n      en: 'Heading 3',\n      de: 'berschrift 3'\n    })\n  },\n  Heading: Heading,\n  HeadingComponent: HeadingComponent,\n  HeadingHTMLConverter: HeadingHTMLConverter\n}\n","let HeadingMacro = {\n\n  appliesTo: ['paragraph'],\n\n  execute: function(props) {\n    if (this.appliesTo.indexOf(props.node.type) === -1) {\n      return false\n    }\n    if (props.action !== 'type') {\n      return false\n    }\n    let match = /^#\\s/.exec(props.text)\n    if (match) {\n      let editorSession = props.editorSession\n      editorSession.postpone(() => {\n        editorSession.transaction(function(tx) {\n          tx.setSelection({\n            type: 'property',\n            path: props.path,\n            startOffset: 0,\n            endOffset: match[0].length\n          })\n          tx.deleteSelection()\n          tx.switchTextType({\n            type: 'heading',\n            level: 1\n          })\n        })\n      })\n      return true\n    }\n  }\n}\n\nexport default HeadingMacro","import forEach from '../../util/forEach'\nimport Tool from '../tools/Tool'\nimport keys from '../../util/keys'\n\n/**\n  SwitchTextTypeTool. Implements the SurfaceTool API.\n\n  @class\n  @component\n*/\nclass SwitchTextTypeTool extends Tool {\n  constructor(...args) {\n    super(...args)\n\n    // cursor for keyboard navigation\n    this._navIdx = -1\n  }\n\n  // UI Specific parts\n  // ----------------\n\n  didMount(...args) {\n    super.didMount(...args)\n\n    this._focusToggle()\n  }\n\n  render($$) {\n    let labelProvider = this.context.labelProvider\n    let textTypeName = 'No selection'\n\n    if (this.props.currentTextType) {\n      textTypeName = this.props.currentTextType.name\n    }\n    let el = $$('div').addClass('sc-switch-text-type')\n\n    let toggleButton = $$('button').ref('toggle')\n      .addClass('se-toggle')\n      .attr('title', labelProvider.getLabel('switch_text'))\n      .append(labelProvider.getLabel(textTypeName))\n      .on('click', this.toggleAvailableTextTypes)\n\n    if (this.props.disabled || !this.props.currentTextType) {\n      el.addClass('sm-disabled');\n      toggleButton.attr('tabindex', -1)\n    } else {\n      toggleButton.attr('tabindex', 1)\n    }\n\n    el.append(toggleButton)\n\n    if (this.state.open) {\n      el.addClass('sm-open')\n\n      // dropdown options\n      let options = $$('div').addClass(\"se-options\").ref('options')\n      forEach(this.props.textTypes, function(textType) {\n        let button = $$('button')\n            .addClass('se-option sm-'+textType.name)\n            .attr('data-type', textType.name)\n            .append(labelProvider.getLabel(textType.name))\n            .on('click', this.handleClick)\n        options.append(button)\n      }.bind(this))\n      el.append(options)\n      el.on('keydown', this.onKeydown)\n    }\n\n    return el\n  }\n\n  didUpdate() {\n    this._focusToggle()\n  }\n\n  _focusToggle() {\n    if (this.state.open) {\n      this.refs.toggle.focus()\n    }\n  }\n\n  executeCommand(textType) {\n    this.context.commandManager.executeCommand(this.getCommandName(), {\n      textType: textType\n    })\n  }\n\n  getTextCommands() {\n    let surface = this.getSurface()\n    if (!this.textCommands && surface) {\n      this.textCommands = surface.getTextCommands()\n    }\n    return this.textCommands || {}\n  }\n\n  handleClick(e) {\n    e.preventDefault()\n    // Modifies the tool's state so that state.open is undefined, which is nice\n    // because it means the dropdown will be closed automatically\n    this.executeCommand(e.currentTarget.dataset.type)\n  }\n\n  onKeydown(event) {\n    let handled = false\n    switch (event.keyCode) {\n      case keys.UP:\n        this._nav(-1)\n        handled = true\n        break\n      case keys.DOWN:\n        this._nav(1)\n        handled = true\n        break\n      case keys.ESCAPE:\n        this.toggleDropdown()\n        handled = true\n        break\n      default:\n        // nothing\n    }\n    if (handled) {\n      event.preventDefault()\n      event.stopPropagation()\n    }\n  }\n\n  toggleAvailableTextTypes(e) {\n    e.preventDefault()\n    e.stopPropagation()\n    if (this.props.disabled) return\n\n    // HACK: This only updates the view state state.open is not set on the tool itself\n    // That way the dropdown automatically closes when the selection changes\n    this.toggleDropdown()\n  }\n\n  toggleDropdown() {\n    // reset index for keyboard navigation\n    this._navIdx = -1\n    this.extendState({\n      open: !this.state.open\n    })\n  }\n\n  _nav(step) {\n    this._navIdx += step\n    this._navIdx = Math.max(0, this._navIdx)\n    this._navIdx = Math.min(this._getOptionsCount()-1, this._navIdx)\n\n    if (this._navIdx >= 0) {\n      let option = this.refs.options.children[this._navIdx]\n      option.focus()\n    }\n  }\n\n  _getOptionsCount() {\n    return this.refs.options.children.length\n  }\n\n}\n\nSwitchTextTypeTool.command = 'switch-text-type'\n\nexport default SwitchTextTypeTool\n","import Command from '../../ui/Command'\nimport { isMatch, find, clone } from 'lodash-es'\n\nclass SwitchTextTypeCommand extends Command {\n  // Available text types on the surface\n  getTextTypes(params) {\n    let surface = params.surface\n    if (surface && surface.isContainerEditor()) {\n      return surface.getTextTypes()\n    } else {\n      return []\n    }\n  }\n\n  getTextType(params) {\n    let textTypes = this.getTextTypes(params)\n    return find(textTypes, function(t) {\n      return t.name === params.textType\n    })\n  }\n\n  // Search which textType matches the current node\n  // E.g. {type: 'heading', level: 1} => heading1\n  getCurrentTextType(params, node) {\n    let textTypes = this.getTextTypes(params)\n    let currentTextType\n    textTypes.forEach(function(textType) {\n      let nodeProps = clone(textType.data)\n      delete nodeProps.type\n      if (isMatch(node, nodeProps) && node.type === textType.data.type) {\n        currentTextType = textType\n      }\n    })\n    return currentTextType\n  }\n\n  isDisabled({selection, surface}) {\n    if (!surface || !surface.isEnabled() || selection.isNull()) {\n      return true\n    }\n    // When command is configured to be disabled for collapsed cursor\n    if (selection && this.config.disableCollapsedCursor && selection.isCollapsed()) {\n      return true\n    }\n    return false\n  }\n\n  getCommandState(params) {\n    let doc = params.editorSession.getDocument()\n    let sel = params.selection\n\n    let node\n    let newState = {\n      disabled: false,\n      textTypes: this.getTextTypes(params)\n    }\n    // Set disabled when not a property selection\n    if (this.isDisabled(params)) {\n      newState.disabled = true\n    } else if (sel.isContainerSelection()) {\n      newState.disabled = true\n      newState.currentTextType = {name: 'container-selection'}\n    } else if (sel.isPropertySelection()) {\n      let path = sel.getPath()\n      node = doc.get(path[0])\n      // There are cases where path points to an already deleted node,\n      // so we need to guard node\n      if (node) {\n        if (node.isText() && node.isBlock()) {\n          newState.currentTextType = this.getCurrentTextType(params, node)\n        }\n        if (!newState.currentTextType) {\n          // We 'abuse' the currentTextType field by providing a property\n          // identifier that is translated into a name using an default label set.\n          // E.g. this.getLabel('figure.caption') -> Figure Caption\n          newState.currentTextType = {name: [node.type, path[1]].join('.')}\n          newState.disabled = true\n        }\n      }\n    } else if (sel.isNodeSelection()) {\n      node = doc.get(sel.getNodeId())\n      newState.currentTextType = {name: node.type}\n      newState.disabled = true\n    } else if (sel.isCustomSelection()) {\n      newState.currentTextType = {name: 'custom'}\n      newState.disabled = true\n    }\n    return newState\n  }\n\n  /**\n    Trigger a switchTextType transaction\n   */\n  execute(params) {\n    let textType = this.getTextType(params)\n    let nodeData = textType.data\n    let surface = params.surface\n    let editorSession = params.editorSession\n    if (!surface) {\n      console.warn('No focused surface. Stopping command execution.')\n      return\n    }\n    editorSession.transaction(function(tx) {\n      return tx.switchTextType(nodeData)\n    })\n    return nodeData\n  }\n}\n\nexport default SwitchTextTypeCommand\n","import TextBlock from '../../model/TextBlock'\n\nclass Codeblock extends TextBlock {}\n\nCodeblock.type = \"codeblock\"\n\nexport default Codeblock\n","import TextBlockComponent from '../../ui/TextBlockComponent'\n\nclass CodeblockComponent extends TextBlockComponent {\n  render($$) {\n    let el = super.render.call(this, $$)\n    return el.addClass('sc-codeblock')\n  }\n}\n\nexport default CodeblockComponent\n","/*\n * HTML converter for Codeblock.\n */\nexport default {\n\n  type: 'codeblock',\n  tagName: 'pre',\n\n  import: function(el, node, converter) {\n    let codeEl = el.find('code')\n    if (codeEl) {\n      node.content = converter.annotatedText(codeEl, [node.id, 'content'], { preserveWhitespace: true })\n    }\n  },\n\n  export: function(node, el, converter) {\n    let $$ = converter.$$;\n    el.append(\n      $$('code').append(\n        converter.annotatedText([node.id, 'content'])\n      )\n    )\n  }\n\n}\n","import Codeblock from './Codeblock'\nimport CodeblockComponent from './CodeblockComponent'\nimport CodeblockHTMLConverter from './CodeblockHTMLConverter'\nimport CodeblockXMLConverter from './CodeblockXMLConverter'\n\nexport default {\n  name: 'codeblock',\n  configure: function(config) {\n    config.addNode(Codeblock);\n    config.addComponent('codeblock', CodeblockComponent)\n    config.addConverter('html', CodeblockHTMLConverter)\n    config.addConverter('xml', CodeblockXMLConverter)\n    config.addTextType({\n      name: 'codeblock',\n      data: {type: 'codeblock'}\n    })\n    config.addLabel('codeblock', {\n      en: 'Codeblock',\n      de: 'Codeblock'\n    })\n  },\n  Codeblock: Codeblock,\n  CodeblockComponent: CodeblockComponent,\n  CodeblockHTMLConverter: CodeblockHTMLConverter\n}\n","import PropertyAnnotation from '../../model/PropertyAnnotation'\nimport Fragmenter from '../../model/Fragmenter'\n\nclass Link extends PropertyAnnotation {}\n\nLink.define({\n  type: \"link\",\n  title: { type: 'string', optional: true },\n  url: { type: 'string', 'default': ''}\n})\n\n// in presence of overlapping annotations will try to render this as one element\nLink.fragmentation = Fragmenter.SHOULD_NOT_SPLIT\n\nexport default Link\n","import AnnotationComponent from '../../ui/AnnotationComponent'\n\nclass LinkComponent extends AnnotationComponent {\n\n  didMount(...args) {\n    super.didMount(...args)\n\n    let node = this.props.node\n    this.context.editorSession.onRender('document', this.rerender, this, {\n      path: [node.id, 'url']\n    })\n  }\n\n  dispose(...args) {\n    super.dispose(...args)\n\n    this.context.editorSession.off(this)\n  }\n\n  render($$) { // eslint-disable-line\n    let el = super.render($$)\n\n    el.tagName = 'a'\n    el.attr('href', this.props.node.url)\n\n    let titleComps = [this.props.node.url]\n    if (this.props.node.title) {\n      titleComps.push(this.props.node.title)\n    }\n\n    return el.attr(\"title\", titleComps.join(' | '))\n  }\n\n}\n\nexport default LinkComponent\n","import AnnotationCommand from '../../ui/AnnotationCommand'\n\nclass LinkCommand extends AnnotationCommand {\n  canFuse() { return false }\n\n  /*\n    On link creation we collapse the selection, as this is a condition for the\n    EditLinkTool to be shown (see EditAnnotationCommand)\n  */\n  executeCreate(params) {\n    let result = super.executeCreate(params)\n    let editorSession = this._getEditorSession(params)\n    editorSession.transaction((tx) => {\n      tx.setSelection(tx.selection.collapse())\n    })\n    return result\n  }\n}\n\nexport default LinkCommand\n","/*\n * HTML converter for Paragraphs.\n */\nexport default {\n\n  type: \"link\",\n  tagName: 'a',\n\n  import: function(el, node) {\n    node.url = el.attr('href')\n    node.title = el.attr('title')\n  },\n\n  export: function(link, el) {\n    el.attr({\n      href: link.url,\n      title: link.title\n    })\n  }\n\n}\n","import Tool from '../tools/Tool'\n\n/**\n  Tool to edit an existing link.\n\n  Designed so that it can be used either in a toolbar, or within\n  an overlay on the Surface.\n\n  @component\n*/\nclass EditLinkTool extends Tool {\n\n  getUrlPath() {\n    let propPath = this.constructor.urlPropertyPath\n    return [this.props.node.id].concat(propPath)\n  }\n\n  _openLink() {\n    let doc = this.context.editorSession.getDocument()\n    window.open(doc.get(this.getUrlPath()), '_blank')\n  }\n\n  render($$) {\n    let Input = this.getComponent('input')\n    let Button = this.getComponent('button')\n    let el = $$('div').addClass('sc-edit-link-tool')\n\n    // GUARD: Return if tool is disabled\n    if (this.props.disabled) {\n      console.warn('Tried to render EditLinkTool while disabled.')\n      return el\n    }\n\n    let urlPath = this.getUrlPath()\n\n    el.append(\n      $$(Input, {\n        type: 'url',\n        path: urlPath,\n        placeholder: 'Paste or type a link url'\n      }),\n      $$(Button, {\n        icon: 'open-link',\n        style: this.props.style\n      }).attr('title', this.getLabel('open-link'))\n        .on('click', this._openLink),\n\n      $$(Button, {\n        icon: 'delete',\n        style: this.props.style\n      }).attr('title', this.getLabel('delete-link'))\n        .on('click', this.onDelete)\n    )\n    return el\n  }\n\n  onDelete(e) {\n    e.preventDefault();\n    let node = this.props.node\n    let sm = this.context.surfaceManager\n    let surface = sm.getFocusedSurface()\n    if (!surface) {\n      console.warn('No focused surface. Stopping command execution.')\n      return\n    }\n    let editorSession = this.context.editorSession\n    editorSession.transaction(function(tx, args) {\n      tx.delete(node.id)\n      return args\n    })\n  }\n}\n\nEditLinkTool.urlPropertyPath = ['url']\n\nexport default EditLinkTool\n","import Command from './Command'\n\n/**\n  Used for edit tools or property annotations (e.g. EditLinkTool)\n\n  @class\n*/\nclass EditAnnotationCommand extends Command {\n\n  constructor(...args) {\n    super(...args)\n\n    if (!this.config.nodeType) {\n      throw new Error(\"'nodeType' is required\")\n    }\n  }\n\n  /**\n    Get command state\n\n    @return {Object} object with `disabled` and `node` properties\n  */\n  getCommandState(params) {\n    let sel = this._getSelection(params)\n    let annos = this._getAnnotationsForSelection(params)\n    let newState = {\n      disabled: true,\n    }\n    if (annos.length === 1 && sel.isPropertySelection() && sel.isCollapsed()) {\n      newState.disabled = false\n      newState.node = annos[0]\n    }\n    return newState\n  }\n\n  execute(params) { } // eslint-disable-line\n\n  _getAnnotationsForSelection(params) {\n    return params.selectionState.getAnnotationsForType(this.config.nodeType)\n  }\n}\n\nexport default EditAnnotationCommand\n","import Link from './Link'\nimport LinkComponent from './LinkComponent'\nimport LinkCommand from './LinkCommand'\nimport LinkHTMLConverter from './LinkHTMLConverter'\nimport LinkXMLConverter from './LinkXMLConverter'\nimport AnnotationTool from '../../ui/AnnotationTool'\nimport EditLinkTool from './EditLinkTool'\nimport EditAnnotationCommand from '../../ui/EditAnnotationCommand'\nimport platform from '../../util/platform'\n\nexport default {\n  name: 'link',\n  configure: function(config, {\n    toolGroup,\n    editLinkToolGroup,\n    disableCollapsedCursor\n  }) {\n    config.addNode(Link)\n    config.addComponent('link', LinkComponent)\n    config.addConverter('html', LinkHTMLConverter)\n    config.addConverter('xml', LinkXMLConverter)\n    config.addCommand('link', LinkCommand, {\n      nodeType: 'link',\n      disableCollapsedCursor\n    })\n    config.addCommand('edit-link', EditAnnotationCommand, {\n      nodeType: 'link'\n    })\n    config.addTool('link', AnnotationTool, {\n      toolGroup: toolGroup || 'annotations'\n    })\n    config.addTool('edit-link', EditLinkTool, {\n      toolGroup: editLinkToolGroup || 'overlay'\n    })\n    config.addIcon('link', { 'fontawesome': 'fa-link'})\n    config.addIcon('open-link', { 'fontawesome': 'fa-external-link' })\n    config.addLabel('link', {\n      en: 'Link',\n      de: 'Link'\n    })\n    config.addLabel('open-link', {\n      en: 'Open Link',\n      de: 'Link ffnen'\n    })\n    config.addLabel('delete-link', {\n      en: 'Remove Link',\n      de: 'Link lschen'\n    })\n    if (platform.isMac) {\n      config.addKeyboardShortcut('cmd+k', { command: 'link' })\n    } else {\n      config.addKeyboardShortcut('ctrl+k', { command: 'link' })\n    }\n  },\n  Link: Link,\n  LinkComponent: LinkComponent,\n  LinkCommand: LinkCommand,\n  EditLinkTool: EditLinkTool,\n}\n","import Document from '../../model/Document'\n\nclass ProseArticle extends Document {\n  constructor(schema) {\n    super(schema)\n    this._initialize()\n  }\n\n  _initialize() {\n    this.create({\n      type: 'container',\n      id: 'body',\n      nodes: []\n    })\n  }\n\n}\n\nexport default ProseArticle\n","import BasePackage from '../base/BasePackage'\nimport ParagraphPackage from '../paragraph/ParagraphPackage'\nimport HeadingPackage from '../heading/HeadingPackage'\nimport CodeblockPackage from '../codeblock/CodeblockPackage'\nimport BlockquotePackage from '../blockquote/BlockquotePackage'\nimport LinkPackage from '../link/LinkPackage'\nimport EmphasisPackage from '../emphasis/EmphasisPackage'\nimport StrongPackage from '../strong/StrongPackage'\nimport CodePackage from '../code/CodePackage'\nimport SubscriptPackage from '../subscript/SubscriptPackage'\nimport SuperscriptPackage from '../superscript/SuperscriptPackage'\nimport ProseArticle from './ProseArticle'\n\nexport default {\n  name: 'prose-editor',\n  configure: function(config) {\n    config.defineSchema({\n      name: 'prose-article',\n      ArticleClass: ProseArticle,\n      defaultTextType: 'paragraph'\n    })\n    // SwitchTextType, Undo/Redo etc.\n    config.import(BasePackage)\n    config.import(ParagraphPackage)\n    config.import(HeadingPackage)\n    config.import(CodeblockPackage)\n    config.import(BlockquotePackage)\n    config.import(EmphasisPackage)\n    config.import(StrongPackage)\n    config.import(SubscriptPackage)\n    config.import(SuperscriptPackage)\n    config.import(CodePackage)\n    config.import(LinkPackage)\n  }\n}\n","import forEach from '../util/forEach'\n\n/*\n  Each time a resource node is created an automatic fetch is triggered. This\n  happens only once. We may want to adapt other fetching strategies as well.\n\n  TODO: Resources would be problematic in a realtime scenario atm, as all\n  collaborators would trigger a fetch of the resource, when it should only\n  be done by the user who created the resource explicitly\n*/\n\nclass ResourceManager {\n  constructor(editorSession, context) {\n    this.editorSession = editorSession\n    this.context = context\n    this.editorSession.onRender('document', this._onDocumentChange, this)\n  }\n\n  _onDocumentChange(change) {\n    let doc = this.editorSession.getDocument()\n    forEach(change.created, (node) => {\n      node = doc.get(node.id)\n      if (node.constructor.isResource) {\n        setTimeout(() => {\n          this.triggerFetch(node)\n        })\n      }\n    })\n  }\n\n  /*\n    Trigger fetch of a given resource\n  */\n  triggerFetch(resource) {\n    resource.fetchPayload(this.context, (err, props) => {\n      if (err) {\n        this._updateNode(resource.id, {\n          errorMessage: err.toString()\n        })\n      } else {\n        this._updateNode(resource.id, props)\n      }\n    })\n  }\n\n  /*\n      Fill in node payload\n  */\n  _updateNode(nodeId, props) {\n    let editorSession = this.editorSession\n    editorSession.transaction((tx) => {\n      forEach(props, (val, key) => {\n        tx.set([nodeId, key], val)\n      })\n    })\n  }\n}\n\n\nexport default ResourceManager\n","import Component from './Component'\nimport RenderingEngine from './RenderingEngine'\nimport ResourceManager from './ResourceManager'\n\n/**\n  Reusable abstract editor implementation.\n\n  @example\n\n  ```js\n  class SimpleWriter extends AbstractEditor {\n    render($$) {\n      // render editor\n    }\n  }\n  ```\n*/\nclass AbstractEditor extends Component {\n\n  constructor(...args) {\n    super(...args)\n    this._initialize(this.props)\n  }\n\n  _initialize(props) {\n    if (!props.editorSession) {\n      throw new Error('EditorSession instance required');\n    }\n    this.editorSession = props.editorSession\n    this.doc = this.editorSession.getDocument()\n\n    let configurator = this.editorSession.getConfigurator()\n    this.componentRegistry = configurator.getComponentRegistry()\n    this.toolGroups = configurator.getToolGroups()\n    this.labelProvider = configurator.getLabelProvider()\n    this.iconProvider = configurator.getIconProvider()\n\n    // legacy\n    this.surfaceManager = this.editorSession.surfaceManager\n    this.commandManager = this.editorSession.commandManager\n    this.dragManager = this.editorSession.dragManager\n    this.macroManager = this.editorSession.macroManager\n    this.converterRegistry = this.editorSession.converterRegistry\n    this.globalEventHandler = this.editorSession.globalEventHandler\n    this.editingBehavior = this.editorSession.editingBehavior\n    this.markersManager = this.editorSession.markersManager\n\n    this.resourceManager = new ResourceManager(this.editorSession, this.getChildContext())\n  }\n\n  /**\n    Define the editors render method here.\n  */\n  render(...args) {\n    return super.render(...args)\n  }\n\n  willReceiveProps(nextProps) {\n    let newSession = nextProps.editorSession\n    let shouldDispose = newSession && newSession !== this.editorSession\n    if (shouldDispose) {\n      this._dispose()\n      this._initialize(nextProps)\n    }\n  }\n\n  dispose() {\n    this._dispose()\n  }\n\n  _dispose() {\n    // Note: we need to clear everything, as the childContext\n    // changes which is immutable\n    this.empty()\n  }\n\n  getChildContext() {\n    return {\n      editor: this,\n      editorSession: this.editorSession,\n      doc: this.doc, // TODO: remove in favor of editorSession\n      componentRegistry: this.componentRegistry,\n      surfaceManager: this.surfaceManager,\n      commandManager: this.commandManager,\n      markersManager: this.markersManager,\n      converterRegistry: this.converterRegistry,\n      dragManager: this.dragManager,\n      editingBehavior: this.editingBehavior,\n      globalEventHandler: this.globalEventHandler,\n      iconProvider: this.iconProvider,\n      labelProvider: this.labelProvider,\n      resourceManager: this.resourceManager,\n      // ATTENTION: this is a map of tool target names to maps of tool names to tools\n      // i.e. a declarative way to map tools to tool groups\n      toolGroups: this.toolGroups,\n    }\n  }\n\n  getConfigurator() {\n    return this.editorSession.getConfigurator()\n  }\n\n  getEditorSession() {\n    return this.editorSession\n  }\n\n  getComponentRegistry() {\n    return this.componentRegistry\n  }\n\n  onSessionUnlocked() {\n    if (this.refs.blocker) {\n      this.refs.blocker.remove()\n    }\n  }\n}\n\nexport default AbstractEditor\n","class EditingBehavior {\n\n  constructor() {\n    this._merge = {}\n    this._mergeComponents = {}\n    this._break = {}\n  }\n\n  defineMerge(firstType, secondType, impl) {\n    if (!this._merge[firstType]) {\n      this._merge[firstType] = {}\n    }\n    this._merge[firstType][secondType] = impl\n    return this\n  }\n\n  canMerge(firstType, secondType) {\n    return (this._merge[firstType] && this._merge[firstType][secondType])\n  }\n\n  getMerger(firstType, secondType) {\n    return this._merge[firstType][secondType]\n  }\n\n  defineComponentMerge(nodeType, impl) {\n    this._mergeComponents[nodeType] = impl\n  }\n\n  canMergeComponents(nodeType) {\n    return this._mergeComponents[nodeType]\n  }\n\n  getComponentMerger(nodeType) {\n    return this._mergeComponents[nodeType]\n  }\n\n  defineBreak(nodeType, impl) {\n    this._break[nodeType] = impl\n    return this\n  }\n\n  canBreak(nodeType) {\n    return this._break[nodeType]\n  }\n\n  getBreaker(nodeType) {\n    return this._break[nodeType]\n  }\n\n}\n\nexport default EditingBehavior\n","import isArray from '../util/isArray'\nimport { extend } from 'lodash-es'\nimport forEach from '../util/forEach'\nimport Registry from '../util/Registry'\nimport Document from '../model/Document'\nimport HTMLImporter from '../model/HTMLImporter'\nimport DefaultDOMElement from './DefaultDOMElement'\nimport JSONConverter from '../model/JSONConverter'\nimport platform from '../util/platform'\n\n/**\n  Import HTML from clipboard. Used for inter-application copy'n'paste.\n\n  @internal\n*/\nclass ClipboardImporter extends HTMLImporter {\n\n  constructor(config) {\n    ClipboardImporter._addConverters(config)\n\n    if (!config.schema) {\n      throw new Error('Missing argument: config.schema is required.')\n    }\n\n    super(config)\n    // disabling warnings about default importers\n    this.IGNORE_DEFAULT_WARNINGS = true\n\n    extend(config, {\n      trimWhitespaces: true,\n      REMOVE_INNER_WS: true\n    })\n\n    // ATTENTION: this is only here so we can enfore windows conversion\n    // mode from within tests\n    this._isWindows = platform.isWindows\n\n    this._emptyDoc = this._createDocument(this.schema)\n  }\n\n  /**\n    Parses HTML and applies some sanitization/normalization.\n  */\n  importDocument(html) {\n    let body, el\n\n    if (this._isWindows) {\n      // Under windows we can exploit <!--StartFragment--> and <!--EndFragment-->\n      // to have an easier life\n      let match = /<!--StartFragment\\-->(.*)<!--EndFragment-->/.exec(html)\n      if (match) {\n        html = match[1]\n      }\n    }\n\n    // when copying from a substance editor we store JSON in a meta tag\n    // Then we parse the\n    // If the import fails e.g. because the schema is incompatible\n    // we fall back to plain HTML import\n    if (html.search(/meta name=.substance./)>=0) {\n      el = DefaultDOMElement.parseHTML(html)\n      let substanceData = el.find('meta[name=\"substance\"]')\n      if (substanceData) {\n        let jsonStr = decodeURIComponent(escape(window.atob(substanceData.attr('content'))))\n        try {\n          return this.importFromJSON(jsonStr)\n        } catch(err) {\n          console.error(err)\n        }\n      }\n    }\n\n    el = DefaultDOMElement.parseHTML(html)\n    if (isArray(el)) {\n      body = this._createElement('body')\n      body.append(el)\n    } else {\n      body = el.find('body')\n    }\n    if (!body) {\n      body = this._createElement('body')\n      body.append(el)\n    }\n    body = this._fixupGoogleDocsBody(body)\n    if (!body) {\n      console.warn('Invalid HTML.')\n      return null\n    }\n\n    this.reset()\n    this.convertBody(body)\n    let doc = this.generateDocument()\n    return doc\n  }\n\n  _fixupGoogleDocsBody(body) {\n    if (!body) return\n    // Google Docs has a strange convention to use a bold tag as\n    // container for the copied elements\n    // HACK: we exploit the fact that this element has an id with a\n    // specific format, e.g., id=\"docs-internal-guid-5bea85da-43dc-fb06-e327-00c1c6576cf7\"\n    let bold = body.find('b')\n    if (bold && /^docs-internal/.exec(bold.id)) {\n      return bold\n    }\n    return body\n  }\n\n  importFromJSON(jsonStr) {\n    let doc = this.createDocument()\n    let jsonData = JSON.parse(jsonStr)\n    let converter = new JSONConverter()\n    converter.importDocument(doc, jsonData)\n    return doc\n  }\n\n  /**\n    Converts all children of a given body element.\n\n    @param {String} body body element of given HTML document\n  */\n  convertBody(body) {\n    this.convertContainer(body.childNodes, Document.SNIPPET_ID)\n  }\n\n  _wrapInlineElementsIntoBlockElement(childIterator) {\n    let wrapper = this._createElement('p')\n    while(childIterator.hasNext()) {\n      let el = childIterator.next()\n      // if there is a block node we finish this wrapper\n      let blockTypeConverter = this._getConverterForElement(el, 'block')\n      if (blockTypeConverter) {\n        childIterator.back()\n        break\n      }\n      wrapper.append(el.clone())\n    }\n    // HACK: usually when we run into this case, then there is inline data only\n    // Instead of detecting this case up-front we just set the proper id\n    // and hope that all goes well.\n    // Note: when this is called a second time, the id will be overridden.\n    wrapper.attr('data-id', Document.TEXT_SNIPPET_ID)\n    let node = this.defaultConverter(wrapper, this)\n    if (node) {\n      if (!node.type) {\n        throw new Error('Contract: Html.defaultConverter() must return a node with type.')\n      }\n      this._createAndShow(node)\n    }\n    return node\n  }\n\n  /**\n    Creates substance document to paste.\n\n    @return {Document} the document instance\n  */\n  createDocument() {\n    return this._emptyDoc.createSnippet()\n  }\n\n  _getUnsupportedNodeConverter() {\n    // nothing\n  }\n\n}\n\nlet _converters = {\n  'catch-all-block': {\n    type: 'paragraph',\n    matchElement: function(el) { return el.is('div') },\n    import: function(el, node, converter) {\n      node.content = converter.annotatedText(el, [node.id, 'content'])\n    }\n  }\n}\n\nClipboardImporter._addConverters = function(config) {\n  if (config.converters) {\n    let registry = new Registry()\n    config.converters.forEach(function(conv, name) {\n      registry.add(name, conv)\n    });\n    forEach(_converters, function(converter, name) {\n      registry.add(name, converter)\n    });\n    config.converters = registry\n  }\n}\n\nexport default ClipboardImporter\n","import Document from '../model/Document'\nimport HtmlExporter from '../model/HTMLExporter'\nimport JSONConverter from '../model/JSONConverter'\n\n/**\n  Export HTML from clipboard. Used for inter-application copy'n'paste.\n\n  @internal\n*/\nclass ClipboardExporter extends HtmlExporter {\n\n  /**\n    Exports document in html format.\n\n    @param {Document} doc document to export\n\n    @return {String} html representation of given document\n  */\n  exportDocument(doc) {\n    this.state.doc = doc\n    let html\n    let elements = this.convertDocument(doc);\n    // special treatment for a text snippet\n    if (elements.length === 1 && elements[0].attr('data-id') === Document.TEXT_SNIPPET_ID) {\n      html = elements[0].innerHTML\n    } else {\n      html = elements.map(function(el) {\n        return el.outerHTML\n      }).join('')\n    }\n    let jsonConverter = new JSONConverter()\n    let jsonStr = JSON.stringify(jsonConverter.exportDocument(doc))\n    let meta = [\n      \"<meta name='substance' content='\",\n      btoa(unescape(encodeURIComponent(jsonStr))),\n      \"'>\"\n    ].join('')\n    return '<html><head>' +meta+ '</head><body>' + html + '</body></html>'\n  }\n\n  /**\n    Coverts document to set of DOM elements.\n\n    @param {Document} doc document to convert\n\n    @return {Array} array of DOM elements each represented single node\n  */\n  convertDocument(doc) {\n    let content = doc.get(Document.SNIPPET_ID)\n    if (!content) {\n      throw new Error('Illegal clipboard document: could not find container \"' + Document.SNIPPET_ID + '\"')\n    }\n    return this.convertContainer(content)\n  }\n\n}\n\nexport default ClipboardExporter\n","import platform from '../util/platform'\nimport substanceGlobals from '../util/substanceGlobals'\nimport copySelection from '../model/copySelection'\nimport documentHelpers from '../model/documentHelpers'\nimport ClipboardImporter from '../ui/ClipboardImporter'\nimport ClipboardExporter from '../ui/ClipboardExporter'\n\n/**\n  The Clipboard is a Component which should be rendered as a sibling component\n  of one or multiple Surfaces.\n\n  It uses the JSONImporter and JSONExporter for internal copy'n'pasting,\n  i.e., within one window or between two instances with the same DocumentSchema.\n\n  For inter-application copy'n'paste, the ClipboardImporter and ClipboardExporter is used.\n\n  @internal\n*/\nclass Clipboard {\n\n  constructor(editorSession, config) {\n    this.editorSession = editorSession\n    let doc = editorSession.getDocument()\n    let schema = doc.getSchema()\n\n    let htmlConverters = []\n    if (config.converterRegistry) {\n      htmlConverters = config.converterRegistry.get('html') || []\n    }\n    let _config = {\n      schema: schema,\n      DocumentClass: doc.constructor,\n      converters: htmlConverters\n    }\n\n    this.htmlImporter = new ClipboardImporter(_config)\n    this.htmlExporter = new ClipboardExporter(_config)\n  }\n\n  getEditorSession() {\n    return this.editorSession\n  }\n\n  /*\n    Called by to enable clipboard handling on a given root element.\n  */\n  attach(el) {\n    el.on('copy', this.onCopy, this)\n    el.on('cut', this.onCut, this)\n    el.on('paste', this.onPaste, this)\n  }\n\n  /*\n    Called by to disable clipboard handling.\n  */\n  detach(el) {\n    el.off(this)\n  }\n\n  /*\n    Called when copy event fired.\n\n    @param {Event} event\n  */\n  onCopy(event) {\n    // console.log(\"Clipboard.onCopy\", arguments);\n    let clipboardData = this._copy()\n    substanceGlobals._clipboardData = event.clipboardData\n\n    if (event.clipboardData && clipboardData.doc) {\n      event.preventDefault()\n      // store as plain text and html\n      event.clipboardData.setData('text/plain', clipboardData.text)\n      // WORKAROUND: under IE and Edge it is not permitted to set 'text/html'\n      if (!platform.isIE && !platform.isEdge) {\n        event.clipboardData.setData('text/html', clipboardData.html)\n      }\n    }\n  }\n\n  /*\n    Called when cut event fired.\n\n    @param {Event} event\n  */\n  onCut(event) {\n    // preventing default behavior to avoid that contenteditable\n    // destroys our DOM\n    event.preventDefault()\n    // console.log(\"Clipboard.onCut\", arguments);\n    this.onCopy(event)\n    let editorSession = this.getEditorSession()\n    editorSession.transaction((tx)=>{\n      tx.deleteSelection()\n    })\n  }\n\n  /*\n    Called when paste event fired.\n\n    @param {Event} event\n  */\n  // Works on Safari/Chrome/FF\n  onPaste(event) {\n    let clipboardData = event.clipboardData\n\n    let types = {}\n    for (let i = 0; i < clipboardData.types.length; i++) {\n      types[clipboardData.types[i]] = true\n    }\n    // console.log('onPaste(): received content types', types);\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    let plainText\n    let html\n    if (types['text/plain']) {\n      plainText = clipboardData.getData('text/plain')\n    }\n    if (types['text/html']) {\n      html = clipboardData.getData('text/html')\n    }\n\n    // HACK: to allow at least in app copy and paste under Edge (which blocks HTML)\n    // we guess by comparing the old and new plain text\n    if (platform.isEdge &&\n        substanceGlobals.clipboardData &&\n        substanceGlobals.clipboardData.text === plainText) {\n      html = substanceGlobals.clipboardData.html\n    } else {\n      substanceGlobals.clipboardData = {\n        text: plainText,\n        html: html\n      }\n    }\n\n    // console.log('onPaste(): html = ', html);\n\n    // WORKAROUND: FF does not provide HTML coming in from other applications\n    // so fall back to pasting plain text\n    if (platform.isFF && !html) {\n      this._pastePlainText(plainText)\n      return\n    }\n\n    // if we have content given as HTML we let the importer assess the quality first\n    // and fallback to plain text import if it's bad\n    if (html) {\n      if (Clipboard.NO_CATCH) {\n        this._pasteHtml(html, plainText)\n      } else {\n        try {\n          this._pasteHtml(html, plainText)\n        } catch (err) {\n          this._pastePlainText(plainText)\n        }\n      }\n    } else {\n      this._pastePlainText(plainText)\n    }\n  }\n\n  /*\n    Pastes a given plain text into the surface.\n\n    @param {String} plainText plain text\n  */\n  _pastePlainText(plainText) {\n    let editorSession = this.getEditorSession()\n    editorSession.transaction(function(tx) {\n      tx.paste(plainText)\n    })\n  }\n\n  /*\n    Copies selected content from document to clipboard.\n  */\n  _copy() {\n    let editorSession = this.getEditorSession()\n    let sel = editorSession.getSelection()\n    let doc = editorSession.getDocument()\n    let clipboardDoc = null\n    let clipboardText = \"\"\n    let clipboardHtml = \"\"\n    if (!sel.isCollapsed()) {\n      clipboardText = documentHelpers.getTextForSelection(doc, sel) || \"\"\n      clipboardDoc = copySelection(doc, sel)\n      clipboardHtml = this.htmlExporter.exportDocument(clipboardDoc)\n    }\n    return {\n      doc: clipboardDoc,\n      html: clipboardHtml,\n      text: clipboardText\n    }\n  }\n\n  /*\n    Pastes a given parsed html document into the surface.\n\n    @param {ui/DOMElement} docElement\n    @param {String} text plain text representation used as a fallback\n  */\n  _pasteHtml(html, text) {\n    let content = this.htmlImporter.importDocument(html)\n    this.paste(content, text)\n  }\n\n  /*\n    Takes a clipboard document and pastes it at the current\n    cursor position.\n\n    Used by PasteCommand\n  */\n  paste(doc, text) {\n    let content = doc || text\n    let editorSession = this.getEditorSession()\n    if (content) {\n      editorSession.transaction((tx) => {\n        tx.paste(content)\n      })\n    }\n  }\n\n}\n\nexport default Clipboard\n","import last from '../util/last'\nimport Coordinate from '../model/Coordinate'\nimport Range from '../model/Range'\nimport DefaultDOMElement from './DefaultDOMElement'\nimport TextPropertyComponent from './TextPropertyComponent'\nimport InlineNodeComponent from '../packages/inline-node/InlineNodeComponent'\nimport IsolatedNodeComponent from '../packages/isolated-node/IsolatedNodeComponent'\n\n/*\n * A class that maps DOM selections to model selections.\n *\n * There are some difficulties with mapping model selections:\n * 1. DOM selections can not model discontinuous selections.\n * 2. Not all positions reachable via ContentEditable can be mapped to model selections. For instance,\n *    there are extra positions before and after non-editable child elements.\n * 3. Some native cursor behaviors need to be overidden.\n *\n * @class DOMSelection\n * @constructor\n * @param {Element} rootElement\n */\nclass DOMSelection {\n\n  constructor(surface) {\n    this.surface = surface\n    this._wrange = window.document.createRange()\n  }\n\n  /**\n    Create a model selection by mapping the current DOM selection\n    to model coordinates.\n\n    @param {object} options\n      - `direction`: `left` or `right`; a hint for disambiguations, used by Surface during cursor navigation.\n    @returns {model/Selection}\n  */\n  getSelection(options) {\n    let range = this.mapDOMSelection(options)\n    let doc = this.surface.getDocument()\n    return doc.createSelection(range)\n  }\n\n  getSelectionForDOMRange(wrange) {\n    let range = this.mapDOMRange(wrange)\n    let doc = this.surface.getDocument()\n    return doc.createSelection(range)\n  }\n\n  // function _printStacktrace() {\n  //   try {\n  //     throw new Error();\n  //   } catch (err) {\n  //     console.log(err.stack);\n  //   }\n  // }\n\n  /**\n    Transfer a given model selection into the DOM.\n\n    @param {model/Selection} sel\n  */\n  setSelection(sel) {\n    // console.log('### DOMSelection: setting selection', sel.toString());\n    let wSel = window.getSelection()\n    if (sel.isNull() || sel.isCustomSelection()) {\n      this.clear()\n      return\n    }\n    let start, end\n    if (sel.isPropertySelection() || sel.isContainerSelection()) {\n      start = this._getDOMCoordinate(sel.start)\n      if (!start) {\n        console.warn('FIXME: selection seems to be invalid.')\n        this.clear()\n        return\n      }\n      if (sel.isCollapsed()) {\n        end = start\n      } else {\n        end = this._getDOMCoordinate(sel.end)\n        if (!end) {\n          console.warn('FIXME: selection seems to be invalid.')\n          this.clear()\n          return\n        }\n      }\n    } else if (sel.isNodeSelection()) {\n      let comp = this.surface.find('*[data-id=\"'+sel.getNodeId()+'\"]')\n      if (!comp) {\n        console.error('Could not find component with id', sel.getNodeId())\n        this.clear()\n        return\n      }\n      if (comp._isIsolatedNodeComponent) {\n        let coors = IsolatedNodeComponent.getDOMCoordinates(comp)\n        if (sel.isFull()) {\n          start = coors.start\n          end = coors.end\n        } else if (sel.isBefore()) {\n          start = end = coors.start\n        } else {\n          start = end = coors.end\n        }\n      } else {\n        let _nodeEl = comp.el\n        start = {\n          container: _nodeEl.getNativeElement(),\n          offset: 0\n        }\n        end = {\n          container: _nodeEl.getNativeElement(),\n          offset: _nodeEl.getChildCount()\n        }\n        if (sel.isBefore()) {\n          end = start\n        } else if (sel.isAfter()) {\n          start = end\n        }\n      }\n    }\n    // console.log('Model->DOMSelection: mapped to DOM coordinates', start.container, start.offset, end.container, end.offset, 'isReverse?', sel.isReverse());\n\n    // if there is a range then set replace the window selection accordingly\n    let wRange\n    if (wSel.rangeCount > 0) {\n      wRange = wSel.getRangeAt(0)\n    } else {\n      wRange = this._wrange\n    }\n    wSel.removeAllRanges()\n    if (sel.isCollapsed()) {\n      wRange.setStart(start.container, start.offset)\n      wRange.setEnd(start.container, start.offset)\n      wSel.addRange(wRange)\n    } else {\n      if (sel.isReverse()) {\n        // console.log('DOMSelection: rendering a reverse selection.');\n        let tmp = start\n        start = end\n        end = tmp\n        // HACK: using wRange setEnd does not work reliably\n        // so we set just the start anchor\n        // and then use window.Selection.extend()\n        // unfortunately we are not able to test this behavior as it needs\n        // triggering native keyboard events\n        wRange.setStart(start.container, start.offset)\n        wRange.setEnd(start.container, start.offset)\n        wSel.addRange(wRange)\n        wSel.extend(end.container, end.offset)\n      } else {\n        wRange.setStart(start.container, start.offset)\n        wRange.setEnd(end.container, end.offset)\n        wSel.addRange(wRange)\n      }\n    }\n    // console.log('Model->DOMSelection: mapped selection to DOM', 'anchorNode:', wSel.anchorNode, 'anchorOffset:', wSel.anchorOffset, 'focusNode:', wSel.focusNode, 'focusOffset:', wSel.focusOffset, 'collapsed:', wSel.collapsed);\n  }\n\n  _getDOMCoordinate(coor) {\n    let comp, domCoor = null\n    if (coor.isNodeCoordinate()) {\n      comp = this.surface.find('*[data-id=\"'+coor.getNodeId()+'\"]')\n      if (comp) {\n        if (comp._isIsolatedNodeComponent) {\n          domCoor = IsolatedNodeComponent.getDOMCoordinate(comp, coor)\n        } else {\n          let domOffset = 0\n          if (coor.offset > 0) {\n            domOffset = comp.getChildCount()\n          }\n          domCoor = {\n            container: comp.getNativeElement(),\n            offset: domOffset\n          }\n        }\n      }\n    } else {\n      // This is broken since we pulled the text-property register out of surface\n      // comp = this.surface._getTextPropertyComponent(coor.path)\n      // HACK: ... this hack replaces the original registry\n      // with a probably not so efficient lookup\n      comp = this.surface.find('.sc-text-property[data-path=\"'+coor.path.join('.')+'\"]')\n      if (comp) {\n        domCoor = comp.getDOMCoordinate(coor.offset)\n      }\n    }\n    return domCoor\n  }\n\n  /*\n    Map a DOM range to a model range.\n\n    @param {Range} range\n    @returns {model/Range}\n  */\n  mapDOMRange(wRange) {\n    return this._getRange(\n      DefaultDOMElement.wrapNativeElement(wRange.startContainer),\n      wRange.startOffset,\n      DefaultDOMElement.wrapNativeElement(wRange.endContainer),\n      wRange.endOffset)\n  }\n\n  /*\n    Maps the current DOM selection to a model range.\n\n    @param {object} [options]\n      - `direction`: `left` or `right`; a hint for disambiguations, used by Surface during cursor navigation.\n    @returns {model/Range}\n  */\n  mapDOMSelection(options) {\n    let range\n    let wSel = window.getSelection()\n    // Use this log whenever the mapping goes wrong to analyze what\n    // is actually being provided by the browser\n    // console.log('DOMSelection->Model: anchorNode:', wSel.anchorNode, 'anchorOffset:', wSel.anchorOffset, 'focusNode:', wSel.focusNode, 'focusOffset:', wSel.focusOffset, 'collapsed:', wSel.collapsed);\n    if (wSel.rangeCount === 0) {\n      return null;\n    }\n    let anchorNode = DefaultDOMElement.wrapNativeElement(wSel.anchorNode)\n    if (wSel.isCollapsed) {\n      let coor = this._getCoordinate(anchorNode, wSel.anchorOffset, options)\n      if (!coor) return null\n      // EXPERIMENTAL: when the cursor is in an IsolatedNode\n      // we return a selection for the whole node\n      if (coor.__inIsolatedBlockNode__) {\n        range = _createRangeForIsolatedBlockNode(coor.path[0], this.getContainerId())\n      } else if (coor.__inInlineNode__) {\n        // HACK: relying on hints left by InlineNodeComponent.getCoordinate()\n        range = _createRange(\n          new Coordinate(coor.path, coor.__startOffset__),\n          new Coordinate(coor.path, coor.__endOffset__),\n          false, this.getContainerId()\n        )\n      } else {\n        range = _createRange(coor, coor, false, this.getContainerId())\n      }\n    }\n    // HACK: special treatment for edge cases as addressed by #354.\n    // Sometimes anchorNode and focusNodes are the surface\n    else {\n      if (anchorNode.isElementNode() && anchorNode.is('.sc-surface')) {\n        range = this._getEnclosingRange(wSel.getRangeAt(0))\n      } else {\n        let focusNode = DefaultDOMElement.wrapNativeElement(wSel.focusNode)\n        range = this._getRange(anchorNode, wSel.anchorOffset, focusNode, wSel.focusOffset)\n      }\n    }\n    // console.log('DOMSelection->Model: extracted range', range.toString());\n    return range\n  }\n\n  /*\n    Clear the DOM selection.\n  */\n  clear() {\n    window.getSelection().removeAllRanges()\n  }\n\n  collapse(dir) {\n    let wSel = window.getSelection()\n    let wRange\n    if (wSel.rangeCount > 0) {\n      wRange = wSel.getRangeAt(0)\n      wRange.collapse(dir === 'left')\n      wSel.removeAllRanges()\n      wSel.addRange(wRange)\n    }\n  }\n\n  getContainerId() {\n    if (this.surface.isContainerEditor()) {\n      return this.surface.getContainerId();\n    } else {\n      return null;\n    }\n  }\n\n  /*\n    Extract a model range from given DOM elements.\n\n    @param {Node} anchorNode\n    @param {number} anchorOffset\n    @param {Node} focusNode\n    @param {number} focusOffset\n    @returns {model/Range}\n  */\n  _getRange(anchorNode, anchorOffset, focusNode, focusOffset) {\n    let start = this._getCoordinate(anchorNode, anchorOffset)\n    let end\n    if (anchorNode === focusNode && anchorOffset === focusOffset) {\n      end = start\n    } else {\n      end = this._getCoordinate(focusNode, focusOffset)\n    }\n    let isReverse = DefaultDOMElement.isReverse(anchorNode, anchorOffset, focusNode, focusOffset)\n    if (start && end) {\n      return _createRange(start, end, isReverse, this.getContainerId())\n    } else {\n      return null\n    }\n  }\n\n  /*\n    Map a DOM coordinate to a model coordinate.\n\n    @param {Node} node\n    @param {number} offset\n    @param {object} options\n    @param {object} [options]\n      - `direction`: `left` or `right`; a hint for disambiguation.\n    @returns {model/Coordinate}\n\n    @info\n\n    `options.direction` can be used to control the result when this function is called\n    after cursor navigation. The root problem is that we are using ContentEditable on\n    Container level (as opposed to TextProperty level). The native ContentEditable allows\n    cursor positions which do not make sense in the model sense.\n\n    For example,\n\n    ```\n    <div contenteditable=true>\n      <p data-path=\"p1.content\">foo</p>\n      <img>\n      <p data-path=\"p1.content\">bar</p>\n    </div>\n    ```\n    would allow to set the cursor directly before or after the image, which\n    we want to prevent, as it is not a valid insert position for text.\n    Instead, if we find the DOM selection in such a situation, then we map it to the\n    closest valid model address. And this depends on the direction of movement.\n    Moving `left` would provide the previous address, `right` would provide the next address.\n    The default direction is `right`.\n  */\n  _getCoordinate(nodeEl, offset, options) {\n    // Trying to apply the most common situation first\n    // and after that covering known edge cases\n    let surfaceEl = this.surface.el\n    let coor = null\n    if (!coor) {\n      coor = InlineNodeComponent.getCoordinate(nodeEl, offset)\n      if (coor) {\n        coor.__inInlineNode__ = true\n      }\n    }\n    // as this is the most often case, try to map the coordinate within\n    // a TextPropertyComponent\n    if (!coor) {\n      coor = TextPropertyComponent.getCoordinate(surfaceEl, nodeEl, offset)\n    }\n    // special treatment for isolated nodes\n    if (!coor) {\n      coor = IsolatedNodeComponent.getCoordinate(surfaceEl, nodeEl, offset)\n      if (coor) {\n        coor.__inIsolatedBlockNode__ = true\n      }\n    }\n    // finally fall back to a brute-force search\n    if (!coor) {\n      coor = this._searchForCoordinate(nodeEl, offset, options)\n    }\n    return coor\n  }\n\n  /*\n    Map a DOM coordinate to a model coordinate via a brute-force search\n    on all properties.\n\n    This is used as a backup strategy for delicate DOM selections.\n\n    @param {Node} node\n    @param {number} offset\n    @param {object} options\n    @param {'left'|'right'} options.direction\n    @returns {model/Coordinate} the coordinate\n  */\n  _searchForCoordinate(node, offset, options) {\n    // NOTE: assuming that most situations are covered by\n    // TextPropertyComponent.getCoordinate already, we are trying just to\n    // solve the remaining scenarios, in an opportunistic way\n    options = options || {}\n    options.direction = options.direction || 'right'\n    let dir = options.direction\n    if (node.isElementNode()) {\n      let childCount = node.getChildCount()\n      offset = Math.max(0, Math.min(childCount, offset))\n      let el = node.getChildAt(offset)\n      while (el) {\n        let textPropertyEl\n        if (dir === 'right') {\n          if (el.isElementNode()) {\n            if (el.getAttribute('data-path')) {\n              textPropertyEl = el\n            } else {\n              textPropertyEl = el.find('*[data-path]')\n            }\n            if (textPropertyEl) {\n              return new Coordinate(_getPath(textPropertyEl), 0)\n            }\n          }\n          el = el.getNextSibling()\n        } else {\n          if (el.isElementNode()) {\n            if (el.getAttribute('data-path')) {\n              textPropertyEl = el\n            } else {\n              let textPropertyEls = el.findAll('*[data-path]')\n              textPropertyEl = last(textPropertyEls)\n            }\n            if (textPropertyEl) {\n              let path = _getPath(textPropertyEl)\n              let doc = this.surface.getDocument()\n              let text = doc.get(path)\n              return new Coordinate(path, text.length)\n            }\n          }\n          el = el.getPreviousSibling()\n        }\n      }\n    }\n    // if we land here then we could not find an addressable element on this level.\n    // try to find it one level higher\n    if (node !== this.surface.el) {\n      let parent = node.getParent()\n      let nodeIdx = parent.getChildIndex(node)\n      if (dir === 'right') {\n        nodeIdx++\n      }\n      return this._searchForCoordinate(parent, nodeIdx, options)\n    }\n\n    return null\n  }\n\n  /*\n    Computes a model range that encloses all properties\n    spanned by a given DOM range.\n\n    This is used in edge cases, where DOM selection anchors are not\n    within TextProperties.\n\n    @param {Range} range\n    @returns {model/Range}\n  */\n  _getEnclosingRange(wRange) {\n    let frag = wRange.cloneContents()\n    let props = frag.querySelectorAll('*[data-path]')\n    if (props.length === 0) {\n      return null\n    } else {\n      let doc = this.surface.getDocument()\n      let first = props[0]\n      let last = props[props.length-1]\n      let startPath = _getPath(first)\n      let text\n      if (first === last) {\n        text = doc.get(startPath)\n        return new Range(\n          new Coordinate(startPath, 0),\n          new Coordinate(startPath, text.length),\n          false\n        )\n      } else {\n        let endPath = _getPath(last)\n        text = doc.get(endPath)\n        return new Range(\n          new Coordinate(startPath, 0),\n          new Coordinate(endPath, text.length),\n          false\n        )\n      }\n    }\n  }\n}\n\nfunction _getPath(el) {\n  if (!el._isDOMElement) {\n    el = DefaultDOMElement.wrapNativeElement(el)\n  }\n  if (el.isElementNode()) {\n    let pathStr = el.getAttribute('data-path')\n    return pathStr.split('.')\n  }\n  throw new Error(\"Can't get path from element:\" + el.outerHTML)\n}\n\n/*\n Helper for creating a model range correctly\n as for model/Range start should be before end.\n\n In contrast to that, DOM selections are described with anchor and focus coordinates,\n i.e. bearing the information of direction implicitly.\n To simplify the implementation we treat anchor and focus equally\n and only at the end exploit the fact deriving an isReverse flag\n and bringing start and end in the correct order.\n*/\nfunction _createRange(start, end, isReverse, containerId) {\n  if (isReverse) {\n    let tmp = start\n    start = end\n    end = tmp\n  }\n  return new Range(start, end, isReverse, containerId)\n}\n\nfunction _createRangeForIsolatedBlockNode(nodeId, containerId) {\n  return new Range(new Coordinate([nodeId], 0), new Coordinate([nodeId], 1), false, containerId)\n}\n\n\nexport default DOMSelection\n","import Component from './Component'\n\nclass UnsupportedNodeComponent extends Component {\n\n  render($$) {\n    return $$('pre')\n      .addClass('content-node unsupported')\n      .attr({\n        'data-id': this.props.node.id,\n        contentEditable: false\n      })\n      .append(\n        JSON.stringify(this.props.node.properties, null, 2)\n      )\n  }\n}\n\nexport default UnsupportedNodeComponent\n","import { isUndefined, startsWith } from 'lodash-es'\nimport createSurfaceId from '../../util/createSurfaceId'\nimport keys from '../../util/keys'\nimport platform from '../../util/platform'\nimport inBrowser from '../../util/inBrowser'\nimport Clipboard from '../../ui/Clipboard'\nimport Component from '../../ui/Component'\nimport DefaultDOMElement from '../../ui/DefaultDOMElement'\nimport DOMSelection from '../../ui/DOMSelection'\nimport UnsupportedNode from '../../ui/UnsupportedNodeComponent'\n\n/**\n   Abstract interface for editing components.\n   Dances with contenteditable, so you don't have to.\n*/\nclass Surface extends Component {\n\n  constructor(...args) {\n    super(...args)\n\n    // EditorSession instance must be provided either as a prop\n    // or via dependency-injection\n    this.editorSession = this.props.editorSession || this.context.editorSession\n    if (!this.editorSession) {\n      throw new Error('No EditorSession provided')\n    }\n    this.name = this.props.name\n    if (!this.name) {\n      throw new Error('Surface must have a name.')\n    }\n    if (this.name.indexOf('/') > -1) {\n      // because we are using '/' to deal with nested surfaces (isolated nodes)\n      throw new Error(\"Surface.name must not contain '/'\")\n    }\n    // this path is an identifier unique for this surface\n    // considering nesting in IsolatedNodes\n    this._surfaceId = createSurfaceId(this)\n\n    this.clipboard = new Clipboard(this.editorSession, {\n      converterRegistry: this.context.converterRegistry\n    })\n\n    this.domSelection = null\n    this.domObserver = null\n\n    // HACK: we need to listen to mousup on document\n    // to catch events outside the surface\n    if (inBrowser) {\n      this.documentEl = DefaultDOMElement.wrapNativeElement(window.document)\n    }\n\n    // set when editing is enabled\n    this.undoEnabled = true\n\n    // a registry for TextProperties which allows us to dispatch changes\n    this._textProperties = {}\n\n    this._state = {\n      // true if the document session's selection is addressing this surface\n      skipNextFocusEvent: false,\n      skipNextObservation: false\n    }\n  }\n\n  getChildContext() {\n    return {\n      surface: this,\n      surfaceParent: this,\n      doc: this.getDocument()\n    }\n  }\n\n  didMount() {\n    if (this.context.surfaceManager) {\n      this.context.surfaceManager.registerSurface(this)\n    }\n    if (!this.isReadonly() && inBrowser) {\n      this.domSelection = new DOMSelection(this)\n      // TODO: it seems that domObserver has become obsolete here, as some of this is done on TextPropertyComponent now\n      // this.domObserver = new window.MutationObserver(this.onDomMutations.bind(this));\n      // this.domObserver.observe(this.el.getNativeElement(), { subtree: true, characterData: true, characterDataOldValue: true });\n    }\n    this.editorSession.onRender('selection', this._onSelectionChanged, this)\n  }\n\n\n  dispose() {\n    this.editorSession.off(this)\n    this.domSelection = null\n    if (this.domObserver) {\n      this.domObserver.disconnect()\n    }\n    if (this.context.surfaceManager) {\n      this.context.surfaceManager.unregisterSurface(this)\n    }\n  }\n\n  didUpdate(oldProps, oldState) {\n    this._update(oldProps, oldState)\n  }\n\n  render($$) {\n    let tagName = this.props.tagName || 'div'\n    let el = $$(tagName)\n      .addClass('sc-surface')\n      .attr('tabindex', 2)\n\n    if (!this.isDisabled()) {\n      if (this.isEditable()) {\n        // Keyboard Events\n        el.on('keydown', this.onKeyDown)\n        // OSX specific handling of dead-keys\n        if (!platform.isIE) {\n          el.on('compositionstart', this.onCompositionStart)\n        }\n        // Note: TextEvent in Chrome/Webkit is the easiest for us\n        // as it contains the actual inserted string.\n        // Though, it is not available in FF and not working properly in IE\n        // where we fall back to a ContentEditable backed implementation.\n        if (inBrowser && window.TextEvent && !platform.isIE) {\n          el.on('textInput', this.onTextInput)\n        } else {\n          el.on('keypress', this.onTextInputShim)\n        }\n      }\n      if (!this.isReadonly()) {\n        // Mouse Events\n        el.on('mousedown', this.onMouseDown)\n        el.on('contextmenu', this.onContextMenu)\n        // disable drag'n'drop\n        // we will react on this to render a custom selection\n        el.on('focus', this.onNativeFocus)\n        el.on('blur', this.onNativeBlur)\n        // activate the clipboard\n        this.clipboard.attach(el)\n      }\n\n    }\n    return el\n  }\n\n  renderNode($$, node) {\n    let doc = this.getDocument()\n    let componentRegistry = this.getComponentRegistry()\n    let ComponentClass = componentRegistry.get(node.type)\n    if (!ComponentClass) {\n      console.error('Could not resolve a component for type: ' + node.type)\n      ComponentClass = UnsupportedNode\n    }\n    return $$(ComponentClass, {\n      doc: doc,\n      node: node\n    }).ref(node.id)\n  }\n\n  getComponentRegistry() {\n    return this.context.componentRegistry || this.props.componentRegistry\n  }\n\n  getName() {\n    return this.name\n  }\n\n  getId() {\n    return this._surfaceId\n  }\n\n  isDisabled() {\n    return this.props.disabled\n  }\n\n  isEditable() {\n    return (this.props.editing === \"full\" || this.props.editing === undefined)\n  }\n\n  isSelectable() {\n    return (this.props.editing === \"selection\" || this.props.editing === \"full\")\n  }\n\n  isReadonly() {\n    return this.props.editing === \"readonly\"\n  }\n\n  getElement() {\n    return this.el\n  }\n\n  getDocument() {\n    return this.editorSession.getDocument()\n  }\n\n  getEditorSession() {\n    return this.editorSession\n  }\n\n  isEnabled() {\n    return !this.state.disabled\n  }\n\n  isContainerEditor() {\n    return false\n  }\n\n  hasNativeSpellcheck() {\n    return this.props.spellcheck === 'native'\n  }\n\n  getContainerId() {\n    return null\n  }\n\n  blur() {\n    if (this.el) {\n      this.el.blur()\n    }\n  }\n\n  focus() {\n    if (this.isDisabled()) return\n    // console.log('Focusing surface %s explicitly with Surface.focus()', this.getId());\n    // NOTE: FF is causing problems with dynamically activated contenteditables\n    // and focusing\n    if (platform.isFF) {\n      this.domSelection.clear()\n      this.el.getNativeElement().blur()\n    }\n    this._focus()\n  }\n\n  rerenderDOMSelection() {\n    if (this.isDisabled()) return\n    if (inBrowser) {\n      // console.log('Surface.rerenderDOMSelection', this.__id__);\n      let sel = this.editorSession.getSelection()\n      if (sel.surfaceId === this.getId()) {\n        this.domSelection.setSelection(sel)\n        // this will let our parents know that the DOM selection is ready\n        this.send('domSelectionRendered')\n      }\n    }\n  }\n\n  getDomNodeForId(nodeId) {\n    return this.el.getNativeElement().querySelector('*[data-id=\"'+nodeId+'\"]')\n  }\n\n  /* Event handlers */\n\n  /*\n   * Handle document key down events.\n   */\n  onKeyDown(event) {\n    // console.log('Surface.onKeyDown()', this.getId());\n\n    // ignore fake IME events (emitted in IE and Chromium)\n    if ( event.which === 229 ) return\n\n    // core handlers for cursor movements and editor interactions\n    switch ( event.keyCode ) {\n      // Cursor movements\n      case keys.LEFT:\n      case keys.RIGHT:\n        return this._handleLeftOrRightArrowKey(event)\n      case keys.UP:\n      case keys.DOWN:\n        return this._handleUpOrDownArrowKey(event)\n      case keys.HOME:\n      case keys.END:\n        return this._handleHomeOrEndKey(event)\n      case keys.PAGEUP:\n      case keys.PAGEDOWN:\n        return this._handlePageUpOrDownKey(event)\n      // Input (together with text-input)\n      case keys.ENTER:\n        return this._handleEnterKey(event)\n      case keys.SPACE:\n        return this._handleSpaceKey(event)\n      case keys.BACKSPACE:\n      case keys.DELETE:\n        return this._handleDeleteKey(event)\n      default:\n        break\n    }\n\n    // keyboard shortcuts\n    this.editorSession.keyboardManager.onKeydown(event)\n  }\n\n  onTextInput(event) {\n    // console.log(\"TextInput:\", event);\n    event.preventDefault()\n    event.stopPropagation()\n    if (!event.data) return\n    // necessary for handling dead keys properly\n    this._state.skipNextObservation=true\n    let text = event.data\n    this.editorSession.transaction((tx) => {\n      tx.insertText(text)\n    }, { action: 'type' })\n  }\n\n  // Handling Dead-keys under OSX\n  onCompositionStart() {\n    // just tell DOM observer that we have everything under control\n    this._state.skipNextObservation = true\n  }\n\n  // TODO: do we need this anymore?\n  onTextInputShim(event) {\n    // Filter out non-character keys\n    if (\n      // Catches most keys that don't produce output (charCode === 0, thus no character)\n      event.which === 0 || event.charCode === 0 ||\n      // Opera 12 doesn't always adhere to that convention\n      event.keyCode === keys.TAB || event.keyCode === keys.ESCAPE ||\n      // prevent combinations with meta keys, but not alt-graph which is represented as ctrl+alt\n      Boolean(event.metaKey) || (Boolean(event.ctrlKey)^Boolean(event.altKey))\n    ) {\n      return\n    }\n    let character = String.fromCharCode(event.which)\n    this._state.skipNextObservation=true\n    if (!event.shiftKey) {\n      character = character.toLowerCase()\n    }\n    event.preventDefault()\n    event.stopPropagation()\n    if (character.length>0) {\n      this.editorSession.transaction((tx) => {\n        tx.insertText(character)\n      }, { action: 'type' })\n    }\n  }\n\n  // TODO: the whole mouse event based selection mechanism needs\n  // to be redesigned. The current implementation works basically\n  // though, there are some things which do not work well cross-browser\n  // particularly, double- and triple clicks.\n  // also it turned out to be problematic to react on mouse down instantly\n  onMouseDown(event) {\n    // console.log('mousedown on', this.getId());\n    // event.stopPropagation();\n\n    // TODO: what is this exactly?\n    if ( event.button !== 0 ) {\n      return\n    }\n\n    // special treatment for triple clicks\n    if (!(platform.isIE && platform.version<12) && event.detail >= 3) {\n      let sel = this.getSelection()\n      if (sel.isPropertySelection()) {\n        this._selectProperty(sel.path)\n        event.preventDefault()\n        event.stopPropagation()\n        return\n      } else if (sel.isContainerSelection()) {\n        this._selectProperty(sel.startPath)\n        event.preventDefault()\n        event.stopPropagation()\n        return\n      }\n    }\n    // 'mouseDown' is triggered before 'focus' so we tell\n    // our focus handler that we are already dealing with it\n    // The opposite situation, when the surface gets focused e.g. using keyboard\n    // then the handler needs to kick in and recover a persisted selection or such\n    this._state.skipNextFocusEvent = true\n\n    // UX-wise, the proper way is to apply the selection on mousedown, and if a drag is started (range selection)\n    // we could maybe map the selection during the drag, but finally once after mouse is released.\n    // TODO: this needs to be solved properly; be aware of browser incompatibilities\n    // HACK: not working in IE which then does not allow a range selection anymore\n    // if (!platform.isIE) {\n    //   // HACK: clearing the DOM selection, otherwise we have troubles with the old selection being in the way for the next selection\n    //   this.domSelection.clear();\n    //   setTimeout(function() {\n    //     if (this.domSelection) {\n    //       var sel = this.domSelection.getSelection();\n    //       this._setSelection(sel);\n    //     }\n    //   }.bind(this));\n    // }\n\n    // Bind mouseup to the whole document in case of dragging out of the surface\n    if (this.documentEl) {\n      // TODO: we should handle mouse up only if we started a drag (and the selection has really changed)\n      this.documentEl.on('mouseup', this.onMouseUp, this, { once: true })\n    }\n  }\n\n  // When a user right clicks the DOM selection is updated (in Chrome the nearest\n  // word gets selected). Like we do with the left mouse clicks we need to sync up\n  // our model selection.\n  onContextMenu() {\n    if (this.domSelection) {\n      let sel = this.domSelection.getSelection()\n      this._setSelection(sel)\n    }\n  }\n\n  onMouseUp() {\n    // console.log('mouseup on', this.getId());\n    // ATTENTION: this delay is necessary for cases the user clicks\n    // into an existing selection. In this case the window selection still\n    // holds the old value, and is set to the correct selection after this\n    // being called.\n    setTimeout(function() {\n      if (this.domSelection) {\n        let sel = this.domSelection.getSelection()\n        this._setSelection(sel)\n      }\n    }.bind(this))\n  }\n\n  onDomMutations(e) {\n    if (this._state.skipNextObservation) {\n      this._state.skipNextObservation = false\n      return\n    }\n    // Known use-cases:\n    //  - Context-menu:\n    //      - Delete\n    //      - Note: copy, cut, paste work just fine\n    //  - dragging selected text\n    //  - spell correction\n    console.info(\"We want to enable a DOM MutationObserver which catches all changes made by native interfaces (such as spell corrections, etc). Lookout for this message and try to set Surface.skipNextObservation=true when you know that you will mutate the DOM.\", e)\n  }\n\n  onNativeBlur() {\n    // console.log('Native blur on surface', this.getId());\n    let _state = this._state\n    _state.hasNativeFocus = false\n  }\n\n  onNativeFocus() {\n    // console.log('Native focus on surface', this.getId());\n    let _state = this._state\n    _state.hasNativeFocus = true\n  }\n\n  // Internal implementations\n\n  _update(oldProps, oldState) {\n    this._updateContentEditableState(oldState)\n  }\n\n  _updateContentEditableState(oldState) {\n    // ContentEditable management\n    // Note: to be able to isolate nodes, we need to control\n    // how contenteditable is used in a hieriarchy of surfaces.\n    if (oldState.mode === 'co-focused') {\n      this.el.off('mousedown', this._enableContentEditable, this)\n    }\n    if (!this.isEditable()) {\n      this.el.setAttribute('contenteditable', false)\n    } else if (this.state.mode !== oldState.mode) {\n      switch(this.state.mode) {\n        case 'co-focused':\n          this.el.setAttribute('contenteditable', false)\n          this.el.on('mousedown', this._enableContentEditable, this)\n          break\n        default:\n          this.el.setAttribute('contenteditable', true)\n      }\n    }\n  }\n\n  _enableContentEditable() {\n    this.el.setAttribute('contenteditable', true)\n  }\n\n  _onSelectionChanged(selection) {\n    let newMode = this._deriveModeFromSelection(selection)\n    if (this.state.mode !== newMode) {\n      this.extendState({\n        mode: newMode\n      })\n    }\n  }\n\n  // helper to manage surface mode which is derived from the current selection\n  _deriveModeFromSelection(sel) {\n    if (!sel) return null\n    let surfaceId = sel.surfaceId\n    let id = this.getId()\n    let mode\n    if (startsWith(surfaceId, id)) {\n      if (surfaceId.length === id.length) {\n        mode = 'focused'\n      } else {\n        mode = 'co-focused'\n      }\n    }\n    return mode\n  }\n\n  // surface parent is either a Surface or IsolatedNode\n  _getSurfaceParent() {\n    return this.context.surfaceParent\n  }\n\n  _focus() {\n    this._state.hasNativeFocus = true\n    // HACK: we must not focus explicitly in Chrome/Safari\n    // as otherwise we get a crazy auto-scroll\n    // Still, this is ok, as everything is working fine\n    // there, without that (as opposed to FF/Edge)\n    if (this.el && !platform.isWebkit) {\n      this._state.skipNextFocusEvent = true\n      // ATTENTION: unfortunately, focusing the contenteditable does lead to auto-scrolling\n      // in some browsers\n      this.el.focus();\n      this._state.skipNextFocusEvent = false\n    }\n  }\n\n  _handleLeftOrRightArrowKey(event) {\n    event.stopPropagation()\n\n    let direction = (event.keyCode === keys.LEFT) ? 'left' : 'right'\n    let selState = this.getEditorSession().getSelectionState()\n    let sel = selState.getSelection()\n    // Note: collapsing the selection and let ContentEditable still continue doing a cursor move\n    if (selState.isInlineNodeSelection() && !event.shiftKey) {\n      event.preventDefault()\n      this._setSelection(sel.collapse(direction))\n      return\n    }\n\n    // Note: we need this timeout so that CE updates the DOM selection first\n    // before we map it to the model\n    window.setTimeout(function() {\n      if (!this.isMounted()) return\n      let options = {\n        direction: (event.keyCode === keys.LEFT) ? 'left' : 'right'\n      }\n      this._updateModelSelection(options)\n    }.bind(this))\n  }\n\n  _handleUpOrDownArrowKey(event) {\n    event.stopPropagation()\n    // Note: we need this timeout so that CE updates the DOM selection first\n    // before we map it to the model\n    window.setTimeout(function() {\n      if (!this.isMounted()) return\n      let options = {\n        direction: (event.keyCode === keys.UP) ? 'left' : 'right'\n      }\n      this._updateModelSelection(options)\n    }.bind(this));\n  }\n\n  _handleHomeOrEndKey(event) {\n    event.stopPropagation()\n    // Note: we need this timeout so that CE updates the DOM selection first\n    // before we map it to the model\n    window.setTimeout(function() {\n      if (!this.isMounted()) return\n      let options = {\n        direction: (event.keyCode === keys.HOME) ? 'left' : 'right'\n      }\n      this._updateModelSelection(options)\n    }.bind(this))\n  }\n\n  _handlePageUpOrDownKey(event) {\n    event.stopPropagation()\n    // Note: we need this timeout so that CE updates the DOM selection first\n    // before we map it to the model\n    window.setTimeout(function() {\n      if (!this.isMounted()) return\n      let options = {\n        direction: (event.keyCode === keys.PAGEUP) ? 'left' : 'right'\n      }\n      this._updateModelSelection(options)\n    }.bind(this))\n  }\n\n  _handleSpaceKey(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    this.editorSession.transaction((tx) => {\n      tx.insertText(' ')\n    }, { action: 'type' })\n  }\n\n  _handleEnterKey(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    this.editorSession.transaction((tx) => {\n      tx.break()\n    }, { action: 'break' })\n  }\n\n  _handleDeleteKey(event) {\n    event.preventDefault()\n    event.stopPropagation()\n    let direction = (event.keyCode === keys.BACKSPACE) ? 'left' : 'right'\n    this.editorSession.transaction((tx) => {\n      tx.deleteCharacter(direction)\n    }, { action: 'delete' })\n  }\n\n  _hasNativeFocus() {\n    return Boolean(this._state.hasNativeFocus)\n  }\n\n  _setSelection(sel) {\n    // NOTE: setting the surfaceId is important so that it can be mapped to the DOM correctly\n    if (sel) {\n      sel.surfaceId = this.id\n    }\n    // Since we allow the surface be blurred natively when clicking\n    // on tools we now need to make sure that the element is focused natively\n    // when we set the selection\n    // This is actually only a problem on FF, other browsers set the focus implicitly\n    // when a new DOM selection is set.\n    // ATTENTION: in FF 44 this was causing troubles, making the CE unselectable\n    // until the next native blur.\n    // TODO: check if this is still necessary\n    if (!sel.isNull() && sel.surfaceId === this.id && platform.isFF) {\n      this._focus()\n    }\n    this.editorSession.setSelection(sel)\n  }\n\n  _updateModelSelection(options) {\n    let sel = this.domSelection.getSelection(options)\n    // console.log('Surface: updating model selection', sel.toString());\n    // NOTE: this will also lead to a rerendering of the selection\n    // via session.on('update')\n    this._setSelection(sel)\n  }\n\n  _selectProperty(path) {\n    let doc = this.getDocument()\n    let text = doc.get(path)\n    this._setSelection(doc.createSelection(path, 0, text.length))\n  }\n\n  // internal API for TextProperties to enable dispatching\n  // TextProperty components are registered via path\n  _registerTextProperty(textPropertyComponent) {\n    let path = textPropertyComponent.getPath()\n    this._textProperties[path] = textPropertyComponent\n  }\n\n  _unregisterTextProperty(textPropertyComponent) {\n    let path = textPropertyComponent.getPath()\n    if (this._textProperties[path] === textPropertyComponent) {\n      delete this._textProperties[path]\n    }\n  }\n\n  _getTextPropertyComponent(path) {\n    return this._textProperties[path]\n  }\n\n  // TODO: we could integrate container node rendering into this helper\n  // TODO: this helper should be available also in non surface context\n  _renderNode($$, nodeId) {\n    let doc = this.getDocument()\n    let node = doc.get(nodeId)\n    let componentRegistry = this.context.componentRegistry || this.props.componentRegistry\n    let ComponentClass = componentRegistry.get(node.type)\n    if (!ComponentClass) {\n      console.error('Could not resolve a component for type: ' + node.type)\n      ComponentClass = UnsupportedNode\n    }\n    return $$(ComponentClass, {\n      doc: doc,\n      node: node\n    })\n  }\n\n  // Experimental: used by DragManager\n  getSelectionFromEvent(event) {\n    if (this.domSelection) {\n      let domRange = Surface.getDOMRangeFromEvent(event)\n      let sel = this.domSelection.getSelectionForDOMRange(domRange)\n      sel.surfaceId = this.getId()\n      return sel;\n    }\n  }\n\n  setSelectionFromEvent(event) {\n    let sel = this.getSelectionFromEvent(event)\n    if (sel) {\n      this._state.skipNextFocusEvent = true\n      this._setSelection(sel)\n    } else {\n      console.error('Could not create a selection from event.');\n    }\n  }\n\n}\n\nObject.defineProperty(Surface.prototype, 'id', {\n  configurable: false,\n  get: function() {\n    return this._surfaceId\n  }\n})\n\nSurface.getDOMRangeFromEvent = function(evt) {\n  let range, x = evt.clientX, y = evt.clientY\n\n  // Try the simple IE way first\n  if (document.body.createTextRange) {\n    range = document.body.createTextRange()\n    range.moveToPoint(x, y)\n  }\n\n  else if (!isUndefined(document.createRange)) {\n    // Try Mozilla's rangeOffset and rangeParent properties,\n    // which are exactly what we want\n    if (!isUndefined(evt.rangeParent)) {\n      range = document.createRange()\n      range.setStart(evt.rangeParent, evt.rangeOffset)\n      range.collapse(true)\n    }\n    // Try the standards-based way next\n    else if (document.caretPositionFromPoint) {\n      let pos = document.caretPositionFromPoint(x, y)\n      range = document.createRange()\n      range.setStart(pos.offsetNode, pos.offset)\n      range.collapse(true)\n    }\n    // Next, the WebKit way\n    else if (document.caretRangeFromPoint) {\n      range = document.caretRangeFromPoint(x, y)\n    }\n  }\n\n  return range\n}\n\nSurface.prototype._isSurface = true\n\nexport default Surface\n","import isString from '../util/isString'\nimport uuid from '../util/uuid'\nimport keys from '../util/keys'\nimport platform from '../util/platform'\nimport EditingBehavior from '../model/EditingBehavior'\nimport Surface from '../packages/surface/Surface'\nimport RenderingEngine from './RenderingEngine'\nimport IsolatedNodeComponent from '../packages/isolated-node/IsolatedNodeComponent'\n\n/**\n  Represents a flow editor that manages a sequence of nodes in a container. Needs to be\n  instantiated inside a {@link ui/Controller} context.\n\n  @class ContainerEditor\n  @component\n  @extends ui/Surface\n\n  @prop {String} name unique editor name\n  @prop {String} containerId container id\n  @prop {Object[]} textTypes array of textType definition objects\n  @prop {ui/SurfaceCommand[]} commands array of command classes to be available\n\n  @example\n\n  Create a full-fledged `ContainerEditor` for the `body` container of a document.\n  Allow Strong and Emphasis annotations and to switch text types between paragraph\n  and heading at level 1.\n\n  ```js\n  $$(ContainerEditor, {\n    name: 'bodyEditor',\n    containerId: 'body',\n    textTypes: [\n      {name: 'paragraph', data: {type: 'paragraph'}},\n      {name: 'heading1',  data: {type: 'heading', level: 1}}\n    ],\n    commands: [StrongCommand, EmphasisCommand, SwitchTextTypeCommand],\n  })\n  ```\n*/\n\nclass ContainerEditor extends Surface {\n\n  constructor(parent, props, el) {\n    // default props derived from the given props\n    props.containerId = props.containerId || props.node.id\n    props.name = props.name || props.containerId || props.node.id\n\n    super(parent, props, el)\n\n    this.containerId = this.props.containerId\n    if (!isString(this.containerId)) {\n      throw new Error(\"Property 'containerId' is mandatory.\")\n    }\n    let doc = this.getDocument()\n    this.container = doc.get(this.containerId)\n    if (!this.container) {\n      throw new Error('Container with id ' + this.containerId + ' does not exist.')\n    }\n\n    this.textTypes = this.props.textTypes || []\n\n    this.editingBehavior = this.context.editingBehavior || new EditingBehavior()\n\n    this._deriveInternalState(this.props)\n  }\n\n  // Note: this component is self managed\n  shouldRerender(newProps) {\n    if (newProps.disabled !== this.props.disabled) return true\n    // TODO: we should still detect when the document has changed,\n    // see https://github.com/substance/substance/issues/543\n    return false\n  }\n\n  willReceiveProps(newProps) {\n    super.willReceiveProps.apply(this, arguments)\n    this._deriveInternalState(newProps)\n  }\n\n  didMount() {\n    super.didMount.apply(this, arguments)\n    let editorSession = this.getEditorSession()\n    editorSession.onUpdate('document', this._onContainerChanged, this, {\n      path: [this.getContainerId(), 'nodes']\n    })\n\n  }\n\n  dispose() {\n    super.dispose.apply(this, arguments)\n    let editorSession = this.getEditorSession()\n    editorSession.off(this)\n  }\n\n  render($$) {\n    let el = super.render($$)\n\n    let doc = this.getDocument()\n    let containerId = this.getContainerId()\n    let containerNode = doc.get(containerId)\n    if (!containerNode) {\n      console.warn('No container node found for ', containerId)\n    }\n    el.addClass('sc-container-editor container-node ' + containerId)\n      .attr(\"data-id\", containerId)\n\n    // native spellcheck\n    el.attr('spellcheck', this.props.spellcheck === 'native')\n\n    if (this.isEmpty()) {\n      el.append(\n        $$('a').attr('href', '#').append('Start writing').on('click', this.onCreateText)\n      )\n    } else {\n      containerNode.getNodes().forEach(function(node) {\n        el.append(this._renderNode($$, node))\n      }.bind(this))\n    }\n\n    if (!this.props.disabled) {\n      el.addClass('sm-enabled')\n      el.setAttribute('contenteditable', true)\n    }\n\n    return el\n  }\n\n\n  _renderNode($$, node) {\n    if (!node) throw new Error('Illegal argument')\n    if (node.isText()) {\n      return super.renderNode($$, node)\n    } else {\n      let componentRegistry = this.context.componentRegistry\n      let ComponentClass = componentRegistry.get(node.type)\n      if (ComponentClass.prototype._isCustomNodeComponent || ComponentClass.prototype._isIsolatedNodeComponent) {\n        return $$(ComponentClass, { node: node }).ref(node.id)\n      } else {\n        return $$(IsolatedNodeComponent, { node: node }).ref(node.id)\n      }\n    }\n  }\n\n  _deriveInternalState(props) {\n    let _state = this._state\n    if (!props.hasOwnProperty('enabled') || props.enabled) {\n      _state.enabled = true\n    } else {\n      _state.enabled = false\n    }\n  }\n\n  _handleUpOrDownArrowKey(event) {\n    event.stopPropagation()\n    let direction = (event.keyCode === keys.UP) ? 'left' : 'right'\n    let selState = this.getEditorSession().getSelectionState()\n    let sel = selState.getSelection()\n\n    // Note: this collapses the selection, just to let ContentEditable continue doing a cursor move\n    if (sel.isNodeSelection() && sel.isFull() && !event.shiftKey) {\n      this.domSelection.collapse(direction)\n    }\n    // HACK: ATM we have a cursor behavior in Chrome and FF when collapsing a selection\n    // e.g. have a selection from up-to-down and the press up, seems to move the focus\n    else if (!platform.isIE && !sel.isCollapsed() && !event.shiftKey) {\n      let doc = this.getDocument()\n      if (direction === 'left') {\n        this._setSelection({\n          startPath: sel.start.path,\n          startOffset: sel.start.offset\n        })\n      } else {\n        this._setSelection({\n          startPath: sel.end.path,\n          startOffset: end.offset\n        })\n      }\n    }\n    // Note: we need this timeout so that CE updates the DOM selection first\n    // before we try to map it to the model\n    window.setTimeout(function() {\n      if (!this.isMounted()) return\n      this._updateModelSelection({ direction: direction })\n    }.bind(this))\n  }\n\n  _handleLeftOrRightArrowKey(event) {\n    event.stopPropagation()\n    let direction = (event.keyCode === keys.LEFT) ? 'left' : 'right'\n    let selState = this.getEditorSession().getSelectionState()\n    let sel = selState.getSelection()\n    // Note: collapsing the selection and let ContentEditable still continue doing a cursor move\n    if (sel.isNodeSelection() && sel.isFull() && !event.shiftKey) {\n      event.preventDefault()\n      this._setSelection(sel.collapse(direction))\n      return\n    } else {\n      super._handleLeftOrRightArrowKey.call(this, event)\n    }\n  }\n\n  _handleEnterKey(event) {\n    let sel = this.getEditorSession().getSelection()\n    if (sel.isNodeSelection() && sel.isFull()) {\n      event.preventDefault()\n      event.stopPropagation()\n    } else {\n      super._handleEnterKey.apply(this, arguments)\n    }\n  }\n\n  // Used by Clipboard\n  isContainerEditor() {\n    return true\n  }\n\n  /**\n    Returns the containerId the editor is bound to\n  */\n  getContainerId() {\n    return this.containerId\n  }\n\n  // TODO: do we really need this in addition to getContainerId?\n  getContainer() {\n    return this.getDocument().get(this.getContainerId())\n  }\n\n  isEmpty() {\n    let containerNode = this.getContainer()\n    return (containerNode && containerNode.nodes.length === 0)\n  }\n\n  isEditable() {\n    return super.isEditable.call(this) && !this.isEmpty()\n  }\n\n  getTextTypes() {\n    return this.textTypes || []\n  }\n\n  // Used by SwitchTextTypeTool\n  // TODO: Filter by enabled commands for this Surface\n  // TODO: rethink\n  getTextCommands() {\n    var textCommands = {}\n    this.commandRegistry.each(function(cmd) {\n      if (cmd.constructor.textTypeName) {\n        textCommands[cmd.getName()] = cmd\n      }\n    });\n    return textCommands\n  }\n\n  // called by flow when subscribed resources have been updated\n  _onContainerChanged(change) {\n    let doc = this.getDocument()\n    // first update the container\n    let renderContext = RenderingEngine.createContext(this)\n    let $$ = renderContext.$$\n    let container = this.getContainer()\n    let path = container.getContentPath()\n    for (let i = 0; i < change.ops.length; i++) {\n      let op = change.ops[i]\n      if (op.type === \"update\" && op.path[0] === path[0]) {\n        let diff = op.diff\n        if (diff.type === \"insert\") {\n          let nodeId = diff.getValue()\n          let node = doc.get(nodeId)\n          let nodeEl\n          if (node) {\n            nodeEl = this._renderNode($$, node)\n          } else {\n            // node does not exist anymore\n            // so we insert a stub element, so that the number of child\n            // elements is consistent\n            nodeEl = $$('div')\n          }\n          this.insertAt(diff.getOffset(), nodeEl)\n        } else if (diff.type === \"delete\") {\n          this.removeAt(diff.getOffset())\n        }\n      }\n    }\n  }\n\n  // Create a first text element\n  // TODO: rethink\n  onCreateText(e) {\n    e.preventDefault()\n    let newSel\n    let containerId = this.props.containerId\n    this.context.editorSession.transaction((tx)=>{\n      let container = tx.get(containerId)\n      let textType = tx.getSchema().getDefaultTextType()\n      let node = tx.create({\n        id: uuid(textType),\n        type: textType,\n        content: ''\n      })\n      container.show(node.id)\n      tx.setSelection({\n        type: 'container',\n        startPath: [ node.id, 'content'],\n        startOffset: 0,\n        containerId: containerId,\n        surfaceId: this.id\n      })\n    })\n  }\n}\n\nContainerEditor.prototype._isContainerEditor = true\n// TODO: where do we use this?\nContainerEditor.isContainerEditor = true\n\nexport default ContainerEditor\n","import Toolbox from './Toolbox'\n\nclass Toolbar extends Toolbox {\n  render($$) {\n    let el = $$('div').addClass(this.getClassNames())\n    let activeToolGroups = this.state.activeToolGroups\n\n    activeToolGroups.forEach((toolGroup) => {\n      let toolGroupProps = Object.assign({}, toolGroup, {\n        toolStyle: this.getToolStyle(),\n        layout: 'horizontal',\n        showIcons: true\n      })\n      el.append(\n        $$(toolGroup.Class, toolGroupProps)\n      )\n    })\n    return el\n  }\n\n  getActiveToolGroupNames() {\n    return ['text', 'document', 'annotations', 'default']\n  }\n\n  getClassNames() {\n    return 'sc-toolbar';\n  }\n\n  getToolStyle() {\n    return 'outline'\n  }\n\n  showDisabled() {\n    return true\n  }\n}\n\nexport default Toolbar\n","import AbstractEditor from '../../ui/AbstractEditor'\nimport ContainerEditor from '../../ui/ContainerEditor'\nimport Toolbar from '../tools/Toolbar'\n\n/**\n  Configurable ProseEditor component\n\n  @example\n\n  ```js\n  const cfg = new Configurator()\n  cfg.import(ProseEditorPackage)\n  cfg.import(SuperscriptPackage)\n\n  window.onload = function() {\n    let doc = configurator.createArticle(fixture)\n    let editorSession = new EditorSession(doc, {\n      configurator: configurator\n    })\n    ProseEditor.mount({\n      editorSession: editorSession\n    }, document.body)\n  }\n  ```\n*/\nclass ProseEditor extends AbstractEditor {\n\n  render($$) {\n    let SplitPane = this.componentRegistry.get('split-pane')\n    let el = $$('div').addClass('sc-prose-editor')\n    let toolbar = this._renderToolbar($$)\n    let editor = this._renderEditor($$)\n\n    let ScrollPane = this.componentRegistry.get('scroll-pane')\n    let Overlay = this.componentRegistry.get('overlay')\n    let ContextMenu = this.componentRegistry.get('context-menu')\n    let DropTeaser = this.componentRegistry.get('drop-teaser')\n\n    let contentPanel = $$(ScrollPane, {\n      contextMenu: 'custom',\n      scrollbarPosition: 'right',\n      scrollbarType: this.props.scrollbarType,\n    }).append(\n      editor,\n      $$(Overlay),\n      $$(ContextMenu),\n      $$(DropTeaser)\n    ).ref('contentPanel')\n\n    el.append(\n      $$(SplitPane, {splitType: 'horizontal'}).append(\n        toolbar,\n        contentPanel\n      )\n    )\n    return el\n  }\n\n  _renderToolbar($$) {\n    let commandStates = this.commandManager.getCommandStates()\n    return $$(Toolbar, {\n      commandStates: commandStates\n    }).ref('toolbar')\n  }\n\n  _renderEditor($$) {\n    let configurator = this.getConfigurator()\n    return $$(ContainerEditor, {\n      disabled: this.props.disabled,\n      editorSession: this.editorSession,\n      node: this.doc.get('body'),\n      commands: configurator.getSurfaceCommandNames(),\n      textTypes: configurator.getTextTypes()\n    }).ref('body')\n  }\n}\n\nexport default ProseEditor\n","import Command from '../../ui/Command'\n\n/**\n  Reusable command implementation for inserting inline nodes.\n\n  @class InsertInlineNodeCommand\n\n  @example\n\n  Define a custom command.\n\n  ```\n  class AddXRefCommand extends InsertInlineNodeCommand {\n    createNodeData() {\n      return {\n        attributes: {'ref-type': 'bibr'},\n        targets: [],\n        label: '???',\n        type: 'xref'\n      }\n    }\n  }\n  ```\n\n  Register it in your app using the configurator.\n\n  ```\n  config.addCommand('add-xref', AddXRefCommand, {nodeType: 'xref'})\n  ```\n*/\n\nclass InsertInlineNodeCommand extends Command {\n  /**\n    @param config Takes a config object, provided on registration in configurator\n  */\n  constructor(...args) {\n    super(...args)\n\n    if (!this.config.nodeType) {\n      throw new Error('Every InlineInlineNodeCommand must have a nodeType')\n    }\n  }\n\n  /**\n    Determine command state for inline node insertion. Command is enabled\n    if selection is a property selection.\n  */\n  getCommandState(params) {\n    let sel = params.selection\n    let newState = {\n      disabled: !sel.isPropertySelection(),\n      active: false\n    }\n    return newState\n  }\n\n  /**\n    Insert new inline node at the current selection\n  */\n  execute(params) {\n    let state = this.getCommandState(params)\n    if (state.disabled) return\n    let editorSession = this._getEditorSession(params)\n    editorSession.transaction((tx)=>{\n      let nodeData = this.createNodeData(tx, params)\n      tx.insertInlineNode(nodeData)\n    })\n  }\n\n  createNodeData(tx) { // eslint-disable-line\n    return {\n      type: this.config.nodeType\n    }\n  }\n\n}\n\nexport default InsertInlineNodeCommand\n","import Command from '../../ui/Command'\n\nclass EditInlineNodeCommand extends Command {\n  constructor(...args) {\n    super(...args)\n    if (!this.config.nodeType) {\n      throw new Error('Every AnnotationCommand must have a nodeType')\n    }\n  }\n\n  getCommandState(params) {\n    let sel = params.selection\n    let newState = {\n      disabled: true,\n      active: false\n    }\n    let annos = this._getAnnotationsForSelection(params)\n    if (annos.length === 1 && annos[0].getSelection().equals(sel)) {\n      newState.disabled = false\n      newState.node = annos[0]\n    }\n    return newState\n  }\n\n  execute(params) { // eslint-disable-line\n\n  }\n\n  _getAnnotationsForSelection(params) {\n    return params.selectionState.getAnnotationsForType(this.config.nodeType)\n  }\n\n}\n\nexport default EditInlineNodeCommand\n","import Marker from '../../model/Marker'\n\nclass SpellError extends Marker {\n  invalidate() {\n    this.remove()\n  }\n}\n\nSpellError.define({\n  type: 'spell-error',\n  suggestions: { type: ['object'], default: [] }\n})\n\nSpellError.scope = 'document'\n\nexport default SpellError\n","import Tool from '../tools/Tool'\n\nclass CorrectionTool extends Tool {\n\n  render($$) {\n    let node = this.props.node\n    let Button = this.getComponent('button')\n    let el = $$('div').addClass('sc-correction-tool')\n\n    if (node && node.suggestions.length > 0) {\n      node.suggestions.forEach((s) => {\n        el.append(\n          $$(Button, {\n            label: s,\n            style: this.props.style\n          }).attr('title', this.getLabel('open-link'))\n            .attr('data-correction', s)\n            .on('click', this._applyCorrection.bind(this, s))\n        )\n      })\n    } else {\n      el.append(\n        $$(Button, {\n          label: 'No suggestions',\n          style: this.props.style,\n          disabled: true\n        })\n      )\n    }\n    return el\n  }\n\n  _applyCorrection(suggestion) {\n    let editorSession = this.context.editorSession\n    editorSession.transaction(function(tx) {\n      tx.insertText(tx, suggestion)\n    })\n  }\n}\n\nexport default CorrectionTool\n","import Command from '../../ui/Command'\n\n/**\n  Used for edit tools or property annotations (e.g. EditLinkTool)\n\n  @class\n*/\nclass SpellCheckCommand extends Command {\n\n  getCommandState(params) {\n\n    let state = params.selectionState\n    let markers = state.getMarkers()\n    if (markers.length === 0) return {\n      disabled: true\n    }\n    markers = markers.filter(function(m) {\n      return m.type === 'spell-error'\n    })\n\n    if (markers.length > 0) {\n      return {\n        disabled: false,\n        active: false,\n        mode: null,\n        node: markers[0]\n      }\n    } else {\n      return {\n        disabled: true\n      }\n    }\n  }\n}\n\nexport default SpellCheckCommand\n","import SpellError from './SpellError'\nimport CorrectionTool from './CorrectionTool'\nimport SpellCheckCommand from './SpellCheckCommand'\n\nexport default {\n  name: 'spell-check',\n  configure: function(config) {\n    config.addNode(SpellError)\n    config.addCommand('correction', SpellCheckCommand)\n    config.addTool('correction', CorrectionTool, {toolGroup: 'context-menu-primary'})\n  }\n}\n","/* globals Promise */\nimport forEach from './forEach'\n\nexport default function sendRequest(params, cb) {\n  return new Promise(function(resolve, reject) {\n    var method = (params.method || 'GET').toUpperCase()\n    var url = params.url\n    if (['GET', 'POST', 'PUT', 'DELETE'].indexOf(method) < 0) {\n      throw new Error(\"Parameter 'method' must be 'GET', 'POST', 'PUT', or 'DELETE'.\")\n    }\n    if (!url) {\n      throw new Error(\"Parameter 'url' is required.\")\n    }\n    var xmlhttp = new XMLHttpRequest()\n    xmlhttp.onreadystatechange = function() {\n      // TODO: we could support more states here to give feedback\n      // e.g. about progress of an upload\n      if (xmlhttp.readyState === 4) return _done()\n    }\n    xmlhttp.open(method, url, true)\n    if (params.header) {\n      forEach(params.header, function(val, key) {\n        xmlhttp.setRequestHeader(key, val)\n      })\n    }\n    if (params.data) {\n      xmlhttp.send(JSON.stringify(params.data))\n    } else {\n      xmlhttp.send()\n    }\n\n    function _done() {\n      if (xmlhttp.status === 200) {\n        var response = xmlhttp.responseText\n        if (cb) cb(null, response)\n        resolve(response)\n      } else {\n        console.error(xmlhttp.statusText)\n        if (cb) cb(xmlhttp.status)\n        reject(xmlhttp.statusText, xmlhttp.status)\n      }\n    }\n  })\n}\n\n","import { debounce } from 'lodash-es'\nimport isString from '../../util/isString'\nimport sendRequest from '../../util/sendRequest'\n\nconst DEFAULT_API_URL = 'http://localhost:4777/api/check'\n\nclass SpellCheckManager {\n\n  constructor(editorSession, options) {\n    options = options || {}\n    let wait = options.wait || 750\n\n    this.editorSession = editorSession\n    this.apiURL = options.apiURL || DEFAULT_API_URL\n\n    // TODO: MarkersManager is basically a TextPropertyManager\n    this.textPropertyManager = editorSession.markersManager\n    this.markersManager = editorSession.markersManager\n\n    this._schedule = {}\n    this._scheduleCheck = debounce(this._runSpellCheck.bind(this), wait)\n\n    editorSession.onFinalize('document', this._onDocumentChange, this)\n  }\n\n  dispose() {\n    this.editorSession.off(this)\n  }\n\n  check(path) {\n    this._runSpellCheck(String(path))\n  }\n\n  runGlobalCheck() {\n    let paths = Object.keys(this.textPropertyManager._textProperties)\n    paths.forEach((p) => {\n      this._runSpellCheck(p)\n    })\n  }\n\n  _onDocumentChange(change) {\n    // Note: instead of analyzing the model, we consider\n    // all existing TextPropertyComponents instead\n    // as this reflects what is presented to the user\n    const textProperties = this.textPropertyManager._textProperties\n    Object.keys(change.updated).forEach((pathStr) => {\n      if (textProperties[pathStr]) this._scheduleCheck(pathStr)\n    })\n  }\n\n  _runSpellCheck(pathStr) {\n    let path = pathStr.split(',')\n    let text = this.editorSession.getDocument().get(path)\n    let lang = this.editorSession.getLanguage()\n    if (!text || !isString(text)) return\n    sendRequest({\n      method: 'POST',\n      url: this.apiURL,\n      header: {\n        'Content-Type': 'application/json; charset=UTF-8',\n      },\n      data: {\n        text: text,\n        lang: lang\n      }\n    }).then((data) => {\n      data = JSON.parse(data)\n      this._addSpellErrors(path, data)\n    }).catch(function(err) {\n      console.error(err)\n    })\n  }\n\n  /*\n    Called when spell corrections have been returned.\n\n    Removes all spell errors on the given path first.\n  */\n  _addSpellErrors(path, data) {\n    let doc = this.editorSession.getDocument()\n    let oldErrors = doc.getIndex('markers').get(path).filter((marker) => {\n      return marker.type === 'spell-error'\n    })\n    let newErrors = data.map(function(m) {\n      return {\n        type: 'spell-error',\n        path: path,\n        startOffset: m.start,\n        endOffset: m.end,\n        suggestions: m.suggestions\n      }\n    })\n    this.editorSession.transaction((tx) => {\n      // remove the old markers first\n      oldErrors.forEach((spellError) => {\n        tx.delete(spellError.id)\n      })\n      // then add the new ones\n      newErrors.forEach((spellError) => {\n        tx.create(spellError)\n      })\n    }, { history: false })\n  }\n}\n\nexport default SpellCheckManager\n","import Container from '../../model/Container'\n\nclass ListNode extends Container {\n  getContentPath() {\n    return [this.id, 'items']\n  }\n  getContent() {\n    return this.items\n  }\n  getItems() {\n    return this.getNodes()\n  }\n}\n\nListNode.type = 'list'\n\nListNode.define({\n  ordered: { type: 'boolean', default: false },\n  // list-items are owned by the list\n  items: { type: [ 'array', 'id' ], default: [], strong: true }\n})\n\n// HACK: we don't want the inherited property 'nodes'\ndelete ListNode.schema.nodes\n\nexport default ListNode\n","import TextNode from '../../model/TextNode'\n\nclass ListItem extends TextNode {}\n\nListItem.type = 'list-item'\n\nexport default ListItem\n","import TextPropertyComponent from '../../ui/TextPropertyComponent'\n\nclass ListItemComponent extends TextPropertyComponent {\n\n  getRealPath() {\n    return this.props.node.getTextPath()\n  }\n}\n\nexport default ListItemComponent","import Component from '../../ui/Component'\nimport ListItemComponent from './ListItemComponent'\n\nclass ListComponent extends Component {\n\n  constructor(...args) {\n    super(...args)\n  }\n\n  render($$) {\n    let node = this.props.node\n    let el = $$(this._getTagName()).addClass('sc-list').attr('data-id', node.id)\n    node.getItems().forEach(function(item, idx) {\n      el.append(\n        $$(ListItemComponent, {\n          path: [node.id, 'items', idx, 'content'],\n          node: item,\n          tagName: 'li'\n        }).ref(node.id)\n      )\n    })\n    return el\n  }\n\n  didMount() {\n    this.context.editorSession.onRender('document', this.rerender, this, {\n      path: [this.props.node.id, 'items']\n    })\n  }\n\n  _getTagName() {\n    return this.props.node.ordered ? 'ol' : 'ul'\n  }\n\n}\n\n// we need this ATM to prevent this being wrapped into an isolated node (see ContainerEditor._renderNode())\nListComponent.prototype._isCustomNodeComponent = true\n\nexport default ListComponent\n","/*\n * HTML converter for Lists.\n */\nexport default {\n\n  type: \"list\",\n\n  matchElement: function(el) {\n    return el.is('ul') || el.is('ol')\n  },\n\n  import: function(el, node, converter) {\n    if (el.is('ol')) {\n      node.ordered = true\n    }\n    let itemEls = el.findAll('li')\n    itemEls.forEach(function(li) {\n      let listItem = converter.convertElement(li)\n      node.items.push(listItem.id)\n    })\n  },\n\n  export: function(node, el, converter) {\n    let $$ = converter.$$\n    el.tagName = node.ordered ? 'ol' : 'ul'\n    node.getItems().forEach(function(item) {\n      el.append($$('li').append(converter.annotatedText(item.getTextPath())))\n    })\n    return el\n  }\n}\n","/*\n * HTML converter for Lists.\n */\nexport default {\n\n  type: \"list-item\",\n\n  matchElement: function(el) {\n    return el.is('li')\n  },\n\n  import: function(el, node, converter) {\n    node.content = converter.annotatedText(el, [node.id, 'content'])\n  },\n\n  export: function(node, el, converter) {\n    el.append(converter.annotatedText(item.getTextPath()))\n  }\n}\n","import ListNode from './ListNode'\nimport ListItemNode from './ListItemNode'\nimport ListComponent from './ListComponent'\nimport ListHTMLConverter from './ListHTMLConverter'\nimport ListItemHTMLConverter from './ListItemHTMLConverter'\n\nexport default {\n  name: 'list',\n  configure: function(config) {\n    config.addNode(ListNode);\n    config.addNode(ListItemNode);\n    config.addComponent('list', ListComponent)\n    config.addConverter('html', ListHTMLConverter)\n    config.addConverter('html', ListItemHTMLConverter)\n  }\n}\n","import { cloneDeep } from 'lodash-es'\nimport inBrowser from '../../util/inBrowser'\nimport DefaultDOMElement from '../../ui/DefaultDOMElement'\nimport Component from '../../ui/Component'\n\nclass ResponsiveApplication extends Component {\n  constructor(...args) {\n    super(...args)\n\n    this.pages = {}\n\n    this.handleActions({\n      'navigate': this.navigate\n    })\n  }\n\n  getInitialState() {\n    return {\n      route: undefined,\n      mobile: this._isMobile()\n    }\n  }\n\n  didMount() {\n    if (inBrowser) {\n      let _window = DefaultDOMElement.getBrowserWindow()\n      _window.on('resize', this._onResize, this)\n    }\n    this.router = this.getRouter()\n    this.router.on('route:changed', this._onRouteChanged, this)\n    let route = this.router.readRoute()\n    // Replaces the current entry without creating new history entry\n    // or triggering hashchange\n    this.navigate(route, {replace: true})\n  }\n\n  dispose() {\n    this.router.off(this)\n    this.router.dispose()\n  }\n\n  /*\n    Used to navigate the app based on given route.\n\n    Example route: {documentId: 'example.xml'}\n    On app level, never use setState/extendState directly as this may\n    lead to invalid states.\n  */\n  navigate(route, opts) {\n    this.extendState({\n      route: route\n    })\n    this.router.writeRoute(route, opts)\n  }\n\n  _onRouteChanged(route) {\n    // console.log('NotesApp._onRouteChanged', route);\n    this.navigate(route, {replace: true})\n  }\n\n  _isMobile() {\n    if (inBrowser) {\n      return window.innerWidth < 700\n    }\n  }\n\n  _onResize() {\n    if (this._isMobile()) {\n      // switch to mobile\n      if (!this.state.mobile) {\n        this.extendState({\n          mobile: true\n        })\n      }\n    } else {\n      if (this.state.mobile) {\n        this.extendState({\n          mobile: false\n        })\n      }\n    }\n  }\n\n  _getPage() {\n    return this.state.route.page || this.getDefaultPage()\n  }\n\n  _getPageClass() {\n    let page = this._getPage()\n    return this.pages[page]\n  }\n\n  _getPageProps() {\n    let props = cloneDeep(this.state.route)\n    delete props.page\n    props.mobile = this.state.mobile\n    return props\n  }\n\n  addPage(pageName, PageClass) {\n    this.pages[pageName] = PageClass\n  }\n\n  renderPage($$) {\n    let PageClass = this._getPageClass()\n    let pageName = this._getPage()\n    return $$(PageClass, this._getPageProps()).ref(pageName)\n  }\n\n  render($$) {\n    let el = $$('div').addClass('sc-responsive-application')\n\n    if (this.state.route === undefined) {\n      // Not yet initialized by router\n      return el\n    }\n\n    el.append(\n      this.renderPage($$)\n    )\n\n    return el\n  }\n\n}\n\nexport default ResponsiveApplication\n","import Component from './Component'\n\nclass FontAwesomeIcon extends Component {\n  constructor(...args) {\n    super(...args)\n  }\n\n  render($$) {\n    return $$('i').addClass('fa ' + this.props.icon)\n  }\n\n}\n\nexport default FontAwesomeIcon\n","import Component from '../../ui/Component'\nimport Icon from '../../ui/FontAwesomeIcon'\n\nclass TOC extends Component {\n\n  didMount() {\n    let tocProvider = this.context.tocProvider\n    tocProvider.on('toc:updated', this.onTOCUpdated, this)\n  }\n\n  dispose() {\n    let tocProvider = this.context.tocProvider\n    tocProvider.off(this)\n  }\n\n  render($$) {\n    let tocProvider = this.context.tocProvider\n    let activeEntry = tocProvider.activeEntry\n    let ScrollPane = this.getComponent('scroll-pane')\n\n    let tocEntries = $$(\"div\")\n      .addClass(\"se-toc-entries\")\n      .ref('tocEntries');\n\n    let entries = tocProvider.getEntries()\n    for (let i = 0; i < entries.length; i++) {\n      let entry = entries[i]\n      let level = entry.level\n\n      let tocEntryEl = $$('a')\n        .addClass('se-toc-entry')\n        .addClass('sm-level-'+level)\n        .attr({\n          href: \"#\",\n          \"data-id\": entry.id,\n        })\n        .ref(entry.id)\n        .on('click', this.handleClick)\n        .append(\n          $$(Icon, {icon: 'fa-caret-right'}),\n          entry.name\n        );\n      if (activeEntry === entry.id) {\n        tocEntryEl.addClass(\"sm-active\")\n      }\n      tocEntries.append(tocEntryEl)\n    }\n\n    let el = $$('div').addClass('sc-toc').append(\n      $$(ScrollPane).ref('panelEl').append(\n        tocEntries\n      )\n    );\n    return el\n  }\n\n  getDocument() {\n    return this.context.doc\n  }\n\n  onTOCUpdated() {\n    this.rerender()\n  }\n\n  handleClick(e) {\n    let nodeId = e.currentTarget.dataset.id\n    e.preventDefault()\n    this.send('tocEntrySelected', nodeId)\n  }\n\n}\n\nexport default TOC\n","import { includes } from 'lodash-es'\nimport forEach from '../../util/forEach'\nimport EventEmitter from '../../util/EventEmitter'\n\n/*\n  Manages a table of content for a container. Default implementation considers\n  all headings as TOC entries. You can extend this implementation and override\n  `computeEntries`. Instantiate this class on controller level and pass it to relevant components\n  (such as {@link ui/TOCPanel} and {@link ui/ScrollPane}).\n\n  @class TOCProvider\n  @component\n\n  @prop {Controller}\n */\n\nclass TOCProvider extends EventEmitter {\n  constructor(document, config) {\n    super(document, config)\n    this.document = document\n    this.config = config\n\n    this.entries = this.computeEntries()\n    if (this.entries.length > 0) {\n      this.activeEntry = this.entries[0].id\n    } else {\n      this.activeEntry = null\n    }\n\n    this.document.on('document:changed', this.handleDocumentChange, this)\n  }\n\n  dispose() {\n    let doc = this.getDocument()\n    doc.disconnect(this)\n  }\n\n  // Inspects a document change and recomputes the\n  // entries if necessary\n  handleDocumentChange(change) {\n    let doc = this.getDocument()\n    let needsUpdate = false\n    let tocTypes = this.constructor.tocTypes\n\n    // HACK: this is not totally correct but works.\n    // Actually, the TOC should be updated if tocType nodes\n    // get inserted or removed from the container, plus any property changes\n    // This implementation just checks for changes of the node type\n    // not the container, but as we usually create and show in\n    // a single transaction this works.\n    for (let i = 0; i < change.ops.length; i++) {\n      let op = change.ops[i]\n      let nodeType\n      if (op.isCreate() || op.isDelete()) {\n        let nodeData = op.getValue()\n        nodeType = nodeData.type\n        if (includes(tocTypes, nodeType)) {\n          needsUpdate = true\n          break\n        }\n      } else {\n        let id = op.path[0]\n        let node = doc.get(id)\n        if (node && includes(tocTypes, node.type)) {\n          needsUpdate = true\n          break\n        }\n      }\n    }\n    if (needsUpdate) {\n      this.entries = this.computeEntries()\n      this.emit('toc:updated')\n    }\n  }\n\n  computeEntries() {\n    let doc = this.getDocument()\n    let config = this.config\n    let entries = []\n    let contentNodes = doc.get(config.containerId).nodes\n    forEach(contentNodes, function(nodeId) {\n      let node = doc.get(nodeId)\n      if (node.type === 'heading') {\n        entries.push({\n          id: node.id,\n          name: node.content,\n          level: node.level,\n          node: node\n        })\n      }\n    })\n    return entries\n  }\n\n  getEntries() {\n    return this.entries\n  }\n\n  getDocument() {\n    return this.document\n  }\n\n  markActiveEntry(scrollPane) {\n    let panelContent = scrollPane.getContentElement()\n    let contentHeight = scrollPane.getContentHeight()\n    let scrollPaneHeight = scrollPane.getHeight()\n    let scrollPos = scrollPane.getScrollPosition()\n\n    let scrollBottom = scrollPos + scrollPaneHeight\n    let regularScanline = scrollPos\n    let smartScanline = 2 * scrollBottom - contentHeight\n    let scanline = Math.max(regularScanline, smartScanline)\n\n    let tocNodes = this.computeEntries()\n    if (tocNodes.length === 0) return\n\n    // Use first toc node as default\n    let activeEntry = tocNodes[0].id\n    for (let i = tocNodes.length - 1; i >= 0; i--) {\n      let tocNode = tocNodes[i]\n      let nodeEl = panelContent.find('[data-id=\"'+tocNode.id+'\"]')\n      if (!nodeEl) {\n        console.warn('Not found in Content panel', tocNode.id)\n        return\n      }\n      let panelOffset = scrollPane.getPanelOffsetForElement(nodeEl)\n      if (scanline >= panelOffset) {\n        activeEntry = tocNode.id\n        break\n      }\n    }\n\n    if (this.activeEntry !== activeEntry) {\n      this.activeEntry = activeEntry\n      this.emit('toc:updated')\n    }\n  }\n}\n\nTOCProvider.tocTypes = ['heading']\n\nexport default TOCProvider\n","import Component from '../../ui/Component'\nimport Button from '../button/Button'\n\nclass ToolDropdown extends Component {\n  render($$) {\n    let tools = this.props.tools\n    let commandStates = this.props.commandStates\n    let el = $$('div').addClass('sc-tool-dropdown')\n    el.addClass('sm-target-'+this.props.name)\n    el.append(\n      this.renderButton($$)\n    )\n    if (this.state.open) {\n      let optionEls = []\n      tools.forEach(function(tool, name) {\n        let toolProps = Object.assign({}, commandStates[name])\n        toolProps.name = name\n        toolProps.label = name\n        toolProps.style = 'plain-dark' // plain button style on dark bg will be used\n        optionEls.push($$(tool.Class, toolProps))\n      })\n      el.append(\n        $$('div').addClass('se-options').append(\n          $$('div').addClass('se-arrow'),\n          $$('div').addClass('se-content').append(\n            optionEls\n          )\n        )\n      )\n    }\n    return el\n  }\n\n  renderButton($$) {\n    let btn = $$(Button, {\n      label: this.props.name,\n      active: this.state.open,\n      disabled: this.props.disabled,\n      style: this.props.style\n    }).on('click', this.onClick)\n    return btn\n  }\n\n  onClick() {\n    let open = !this.state.open\n    this.setState({\n      open: open\n    })\n  }\n}\n\nexport default ToolDropdown\n","import NodeComponent from './NodeComponent'\n\nclass BlockNodeComponent extends NodeComponent {\n  // maybe someday we need some BlockNode specific rendering\n}\n\nexport default BlockNodeComponent\n","import EventEmitter from '../util/EventEmitter'\nimport forEach from '../util/forEach'\nimport { without } from 'lodash-es'\n\n/*\n  Manages highlights. Used by {@link ui/ScrollPane}.\n\n  @class\n\n  @param {model/Document} doc document instance\n\n  @example\n\n  ```\n  var contentHighlights = new Highlights(doc);\n  ```\n*/\n\nclass Highlights extends EventEmitter {\n  constructor(doc) {\n    super()\n\n    this.doc = doc\n    this._highlights = {}\n  }\n\n  /**\n    Get currently active highlights.\n\n    @return {Object} Returns current highlights as a scoped object.\n  */\n  get() {\n    return this._highlights\n  }\n\n  /**\n    Set highlights.\n\n    @param {Object} scoped object describing highlights\n\n    @example\n\n    ```js\n      highlights.set({\n        'figures': ['figure-1', 'figure-3']\n        'citations': ['citation-1', 'citation-5']\n      });\n    ```\n  */\n  set(highlights) {\n    let oldHighlights = this._highlights\n    let doc = this.doc\n    // Iterate over scopes of provided highlights\n    forEach(highlights, function(newScopedHighlights, scope) {\n      let oldScopedHighlights = oldHighlights[scope] || []\n\n      // old [1,2,3]  -> new [2,4,5]\n      // toBeDeleted: [1,3]\n      // toBeAdded:   [4,5]\n      let toBeDeleted = without(oldScopedHighlights, newScopedHighlights)\n      let toBeAdded = without(newScopedHighlights, oldScopedHighlights)\n\n      // if (scopedHighlights) {\n      forEach(toBeDeleted, function(nodeId) {\n        let node = doc.get(nodeId)\n        // Node could have been deleted in the meanwhile\n        if (node) {\n          node.setHighlighted(false, scope)\n        }\n      });\n\n      forEach(toBeAdded, function(nodeId) {\n        let node = doc.get(nodeId)\n        if (node) {\n          node.setHighlighted(true, scope)\n        }\n      })\n    })\n\n    this._highlights = highlights\n\n    /**\n      Emitted when highlights have been updated\n\n      @event ui/Highlights@highlights:updated\n    */\n    this.emit('highlights:updated', highlights)\n  }\n}\n\nexport default Highlights\n","import forEach from '../util/forEach'\nimport EventEmitter from '../util/EventEmitter'\nimport DefaultDOMElement from './DefaultDOMElement'\n\nclass Router extends EventEmitter {\n  constructor(...args) {\n    super(...args)\n    this.__isStarted__ = false\n  }\n\n  /*\n    Starts listening for hash-changes\n  */\n  start() {\n    let window = DefaultDOMElement.getBrowserWindow()\n    window.on('hashchange', this._onHashChange, this)\n    this.__isStarted__ = true\n  }\n\n  /*\n    Reads out the current route\n  */\n  readRoute() {\n    if (!this.__isStarted__) this.start()\n    return this.parseRoute(this.getRouteString())\n  }\n\n  /*\n    Writes out a given route as a string url\n  */\n  writeRoute(route, opts) {\n    opts = opts || {}\n    let routeString = this.stringifyRoute(route)\n    if (!routeString) {\n      this.clearRoute(opts);\n    } else {\n      this._writeRoute(routeString, opts);\n    }\n  }\n\n  dispose() {\n    let window = DefaultDOMElement.getBrowserWindow()\n    window.off(this)\n  }\n\n  /*\n    Maps a route URL to a route object\n\n    @abstract\n    @param String route content of the URL's hash fragment\n  */\n  parseRoute(routeString) {\n    return Router.routeStringToObject(routeString)\n  }\n\n  /*\n    Maps a route object to a route URL\n\n    This can be overriden by an application specific router.\n\n    @abstract\n  */\n  stringifyRoute(route) {\n    return Router.objectToRouteString(route)\n  }\n\n  getRouteString() {\n    return window.location.hash.slice(1)\n  }\n\n  _writeRoute(route, opts) {\n    this.__isSaving__ = true\n    try {\n      if (opts.replace) {\n        window.history.replaceState({} , '', '#'+route)\n      } else {\n        window.history.pushState({} , '', '#'+route)\n      }\n    } finally {\n      this.__isSaving__ = false\n    }\n  }\n\n  clearRoute(opts) {\n    this._writeRoute('', opts)\n  }\n\n  _onHashChange() {\n    // console.log('_onHashChange');\n    if (this.__isSaving__) {\n      return\n    }\n    if (this.__isLoading__) {\n      console.error('FIXME: router is currently applying a route.')\n      return\n    }\n    this.__isLoading__ = true;\n    try {\n      let routeString = this.getRouteString()\n      let route = this.parseRoute(routeString)\n      this.emit('route:changed', route)\n    } finally {\n      this.__isLoading__ = false\n    }\n  }\n\n}\n\nRouter.objectToRouteString = function(obj) {\n  let route = []\n  forEach(obj, function(val, key) {\n    route.push(key+'='+val)\n  })\n  return route.join(',')\n}\n\nRouter.routeStringToObject = function(routeStr) {\n  let obj = {};\n  // Empty route maps to empty route object\n  if (!routeStr) return obj\n  let params = routeStr.split(',')\n  params.forEach(function(param) {\n    let tuple = param.split('=')\n    if (tuple.length !== 2) {\n      throw new Error('Illegal route.')\n    }\n    obj[tuple[0].trim()] = tuple[1].trim()\n  })\n  return obj\n}\n\nexport default Router\n","import Surface from '../packages/surface/Surface'\nimport TextProperty from './TextPropertyComponent'\n\n/**\n  Editor for a text property (annotated string). Needs to be\n  instantiated inside a {@link ui/Controller} context.\n\n  @class\n  @component\n  @extends ui/Surface\n\n  @prop {String} name unique editor name\n  @prop {String[]} path path to a text property\n  @prop {ui/SurfaceCommand[]} commands array of command classes to be available\n\n  @example\n\n  Create a `TextPropertyEditor` for the `name` property of an author object. Allow emphasis annotations.\n\n  ```js\n  $$(TextPropertyEditor, {\n    name: 'authorNameEditor',\n    path: ['author_1', 'name'],\n    commands: [EmphasisCommand]\n  })\n  ```\n*/\n\nclass TextPropertyEditor extends Surface {\n\n  constructor(parent, props) {\n    // making props.name optional\n    props.name = props.name || props.path.join('.')\n    super(parent, props)\n\n    if (!props.path) {\n      throw new Error(\"Property 'path' is mandatory.\")\n    }\n  }\n\n  render($$) {\n    let el = super.render.apply(this, arguments)\n    el.addClass(\"sc-text-property-editor\")\n\n    if (!this.props.disabled) {\n      el.addClass('sm-enabled')\n      el.attr('contenteditable', true)\n      // native spellcheck\n      el.attr('spellcheck', this.props.spellcheck === 'native')\n    }\n\n    el.append(\n      $$(TextProperty, {\n        tagName: this.props.tagName || \"div\",\n        path: this.props.path,\n        withoutBreak: this.props.withoutBreak\n      })\n    )\n\n    return el\n  }\n\n  getPath() {\n    return this.props.path\n  }\n}\n\nTextPropertyEditor.prototype._isTextPropertyEditor = true\n\nexport default TextPropertyEditor\n","import Registry from '../../util/Registry'\n\n/*\n  Registry for Nodes.\n\n  @class NodeRegistry\n  @extends util/Registry\n */\nclass NodeRegistry extends Registry {\n  /**\n    Register a Node class.\n\n    @param {Class} nodeClass\n   */\n  register(nodeClazz) {\n    var type = nodeClazz.prototype.type\n    if ( typeof type !== 'string' || type === '' ) {\n      console.error('#### nodeClazz', nodeClazz)\n      throw new Error( 'Node names must be strings and must not be empty')\n    }\n    if ( !( nodeClazz.prototype._isNode) ) {\n      throw new Error( 'Nodes must be subclasses of Substance.Data.Node' )\n    }\n    if (this.contains(type)) {\n      throw new Error('Node class is already registered: ' + type)\n    }\n    this.add(type, nodeClazz)\n  }\n\n}\n\nexport default NodeRegistry\n","import forEach from '../../util/forEach'\nimport NodeRegistry from './NodeRegistry'\nimport Node from './Node'\n\n/**\n  Schema for Data Objects.\n\n  @internal\n */\nclass Schema {\n\n  /**\n    @param {String} name\n    @param {String} version\n  */\n  constructor(name, version) {\n    /**\n      @type {String}\n    */\n    this.name = name\n    /**\n      @type {String}\n    */\n    this.version = version\n    /**\n      @type {NodeRegistry}\n      @private\n    */\n    this.nodeRegistry = new NodeRegistry()\n    /**\n      @type {Array} all Node classes which have `Node.tocType = true`\n      @private\n    */\n    this.tocTypes = []\n\n    // add built-in node classes\n    this.addNodes(this.getBuiltIns())\n  }\n\n  /**\n    Add nodes to the schema.\n\n    @param {Array} nodes Array of Node classes\n  */\n  addNodes(nodes) {\n    if (!nodes) return\n    forEach(nodes, function(NodeClass) {\n      if (!NodeClass.prototype._isNode) {\n        console.error('Illegal node class: ', NodeClass)\n      } else {\n        this.addNode(NodeClass)\n      }\n    }.bind(this))\n  }\n\n  addNode(NodeClass) {\n    this.nodeRegistry.register(NodeClass)\n    if (NodeClass.tocType) {\n      this.tocTypes.push(NodeClass.type)\n    }\n  }\n\n  /**\n    Get the node class for a type name.\n\n    @param {String} name\n    @returns {Class}\n  */\n  getNodeClass(name) {\n    return this.nodeRegistry.get(name)\n  }\n\n  /**\n    Provide all built-in node classes.\n\n    @private\n    @returns {Node[]} An array of Node classes.\n  */\n  getBuiltIns() {\n    return []\n  }\n\n  /**\n    Checks if a given type is of given parent type.\n\n    @param {String} type\n    @param {String} parentType\n    @returns {Boolean} true if type is and instance of parentType.\n  */\n  isInstanceOf(type, parentType) {\n    var NodeClass = this.getNodeClass(type)\n    if (NodeClass) {\n      return Node.isInstanceOf(NodeClass, parentType)\n    }\n    return false\n  }\n\n  /**\n    Iterate over all registered node classes.\n\n    See {@link util/Registry#each}\n\n    @param {Function} callback\n    @param {Object} context\n  */\n  each() {\n    this.nodeRegistry.each.apply(this.nodeRegistry, arguments)\n  }\n\n  /**\n    @returns {Node[]} list of types that should appear in a TOC\n  */\n  getTocTypes() {\n    return this.tocTypes\n  }\n\n  /**\n    @returns {String} the name of the default textish node (e.g. 'paragraph')\n  */\n  getDefaultTextType() {\n    throw new Error('Schmema.prototype.getDefaultTextType() must be overridden.')\n  }\n\n  getNodeSchema(type) {\n    var NodeClass = this.getNodeClass(type)\n    if (!NodeClass) {\n      console.error('Unknown node type ', type)\n      return null\n    }\n    return NodeClass.schema\n  }\n}\n\nexport default Schema\n","import Schema from './data/Schema'\nimport DocumentNode from './DocumentNode'\nimport Container from './Container'\nimport PropertyAnnotation from './PropertyAnnotation'\nimport ContainerAnnotation from './ContainerAnnotation'\n\n/*\n  Used to define custom article formats. Predefined node types can be combined with custom ones.\n\n  Note: since introduction of packages DocumentSchema is not used explicitly\n  but rather generated by a Configurator.\n\n  @class\n  @param {String} name schema identifier\n  @param {String} schema schema version\n\n  @example\n\n  ```js\n  import { PropertyAnnotation, Strong, Emphasis, Paragraph } from 'substance'\n\n  class Comment extends PropertyAnnotation {}\n\n  Comment.define({\n    type: 'comment',\n    content: 'string'\n  })\n\n  let schema = new Document.Schema('my-article')\n  schema.getDefaultTextType = function() {\n    return 'paragraph'\n  }\n  schema.addNodes([Paragraph, Emphasis, Strong, Comment])\n  ```\n*/\n\nclass DocumentSchema extends Schema {\n\n  /**\n    Returns default text type. E.g. used when hitting ENTER in a text node, which\n    produces a new node of the type returned here. Abstract method, which must be implemented.\n\n    @abstract\n    @returns {String} default text type (e.g. 'paragraph')\n  */\n\n  getDefaultTextType() {\n    throw new Error('DocumentSchema.getDefaultTextType() is abstract and must be overridden.')\n  }\n\n  isAnnotationType(type) {\n    var nodeClass = this.getNodeClass(type)\n    return (nodeClass && nodeClass.prototype._isPropertyAnnotation)\n  }\n\n  getBuiltIns() {\n    return [DocumentNode, PropertyAnnotation, Container, ContainerAnnotation]\n  }\n\n}\n\nexport default DocumentSchema\n","import Registry from '../util/Registry'\n\nclass ComponentRegistry extends Registry {\n  constructor(entries) {\n    super(entries, function(ComponentClass) {\n      if (!ComponentClass.prototype._isComponent) {\n        throw new Error('Component registry: wrong type. Expected a ComponentClass. Was: ' + String(ComponentClass))\n      }\n    })\n  }\n}\n\nexport default ComponentRegistry\n","import forEach from '../util/forEach'\nimport Icon from './FontAwesomeIcon'\n\nclass FontAwesomeIconProvider {\n\n  constructor(icons) {\n    this.map = {}\n    forEach(icons, function(config, name) {\n      let faClass = config['fontawesome']\n      if (faClass) {\n        this.addIcon(name, faClass)\n      }\n    }.bind(this))\n  }\n\n  renderIcon($$, name) {\n    let iconClass = this.map[name]\n    if (iconClass) {\n      return $$(Icon, {icon:iconClass})\n    }\n  }\n\n  addIcon(name, faClass) {\n    this.map[name] = faClass\n  }\n}\n\nexport default FontAwesomeIconProvider\n","/**\n Default label provider implementation\n\n @internal\n*/\nclass DefaultLabelProvider {\n  constructor(labels, lang) {\n    this.lang = lang || 'en'\n    this.labels = labels\n  }\n\n  getLabel(name) {\n    let labels = this.labels[this.lang]\n    if (!labels) return name\n    return labels[name] || name\n  }\n}\n\nexport default DefaultLabelProvider\n","import Component from '../../ui/Component'\n\nclass ToolGroup extends Component {\n  render($$) {\n\n    let tools = this.props.tools\n    let el = $$('div').addClass('sc-tool-group')\n    el.addClass('sm-target-'+this.props.name)\n    if (this.props.layout) {\n      el.addClass('sm-layout-'+this.props.layout)\n    }\n\n    tools.forEach((tool) => {\n      let toolProps = Object.assign({}, tool.toolProps, {\n        showIcon: this.props.showIcons,\n        showLabel: this.props.showLabels,\n        style: this.props.toolStyle\n      })\n      el.append(\n        $$(tool.Class, toolProps)\n      )\n    })\n    return el\n  }\n}\n\nexport default ToolGroup\n","class SaveHandlerStub {\n\n  /*\n    Saving a document involves two steps.\n\n    - syncing files (e.g. images) with a backend\n    - storing a snapshot of the document's content (e.g. a XML serialization)\n  */\n  saveDocument(params) {\n    console.info('Simulating save ...', params)\n\n    return params.fileManager.sync()\n    .then(() => {\n      // Here you would run a converter (HTML/XML) usually\n      // and send the result to a REST endpoint.\n      console.info('Creating document snapshot...')\n    })\n\n  }\n}\n\nexport default SaveHandlerStub\n","import forEach from './forEach'\nimport map from './map'\nimport isString from './isString'\nimport DocumentSchema from '../model/DocumentSchema'\nimport EditingBehavior from '../model/EditingBehavior'\nimport Registry from '../util/Registry'\nimport ComponentRegistry from '../ui/ComponentRegistry'\nimport FontAwesomeIconProvider from '../ui/FontAwesomeIconProvider'\nimport LabelProvider from '../ui/DefaultLabelProvider'\nimport ToolGroup from '../packages/tools/ToolGroup'\nimport KeyboardManager from '../ui/KeyboardManager'\nimport SaveHandlerStub from '../packages/persistence/SaveHandlerStub'\n\n/**\n  Default Configurator for Substance editors. It provides an API for\n  adding nodes to the schema, components, commands and tools etc.\n\n  @class\n\n  @example\n\n  ```js\n  let configurator = new Configurator()\n\n  configurator.addNode(Heading)\n  configurator.addComponent('heading', HeadingComponent)\n  ```\n\n  To modularize configuration, package definitions can be imported.\n\n  ```js\n  configurator.import(ParagraphPackage)\n  ```\n\n  You can create your own extensions that way.\n\n  ```js\n\n  const AlienPackage = {\n    name: 'alien'\n    configure: function(config) {\n      config.addNode(AlienNode)\n      config.addComponent('alien', AlienComponent)\n      config.addCommand('add-alien', AddAlienCommand)\n      config.addTool('add-alien', AddAlienTool)\n    }\n  }\n\n  ```\n\n  From within a package, another package can be imported. This provides\n  a simple mechanism to model dependencies between packages. Just make\n  sure you don't run into cyclic dependencies as there is no checking for\n  that at the moment.\n*/\nclass Configurator {\n  constructor() {\n    this.config = {\n      schema: {},\n      nodes: {},\n      components: {},\n      converters: {},\n      importers: {},\n      exporters: {},\n      fileProxies: [],\n      commands: {},\n      tools: new Map(),\n      toolGroups: new Map(),\n      textTypes: [],\n      editingBehaviors: [],\n      macros: [],\n      dndHandlers: [],\n      keyboardShortcuts: {},\n      icons: {},\n      labels: {},\n      lang: 'en_US',\n      SaveHandlerClass: null\n    }\n  }\n\n  // Record phase API\n  // ------------------------\n\n  /**\n    Defines the document schema for this configuration.\n\n    @param  {DocumentSchema} schema A schema to be used for articles created\n        from this configuration.\n   */\n  defineSchema(schema) {\n    this.config.schema = schema\n  }\n\n  /**\n    Adds a node to this configuration. Later, when you use\n    {@link Configurator#getSchema()}, this node will be added to that schema.\n    Usually, used within a package to add its own nodes to the schema.\n\n    @param {Node} NodeClass\n   */\n  addNode(NodeClass) {\n    var type = NodeClass.type\n    if (!type) {\n      throw new Error('A NodeClass must have a type.')\n    }\n    if (this.config.nodes[type]) {\n      throw new Error('NodeClass with this type name is already registered: ' + type)\n    }\n    this.config.nodes[type] = NodeClass\n  }\n\n  /**\n    Adds a converter for a conversion format.\n\n    @param {string} type      a conversion format type, eg. 'html', 'xml', 'json'\n    @param {Object} converter a converter for that format.\n   */\n  addConverter(type, converter) {\n    var converters = this.config.converters[type]\n    if (!converters) {\n      converters = {}\n      this.config.converters[type] = converters\n    }\n    if (!converter.type) {\n      throw new Error('A converter needs an associated type.')\n    }\n    converters[converter.type] = converter\n  }\n\n  /**\n    Add importer for a conversion format.\n\n    @param {string} type          a conversion format type. eg. 'html', 'xml'\n    @param {Object} ImporterClass an importer for the conversion format.\n   */\n  addImporter(type, ImporterClass) {\n    this.config.importers[type] = ImporterClass\n  }\n\n  /**\n    Add exporter for a conversion format.\n\n    @param {string} type          a conversion format type. eg. 'html', 'xml'\n    @param {Object} ExporterClass an exporter for the conversion format.\n   */\n  addExporter(type, ExporterClass) {\n    this.config.exporters[type] = ExporterClass\n  }\n\n  /**\n    Add a component for a node type. Components ({@link Component}) are the\n    ui representation of a node for rendering and manipulation. This is usually\n    used within a package to add representations for nodes added by that\n    package.\n\n    A component can be added once per nodeType. If you provide two components\n    for the same node type, Substance can't figure out which one to use.\n\n    @param {String} nodeType       the type attribute of the node for which this\n                                   component is to be used.\n    @param {Class} ComponentClass  A subclass of {@link Component} for nodes\n                                   of nodeType.\n   */\n  addComponent(nodeType, ComponentClass, force) {\n    if (!force && this.config.components[nodeType]) {\n      throw new Error(nodeType+' already registered')\n    }\n    if (!ComponentClass) {\n      throw new Error('Provided nil for component '+nodeType)\n    }\n    if (!ComponentClass.prototype._isComponent) {\n      throw new Error('ComponentClass must be a subclass of ui/Component.')\n    }\n    this.config.components[nodeType] = ComponentClass\n  }\n\n  addCommand(name, CommandClass, options) {\n    if (!isString(name)) {\n      throw new Error(\"Expecting 'name' to be a String\")\n    }\n    if (!CommandClass) {\n      throw new Error('Provided nil for command '+name)\n    }\n    if (!CommandClass.prototype._isCommand) {\n      throw new Error(\"Expecting 'CommandClass' to be of type ui/Command.\")\n    }\n    this.config.commands[name] = {\n      name: name,\n      CommandClass: CommandClass,\n      options: options || {}\n    }\n  }\n\n  addToolGroup(name, ToolGroupClass, options) {\n    options = options || {}\n    ToolGroupClass = ToolGroupClass || ToolGroup\n\n    this.config.toolGroups.set(name, {\n      name: name,\n      tools: new Map(),\n      Class: ToolGroupClass,\n      options: options\n    })\n  }\n\n  addTool(name, ToolClass, options) {\n    options = options || {}\n\n    if (options.target) {\n      console.warn('DEPRECATED: please use `toolGroup` instead of `target`', name)\n    }\n    let toolGroupNames = options.toolGroup || options.target\n    if (isString(toolGroupNames)) {\n      toolGroupNames = [ toolGroupNames ]\n    }\n\n    if (!toolGroupNames && options.overlay) {\n      toolGroupNames = [ 'overlay' ]\n    } else if (!toolGroupNames) {\n      toolGroupNames = [ 'default' ]\n    }\n\n    if (!isString(name)) {\n      throw new Error(\"Expecting 'name' to be a String\")\n    }\n    if (!ToolClass) {\n      throw new Error('Provided nil for tool '+name)\n    }\n    if (!ToolClass || !ToolClass.prototype._isTool) {\n      throw new Error(\"Expecting 'ToolClass' to be of type ui/Tool. name:\")\n    }\n\n    toolGroupNames.forEach((toolGroupName) => {\n      let toolGroup = this.config.toolGroups.get(toolGroupName)\n      if (!toolGroup) {\n        console.error(`No toolGroup registered with name: ${toolGroupName}`)\n        return\n      }\n      toolGroup.tools.set(name, {\n        name: name,\n        Class: ToolClass,\n        options: options || {}\n      })\n    })\n  }\n\n  /**\n    Adds an icon to the configuration which can be later retrieved via the\n    iconProvider.\n\n    @param {string} iconName name or key for retrieving the icon\n    @param {Object} options  your custom method of representing the icon as a\n        JSON object. Enables plugging in your own IconProvider.\n   */\n  addIcon(iconName, options) {\n    var iconConfig = this.config.icons[iconName]\n    if (!iconConfig) {\n      iconConfig = {}\n      this.config.icons[iconName] = iconConfig\n    }\n    Object.assign(iconConfig, options)\n  }\n\n  /**\n    Define a new label\n    Label is either a string or a hash with translations.\n    If string is provided 'en' is used as the language.\n\n    @param {String} labelName name of label.\n    @param {String} label label.\n\n    @example\n\n    ```\n    // Using english only.\n    config.addLabel('paragraph.content', 'Paragraph')\n\n    // Using multiple languages\n    config.addLabel('superscript', {\n      en: 'Superscript',\n      de: 'Hochgestellt'\n    })\n\n    .\n    .\n    // Usage within other code\n    let labels = this.context.labelProvider\n    $$('span').append(labels.getLabel('superscript'))\n    ```\n  */\n  addLabel(labelName, label) {\n    if (isString(label)) {\n      if(!this.config.labels['en']) {\n        this.config.labels['en'] = {}\n      }\n      this.config.labels['en'][labelName] = label\n    } else {\n      forEach(label, function(label, lang) {\n        if (!this.config.labels[lang]) {\n          this.config.labels[lang] = {}\n        }\n        this.config.labels[lang][labelName] = label\n      }.bind(this))\n    }\n  }\n\n  /**\n    Replaces the seed function for this configuration.\n\n    Use a seed function to create the empty state for your document. This should\n    be used only once per configuration. You shouldn't call this within package\n    config methods.\n\n    You can use {@link Configurator#getSeed} method to get this seed and\n    apply it on your document {@link Document} class.\n\n    @param {function} seed   A transaction function that creates the seed\n        document from an empty document.\n\n    @example\n\n    ```js\n    var seedFn = function(tx) {\n      var body = tx.get('body')\n\n      tx.create({\n        id: 'p1',\n        type: 'paragraph',\n        content: 'This is your new paragraph!'\n      })\n      body.show('p1')\n    }\n\n    config.addSeed(seedFn)\n    ```\n  */\n  addSeed(seed) {\n    this.config.seed = seed\n  }\n\n  addTextType(textType, options) {\n    this.config.textTypes.push({\n      spec: textType,\n      options: options || {}\n    })\n  }\n\n  /**\n    Adds an editing behavior to this configuration. {@link EditingBehavior}\n    for more.\n\n    @param {EditingBehavior} editingBehavior.\n   */\n  addEditingBehavior(editingBehavior) {\n    this.config.editingBehaviors.push(editingBehavior)\n  }\n\n  addMacro(macro) {\n    this.config.macros.push(macro)\n  }\n\n  addDragAndDrop(DragAndDropHandlerClass) {\n    if (!DragAndDropHandlerClass.prototype._isDragAndDropHandler) {\n      throw new Error('Only instances of DragAndDropHandler are allowed.')\n    }\n    this.config.dndHandlers.push(DragAndDropHandlerClass)\n  }\n\n  addKeyboardShortcut(combo, spec) {\n    let key = KeyboardManager.parseCombo(combo)\n    this.config.keyboardShortcuts[key] = spec\n  }\n\n  addFileProxy(FileProxyClass) {\n    this.config.fileProxies.push(FileProxyClass)\n  }\n\n  getFileAdapters() {\n    return this.config.fileProxies.slice(0)\n  }\n\n  /**\n    Configure this instance of configuration for provided package.\n    @param  {Object} pkg     Object should contain a `configure` method that\n                             takes a Configurator instance as the first method.\n    @param  {Object} options Additional options to pass to the\n                             package.`configure` method\n\n    @return {configurator}   returns the configurator instance to make it easy\n                             to chain calls to import.\n   */\n  import(pkg, options) {\n    pkg.configure(this, options || {})\n    return this\n  }\n\n  // Config Interpreter APIs\n  // ------------------------\n\n  getConfig() {\n    return this.config\n  }\n\n  getStyles() {\n    return this.config.styles\n  }\n\n  getSchema() {\n    var schemaConfig = this.config.schema\n    // TODO: We may want to remove passing a schema version as\n    // the version is defined by the repository / npm package version\n    var schema = new DocumentSchema(schemaConfig.name, '1.0.0')\n    schema.getDefaultTextType = function() {\n      return schemaConfig.defaultTextType\n    }\n    schema.addNodes(this.config.nodes)\n    return schema\n  }\n\n  createArticle(seed) {\n    var schemaConfig = this.config.schema\n    var schema = this.getSchema()\n    var doc = new schemaConfig.ArticleClass(schema)\n    if (seed) {\n      seed(doc)\n    }\n    return doc\n  }\n\n  createImporter(type, context) {\n    var ImporterClass = this.config.importers[type]\n    var config = {\n      schema: this.getSchema(),\n      converters: this.getConverterRegistry().get(type),\n      DocumentClass: this.config.schema.ArticleClass\n    }\n    return new ImporterClass(config, context)\n  }\n\n  createExporter(type, context) {\n    var ExporterClass = this.config.exporters[type]\n    var config = {\n      schema: this.getSchema(),\n      converters: this.getConverterRegistry().get(type)\n    }\n    return new ExporterClass(config, context)\n  }\n\n  getToolGroups() {\n    return this.config.toolGroups\n  }\n\n  getTools(toolGroupName) {\n    return this.config.toolGroups.get(toolGroupName).tools\n  }\n\n  getComponentRegistry() {\n    var componentRegistry = new ComponentRegistry()\n    forEach(this.config.components, function(ComponentClass, name) {\n      componentRegistry.add(name, ComponentClass)\n    })\n    return componentRegistry\n  }\n\n  getCommands() {\n    return map(this.config.commands, function(item, name) {\n      return new item.CommandClass(Object.assign({name: name}, item.options))\n    })\n  }\n\n  getSurfaceCommandNames() {\n    var commands = this.getCommands()\n    var commandNames = commands.map(function(C) {\n      return C.type\n    })\n    return commandNames\n  }\n\n  /*\n    A converter registry is a registry by file type and then by node type\n\n    `configurator.getConverterRegistry().get('html').get('paragraph')` provides\n    a HTML converter for Paragraphs.\n  */\n  getConverterRegistry() {\n    if (!this.converterRegistry) {\n      var converterRegistry = new Registry()\n      forEach(this.config.converters, function(converters, name) {\n        converterRegistry.add(name, new Registry(converters))\n      })\n      this.converterRegistry = converterRegistry\n    }\n    return this.converterRegistry\n  }\n\n  getSeed() {\n    return this.config.seed\n  }\n\n  getTextTypes() {\n    return this.config.textTypes.map(function(t) {\n      return t.spec\n    })\n  }\n\n  getIconProvider() {\n    return new FontAwesomeIconProvider(this.config.icons)\n  }\n\n  getLabelProvider() {\n    return new LabelProvider(this.config.labels)\n  }\n\n  getEditingBehavior() {\n    var editingBehavior = new EditingBehavior()\n    this.config.editingBehaviors.forEach(function(behavior) {\n      behavior.register(editingBehavior)\n    })\n    return editingBehavior\n  }\n\n  getMacros() {\n    return this.config.macros\n  }\n\n  createDragHandlers() {\n    return this.config.dndHandlers.map(function(DragAndDropHandlerClass) {\n      return new DragAndDropHandlerClass()\n    })\n  }\n\n  getKeyboardShortcuts() {\n    return this.config.keyboardShortcuts\n  }\n\n  setDefaultLanguage(lang) {\n    this.config.lang = lang\n  }\n\n  getDefaultLanguage() {\n    return this.config.lang || 'en_US'\n  }\n\n  setSaveHandlerClass(SaveHandlerClass) {\n    this.config.SaveHandlerClass = SaveHandlerClass\n  }\n\n  getSaveHandler() {\n    let SaveHandler = this.config.SaveHandlerClass || SaveHandlerStub\n    return new SaveHandler()\n  }\n}\n\nexport default Configurator\n","import Registry from './Registry'\n\n/*\n  Simple factory implementation.\n\n  @class Factory\n  @extends Registry\n*/\nclass Factory extends Registry {\n  /**\n    Create an instance of the clazz with a given name.\n\n    @param {String} name\n    @return A new instance.\n  */\n  create(name) {\n    var clazz = this.get(name)\n    if (!clazz) {\n      throw new Error( 'No class registered by that name: ' + name )\n    }\n    // call the clazz providing the remaining arguments\n    var args = Array.prototype.slice.call( arguments, 1 )\n    var obj = Object.create( clazz.prototype )\n    clazz.apply( obj, args )\n    return obj\n  }\n}\n\nexport default Factory\n","export default function makeMap(keys) {\n  return keys.reduce(function(obj, key) {\n    obj[key] = true\n    return obj\n  }, {})\n}\n","/*\n  Run the functions in the tasks collection in series.\n\n  NOTE: You can not access results of the executed functions\n*/\nexport function series(tasks, cb, i) {\n  i = i || 0\n  tasks[i](function(err) {\n    // Always stop execution on error\n    if (err) return cb(err)\n    if (i === tasks.length-1) {\n      cb(...arguments) // we are done\n    } else {\n      series(tasks, cb, i + 1)\n    }\n  })\n}","export default function(tx) {\n  var body = tx.get('body')\n  tx.create({\n    id: 'p1',\n    type: 'paragraph',\n    content: '0123456789'\n  })\n  body.show('p1')\n\n  tx.create({\n    id: 'p2',\n    type: 'paragraph',\n    content: '0123456789'\n  })\n  body.show('p2')\n}\n","import EventEmitter from '../../util/EventEmitter'\n\n/**\n  Websocket server implementation for client-side development of protocols\n*/\n\nclass MessageQueue extends EventEmitter {\n\n  constructor() {\n    super()\n\n    this.connections = {}\n    this.messages = []\n    this._log = []\n  }\n\n  /*\n    Starts queue processing\n  */\n  start() {\n    this._interval = setInterval(this._processMessage.bind(this), 100)\n  }\n\n  /*\n    Stops the queue processing\n  */\n  stop() {\n    clearInterval(this._interval)\n  }\n\n  flush() {\n    while (this.messages.length) {\n      this._processMessage()\n    }\n  }\n\n  clear() {\n    this.messages = []\n  }\n\n  tick() {\n    this._processMessage()\n  }\n\n  connectServer(server) {\n    if(this.connections[server.serverId]) {\n      throw new Error('Server already registered:' + server.serverId)\n    }\n    this.connections[server.serverId] = {\n      type: 'server',\n      serverId: server.serverId,\n      server : server,\n      sockets: {}\n    }\n  }\n\n  /*\n    A new client connects to the message queue\n  */\n  connectClientSocket(ws) {\n    var serverId = ws.serverId\n    var clientId = ws.clientId\n    var conn = this.connections[serverId]\n    if (!conn || conn.type !== \"server\") {\n      throw new Error('Can not connect to server. Unknown server id.')\n    }\n    this.connections[ws.clientId] = {\n      type: 'client',\n      socket: ws\n    }\n    conn.server.handleConnectionRequest(clientId)\n  }\n\n  /*\n    A client disconnects from the message queue\n  */\n  disconnectClientSocket(ws) {\n    var serverId = ws.serverId\n    var clientId = ws.clientId\n    var conn = this.connections[serverId]\n\n    if (!conn || conn.type !== \"server\") {\n      throw new Error('Unknown server id.')\n    }\n    conn.server.handleDisconnectRequest(clientId)\n    delete this.connections[ws.clientId]\n  }\n\n  /*\n    This is called by the server as a response to\n    connection:requested. ws is the server-side end of\n    the communication channel\n  */\n  connectServerSocket(ws) {\n    var server = this.connections[ws.serverId]\n    if (!server) {\n      throw new Error('Server is not connected:' + ws.serverId)\n    }\n    server.sockets[ws.clientId] = ws\n  }\n\n  /*\n    This is called by the server.\n\n    Really needed? Isn't this done already in TestWebSocketServer?\n  */\n  disconnectServerSocket(ws) {\n    var server = this.connections[ws.serverId]\n    if (!server) {\n      throw new Error('Server is not connected:' + ws.serverId)\n    }\n    delete server.sockets[ws.clientId]\n  }\n\n  /*\n    Adds a message to the queue\n  */\n  pushMessage(message) {\n    this.messages.push(message)\n    this._log.push(message)\n    this.emit('messages:updated', this.messages)\n  }\n\n  /*\n    Takes one message off the queue and delivers it to the recipient\n  */\n  _processMessage() {\n    var message = this.messages.shift()\n    if (!message) return; // nothing to process\n    this.emit('messages:updated', this.messages)\n    var from = message.from\n    var to = message.to\n    var recipient = this.connections[to]\n    var socket\n    if (recipient.type === \"server\") {\n      socket = recipient.sockets[from]\n    } else {\n      socket = recipient.socket\n    }\n    if (!socket) {\n      console.error('Could not deliver message:', message)\n    } else {\n      socket._onMessage(message.data)\n    }\n    this.emit('message:sent', message)\n  }\n}\n\nexport default MessageQueue\n","import EventEmitter from '../../util/EventEmitter'\n\nvar __id__ = 0\n\n/**\n  Simple TestServerWebSocket implementation for local testing\n*/\n\nclass TestServerWebSocket extends EventEmitter {\n\n  constructor(messageQueue, serverId, clientId) {\n    super()\n\n    this.__id__ = __id__++\n    this.messageQueue = messageQueue\n    this.serverId = serverId\n    this.clientId = clientId\n\n    this._isSimulated = true\n    this.readyState = 1; // consider always connected\n  }\n\n  connect() {\n    this.messageQueue.connectServerSocket(this)\n  }\n\n  /**\n    Gets called by the message queue to handle a message\n  */\n  _onMessage(data) {\n    this.emit('message', data)\n  }\n\n  /**\n    Gets called by the message queue to handle a message\n  */\n  send(data) {\n    var msg = {\n      from: this.serverId,\n      to: this.clientId\n    }\n    if (data) {\n      // msg.data = JSON.parse(data)\n      msg.data = data\n    }\n    this.messageQueue.pushMessage(msg)\n  }\n}\n\nexport default TestServerWebSocket\n","import EventEmitter from '../../util/EventEmitter'\nimport TestServerWebSocket from './TestServerWebSocket'\n\n/*\n  Local in-process Websocket server implementation for client-side development\n  of protocols.\n*/\nclass TestWebSocketServer extends EventEmitter {\n\n  constructor(config) {\n    super()\n\n    this.messageQueue = config.messageQueue\n    this.serverId = config.serverId || \"server\"\n    this.clients = {}\n    this._isSimulated = true\n\n    if (!config.manualConnect) {\n      this.connect()\n    }\n  }\n\n  connect() {\n    this.messageQueue.connectServer(this)\n  }\n\n  /*\n    New websocket connection requested. Creates the server-side\n    counterpart of the websocket and registers it in the message\n    queue.\n  */\n  handleConnectionRequest(clientId) {\n    // TODO: this implementation does not allow for multiple connections\n    // from one client to a server and ATM we have only one server\n    var sws = new TestServerWebSocket(\n      this.messageQueue,\n      this.serverId,\n      clientId\n    )\n    this.messageQueue.connectServerSocket(sws)\n    this.clients[clientId] = sws\n    // Emit connection event\n    this.emit('connection', sws)\n  }\n\n  /*\n    Disconnect an existing websocket\n  */\n  handleDisconnectRequest(clientId) {\n    var sws = this.clients[clientId]\n    this.messageQueue.disconnectServerSocket(sws)\n\n    // Emit close event on websocket server\n    sws.emit('close', sws)\n    delete this.clients[clientId]\n  }\n\n}\n\nexport default TestWebSocketServer\n","import EventEmitter from '../../util/EventEmitter'\nimport uuid from '../../util/uuid'\nvar __id__ = 0\n\n/**\n  Simple TestWebSocket implementation for local testing\n*/\n\nclass TestWebSocket extends EventEmitter {\n\n  constructor(config) {\n    super()\n\n    this.__id__ = __id__++\n    this.messageQueue = config.messageQueue\n    this.clientId = config.clientId || uuid()\n    this.serverId = config.serverId || \"server\"\n\n    // We consider our TestWebSocket WebSocket.CLOSED at the beginning\n    this.readyState = 3\n    this._isSimulated = true\n  }\n\n  connect() {\n    this.messageQueue.connectClientSocket(this)\n    this.readyState = 1; // WebSocket.OPEN\n    this.triggerOpen()\n  }\n\n  disconnect() {\n    this.messageQueue.disconnectClientSocket(this)\n    this.readyState = 3; // WebSocket.CLOSED\n    this.triggerClose()\n  }\n\n  /*\n    Emulating native addEventListener API\n  */\n  addEventListener(eventName, handler) {\n    if (this['on'+eventName]) {\n      // For simplicity we only support a single handler per event atm\n      console.warn('on'+eventName, ' is already set. Overriding handler.')\n    }\n    this['on'+eventName] = handler\n  }\n\n  /*\n    This can is called by the messageQueue once the connection is established\n  */\n  triggerOpen() {\n    if (this.onopen) this.onopen()\n  }\n\n  triggerClose() {\n    if (this.onclose) this.onclose()\n  }\n\n  /*\n    Emulating native removeEventListener API\n  */\n  removeEventListener(eventName) {\n    delete this['on'+eventName]\n  }\n\n  /**\n    Gets called by the message queue to handle a message\n  */\n  _onMessage(data) {\n    // Handler must be provided by user\n    this.onmessage({data: data})\n  }\n\n  /**\n    Gets called by the message queue to handle a message\n  */\n  send(data) {\n    var msg = {\n      from: this.clientId,\n      to: this.serverId\n    }\n    if (data) {\n      msg.data = data\n    }\n    this.messageQueue.pushMessage(msg)\n  }\n\n}\n\nexport default TestWebSocket\n","import ClientConnection from '../../collab/ClientConnection'\nimport TestWebSocket from './TestWebSocket'\n\n/*\n  Browser WebSocket abstraction. Handles reconnects etc.\n*/\nclass TestWebSocketConnection extends ClientConnection {\n\n  _createWebSocket() {\n    // this.config has messageQueue, clientId, serverId\n    var ws = new TestWebSocket(this.config)\n    return ws\n  }\n\n  /*\n    Manual connect\n  */\n  connect() {\n    this._connect()\n  }\n\n  /*\n    Manual disconnect\n  */\n  disconnect() {\n    this._disconnect()\n  }\n\n  _connect(...args) {\n    // Create websocket and bind events open/close/message\n    super._connect(...args)\n    // connects websocket to the messageQueue and triggers 'open' event\n    this.ws.connect()\n  }\n\n  _disconnect(...args) {\n    this.ws.disconnect()\n    super._disconnect(...args)\n  }\n\n  _onConnectionClose() {\n    this.emit('close')\n  }\n\n  /*\n    Our message queue holds JS objects already so we just\n    pass through the msg\n  */\n  serializeMessage(msg) {\n    return msg\n  }\n\n  deserializeMessage(msg) {\n    return msg\n  }\n\n}\n\nexport default TestWebSocketConnection\n","import CollabServer from '../../collab/CollabServer'\n\nclass TestCollabServer extends CollabServer {\n\n  constructor(config) {\n    super(config)\n\n    this.config.scope = 'substance/collab'\n  }\n\n  serializeMessage(msg) {\n    return msg\n  }\n\n  deserializeMessage(msg) {\n    return msg\n  }\n\n}\n\nexport default TestCollabServer\n","import CollabSession from '../../collab/CollabSession'\nimport DocumentChange from '../../model/DocumentChange'\n\nclass TestCollabSession extends CollabSession {\n\n  constructor(...args) {\n    super(...args)\n    this._incomingMessages = []\n    this._outgoingMessages = []\n  }\n\n  /*\n    We log received messages so we can later dump the session\n    history and replay in test cases.\n  */\n  _onMessage(...args) {\n    if (this.config.logging) {\n      this._incomingMessages.push(args[0])\n    }\n    super._onMessage(...args)\n  }\n\n  /*\n    We log sent messages so we can later dump the session\n    history and replay in test cases.\n  */\n  _onSend(...args) {\n    if (this.config.logging) {\n      this._outgoingMessages = []\n      this._outgoingMessages.push(args[0])\n    }\n    super._onSend(...args)\n  }\n\n  dumpIncomingMessages() {\n    return JSON.stringify(this._incomingMessages, null, '  ')\n  }\n\n  dumpOutgoingMessages() {\n    return JSON.stringify(this._outgoingMessages, null, '  ')\n  }\n\n  serializeMessage(msg) {\n    return msg\n  }\n\n  deserializeMessage(msg) {\n    return msg\n  }\n\n  serializeChange(change) {\n    return change.toJSON()\n  }\n\n  deserializeChange(serializedChange) {\n    return DocumentChange.fromJSON(serializedChange)\n  }\n}\n\nexport default TestCollabSession","import DocumentNode from '../../model/DocumentNode'\n\nclass TestMetaNode extends DocumentNode {}\n\nTestMetaNode.define({\n  type: 'meta',\n  title: 'text'\n})\n\nexport default TestMetaNode\n","import DocumentNode from '../../model/DocumentNode'\n\nclass TestNode extends DocumentNode {}\n\nTestNode.define({\n  type: \"test-node\",\n  boolVal: { type: \"boolean\", default: false },\n  stringVal: { type: \"string\", default: \"\" },\n  arrayVal: { type: [\"array\",\"string\"], default: [] },\n  objectVal: { type: \"object\", default: {} },\n})\n\nTestNode.isBlock = true\n\nexport default TestNode\n","import ContainerAnnotation from '../../model/ContainerAnnotation'\n\nclass TestContainerAnnotation extends ContainerAnnotation {}\n\nTestContainerAnnotation.type = 'test-container-anno'\n\nexport default TestContainerAnnotation\n","import DocumentNode from '../../model/DocumentNode'\n\nclass StructuredNode extends DocumentNode {}\n\nStructuredNode.define({\n  type: \"structured-node\",\n  title: \"text\",\n  body: \"text\",\n  caption: \"text\"\n})\n\nStructuredNode.isBlock = true\n\nexport default StructuredNode\n","import Schema from '../../model/DocumentSchema'\nimport MetaNode from './TestMetaNode'\nimport TestNode from './TestNode'\nimport TestContainerAnnotation from './TestContainerAnnotation'\nimport TestStructuredNode from './TestStructuredNode'\nimport Paragraph from '../../packages/paragraph/Paragraph'\nimport Heading from '../../packages/heading/Heading'\nimport Emphasis from '../../packages/emphasis/Emphasis'\nimport Strong from '../../packages/strong/Strong'\nimport Link from '../../packages/link/Link'\nimport ImageNode from '../../packages/image/ImageNode'\nimport Codeblock from '../../packages/codeblock/Codeblock'\nimport InlineWrapper from '../../packages/inline-wrapper/InlineWrapper'\n\nvar schema = new Schema(\"test-article\", \"1.0.0\")\n\nschema.getDefaultTextType = function() {\n  return 'paragraph'\n}\n\nschema.addNodes([\n  MetaNode,\n  Paragraph,\n  Heading,\n  Emphasis,\n  Strong,\n  Link,\n  ImageNode,\n  Codeblock,\n  TestNode,\n  TestContainerAnnotation,\n  TestStructuredNode,\n  InlineWrapper\n])\n\nexport default schema\n","import Document from '../../model/Document'\nimport schema from './TestSchema'\n\nclass TestArticle extends Document {\n\n  constructor() {\n    super(schema)\n\n    this.create({\n      type: \"meta\",\n      id: \"meta\",\n      title: 'Untitled'\n    })\n    this.create({\n      type: \"container\",\n      id: \"body\",\n      nodes: []\n    })\n  }\n\n  getDocumentMeta() {\n    return this.get('meta')\n  }\n}\n\nexport default TestArticle\n","import TestArticle from '../model/TestArticle'\n\nexport default function createTestArticle(seedFn) {\n  var doc = new TestArticle()\n  if (seedFn) {\n    seedFn(doc)\n  }\n  return doc\n}\n","import DocumentChange from '../../model/DocumentChange'\nimport EditingInterface from '../../model/EditingInterface'\nimport TransactionDocument from '../../model/TransactionDocument'\n\n/*\n  Create a changeset\n\n  Allows one or more functions to be passed, which will each represent a change\n  in the result.\n*/\nexport default function createChangeset(doc, fns) {\n  if (!doc._isDocument) {\n    throw new Error('Illegal arguments')\n  }\n  if (!Array.isArray(fns)) {\n    fns = [ fns ]\n  }\n\n  let txDoc = new TransactionDocument(doc)\n  let tx = new EditingInterface(txDoc)\n  let opCount = 0\n  let changes = []\n\n  fns.forEach((fn) => {\n    fn(tx)\n    let opsForChange = txDoc.ops.slice(opCount)\n    changes.push(new DocumentChange(opsForChange, {}, {}).toJSON())\n    opCount = txDoc.ops.length\n  })\n  txDoc.dispose()\n  return changes\n}\n","import createTestArticle from './createTestArticle'\nimport createChangeset from './createChangeset'\n\nexport default function createTestDocumentFactory() {\n  return {\n    createDocument: function() {\n      return createTestArticle()\n    },\n    createChangeset: function() {\n      var doc = createTestArticle()\n      return createChangeset(doc)\n    }\n  }\n}\n","// collab\nexport { default as ChangeStore } from './collab/ChangeStore'\nexport { default as ClientConnection } from './collab/ClientConnection'\nexport { default as CollabClient } from './collab/CollabClient'\nexport { default as CollabEngine } from './collab/CollabEngine'\nexport { default as CollabServer } from './collab/CollabServer'\nexport { default as CollabSession } from './collab/CollabSession'\nexport { default as DocumentClient } from './collab/DocumentClient'\nexport { default as DocumentEngine } from './collab/DocumentEngine'\nexport { default as DocumentServer } from './collab/DocumentServer'\nexport { default as SnapshotEngine } from './collab/SnapshotEngine'\nexport { default as SnapshotStore } from './collab/SnapshotStore'\nexport { default as WebSocketConnection } from './collab/WebSocketConnection'\nexport { default as CollabServerConfigurator } from './collab/CollabServerConfigurator'\nexport { default as CollabServerPackage } from './collab/CollabServerPackage'\n\n// model\nexport { default as annotationHelpers } from './model/annotationHelpers'\nexport { default as BlockNode } from './model/BlockNode'\nexport { default as Container } from './model/Container'\nexport { default as ContainerAnnotation } from './model/ContainerAnnotation'\nexport { default as PropertyAnnotation } from './model/PropertyAnnotation'\nexport { default as Document } from './model/Document'\nexport { default as DocumentChange } from './model/DocumentChange'\nexport { default as documentHelpers } from './model/documentHelpers'\nexport { default as DocumentIndex } from './model/DocumentIndex'\nexport { default as DocumentNode } from './model/DocumentNode'\nexport { default as EditorSession } from './model/EditorSession'\nexport { default as DOMExporter } from './model/DOMExporter'\nexport { default as DOMImporter } from './model/DOMImporter'\nexport { default as FileManager } from './model/FileManager'\nexport { default as FileProxy } from './model/FileProxy'\nexport { default as Fragmenter } from './model/Fragmenter'\nexport { default as HTMLExporter } from './model/HTMLExporter'\nexport { default as HTMLImporter } from './model/HTMLImporter'\nexport { default as InlineNode } from './model/InlineNode'\nexport { default as JSONConverter } from './model/JSONConverter'\nexport { default as Marker } from './model/Marker'\nexport { default as NodeIndex } from './model/data/NodeIndex'\nexport { default as TextBlock } from './model/TextBlock'\nexport { default as TextNode } from './model/TextNode'\nexport { default as Selection } from './model/Selection'\nexport { default as XMLExporter } from './model/XMLExporter'\nexport { default as XMLImporter } from './model/XMLImporter'\n\n// packages\nexport { default as BasePackage } from './packages/base/BasePackage'\nexport { default as BlockquotePackage } from './packages/blockquote/BlockquotePackage'\nexport { default as CodePackage } from './packages/code/CodePackage'\nexport { default as EmphasisPackage } from './packages/emphasis/EmphasisPackage'\nexport { default as ImagePackage } from './packages/image/ImagePackage'\nexport { default as InlineWrapperPackage } from './packages/inline-wrapper/InlineWrapperPackage'\nexport { default as OverlayPackage } from './packages/overlay/OverlayPackage'\nexport { default as ParagraphPackage } from './packages/paragraph/ParagraphPackage'\nexport { default as PersistencePackage } from './packages/persistence/PersistencePackage'\nexport { default as StrongPackage } from './packages/strong/StrongPackage'\nexport { default as SubscriptPackage } from './packages/subscript/SubscriptPackage'\nexport { default as SuperscriptPackage } from './packages/superscript/SuperscriptPackage'\n\n// file\nexport { default as FilePackage } from './packages/file/FilePackage'\nexport { default as FileNode } from './packages/file/FileNode'\n\n// heading\nexport { default as HeadingPackage } from './packages/heading/HeadingPackage'\nexport { default as HeadingMacro } from './packages/heading/HeadingMacro'\n\n// base\nexport { default as SwitchTextTypeTool } from './packages/switch-text-type/SwitchTextTypeTool'\nexport { default as SwitchTextTypeCommand } from './packages/switch-text-type/SwitchTextTypeCommand'\n\n// prose-editor\nexport { default as ProseEditorPackage } from './packages/prose-editor/ProseEditorPackage'\nexport { default as ProseEditor } from './packages/prose-editor/ProseEditor'\nexport { default as ProseArticle } from './packages/prose-editor/ProseArticle'\n\n// link\nexport { default as LinkPackage } from './packages/link/LinkPackage'\nexport { default as EditLinkTool } from './packages/link/EditLinkTool'\nexport { default as Link } from './packages/link/Link'\nexport { default as LinkCommand } from './packages/link/LinkCommand'\nexport { default as LinkComponent } from './packages/link/LinkComponent'\n\n// inline-node\nexport { default as InsertInlineNodeCommand } from './packages/inline-node/InsertInlineNodeCommand'\nexport { default as EditInlineNodeCommand } from './packages/inline-node/EditInlineNodeCommand'\nexport { default as InlineNodeComponent } from './packages/inline-node/InlineNodeComponent'\n\n// button\nexport { default as Button } from './packages/button/Button'\n\n// scroll-pane\nexport { default as ScrollPanePackage } from './packages/scroll-pane/ScrollPanePackage'\nexport { default as ScrollPane } from './packages/scroll-pane/ScrollPane'\n\n// body-scroll-pane\nexport { default as BodyScrollPanePackage } from './packages/body-scroll-pane/BodyScrollPanePackage'\nexport { default as BodyScrollPane } from './packages/body-scroll-pane/BodyScrollPane'\n\n// spell-check\nexport { default as SpellCheckPackage } from './packages/spell-check/SpellCheckPackage'\nexport { default as SpellCheckManager } from './packages/spell-check/SpellCheckManager'\n\n// split-pane\nexport { default as SplitPanePackage } from './packages/split-pane/SplitPanePackage'\nexport { default as SplitPane } from './packages/split-pane/SplitPane'\n\n// scrollbar\nexport { default as ScrollbarPackage } from './packages/scrollbar/ScrollbarPackage'\nexport { default as Scrollbar } from './packages/scrollbar/Scrollbar'\n\n// layout\nexport { default as LayoutPackage } from './packages/layout/LayoutPackage'\nexport { default as Layout } from './packages/layout/Layout'\n\nexport { default as ListPackage } from './packages/list/ListPackage'\n\n// grid\nexport { default as GridPackage } from './packages/grid/GridPackage'\nexport { default as Grid } from './packages/grid/Grid'\n\n// drop-teaser\nexport { default as DropTeaser } from './packages/drop-teaser/DropTeaser'\n\n// tabbed-pane\nexport { default as TabbedPanePackage } from './packages/tabbed-pane/TabbedPanePackage'\nexport { default as TabbedPane } from './packages/tabbed-pane/TabbedPane'\n\n// modal\nexport { default as ModalPackage } from './packages/modal/ModalPackage'\nexport { default as Modal } from './packages/modal/Modal'\n\n// input\nexport { default as InputPackage } from './packages/input/InputPackage'\nexport { default as Input } from './packages/input/Input'\n\n// responsive application\nexport { default as ResponsiveApplication } from './packages/responsive-application/ResponsiveApplication'\n\n// toc\nexport { default as TOC } from './packages/toc/TOC'\nexport { default as TOCProvider } from './packages/toc/TOCProvider'\n\n// tools\nexport { default as ToolDropdown } from './packages/tools/ToolDropdown'\nexport { default as Tool } from './packages/tools/Tool'\nexport { default as Toolbar } from './packages/tools/Toolbar'\nexport { default as Toolbox } from './packages/tools/Toolbox'\n\n// surface\nexport { default as Surface } from './packages/surface/Surface'\n\n// ui\nexport { default as AbstractEditor } from './ui/AbstractEditor'\nexport { default as AnnotationCommand } from './ui/AnnotationCommand'\nexport { default as EditAnnotationCommand } from './ui/EditAnnotationCommand'\nexport { default as AnnotationComponent } from './ui/AnnotationComponent'\nexport { default as AnnotationTool } from './ui/AnnotationTool'\nexport { default as BlockNodeComponent } from './ui/BlockNodeComponent'\nexport { default as Command } from './ui/Command'\nexport { default as Component } from './ui/Component'\nexport { default as ContainerEditor } from './ui/ContainerEditor'\nexport { default as DefaultDOMElement } from './ui/DefaultDOMElement'\nexport { default as DragAndDropHandler } from './ui/DragAndDropHandler'\nexport { default as FontAwesomeIcon } from './ui/FontAwesomeIcon'\nexport { default as InsertNodeCommand } from './ui/InsertNodeCommand'\nexport { default as Highlights } from './ui/Highlights'\nexport { default as RenderingEngine } from './ui/RenderingEngine'\nexport { default as Router } from './ui/Router'\nexport { default as TextBlockComponent } from './ui/TextBlockComponent'\nexport { default as TextPropertyComponent } from './ui/TextPropertyComponent'\nexport { default as TextPropertyEditor } from './ui/TextPropertyEditor'\nexport { default as UnsupportedNodeComponent } from './ui/UnsupportedNodeComponent'\n\n// util\nexport { default as ArrayIterator } from './util/ArrayIterator'\nexport { default as Configurator } from './util/Configurator'\nexport { default as EventEmitter } from './util/EventEmitter'\nexport { default as Factory } from './util/Factory'\nexport { default as forEach } from './util/forEach'\nexport { default as inBrowser } from './util/inBrowser'\nexport { default as map } from './util/map'\nexport { default as makeMap } from './util/makeMap'\nexport { default as keys } from './util/keys'\nexport { default as platform } from './util/platform'\nexport { default as Registry } from './util/Registry'\nexport { default as request } from './util/request'\nexport { default as sendRequest } from './util/sendRequest'\nexport { default as SubstanceError } from './util/SubstanceError'\nexport { default as substanceGlobals } from './util/substanceGlobals'\nexport { default as TreeIndex } from './util/TreeIndex'\nexport { default as uuid } from './util/uuid'\nexport { series } from './util/async'\n\n// test-utlity related (to reduce bundle size we should think of\n// providing a separate bundle for that in the future)\nexport { default as twoParagraphs } from './test/fixtures/twoParagraphs'\nexport { default as MessageQueue } from './test/collab/MessageQueue'\nexport { default as TestWebSocketServer } from './test/collab/TestWebSocketServer'\nexport { default as TestWebSocketConnection } from './test/collab/TestWebSocketConnection'\nexport { default as TestCollabServer } from './test/collab/TestCollabServer'\nexport { default as TestCollabSession } from './test/collab/TestCollabSession'\nexport { default as createTestDocumentFactory } from './test/fixtures/createTestDocumentFactory'\n\n// aliases (mainly for backward compatibility)\nexport { default as ProseEditorConfigurator } from './util/Configurator'\n"],"names":["forEach","this","add","objectProto","objectToString","NAN","INFINITY","funcToString","getValue","WeakMap","BIND_FLAG","apply","nativeMax","hasOwnProperty","BIND_KEY_FLAG","CURRY_FLAG","PARTIAL_FLAG","PARTIAL_RIGHT_FLAG","CURRY_RIGHT_FLAG","ARY_FLAG","arguments","PLACEHOLDER","CURRY_BOUND_FLAG","nativeMin","FUNC_ERROR_TEXT","getLength","MAX_SAFE_INTEGER","propertyIsEnumerable","baseKeysIn","nonEnumShadows","assignIn","HASH_UNDEFINED","Map","toString","get","bind","rsAstralRange","rsComboMarksRange","rsComboSymbolsRange","rsVarRange","rsZWJ","rsCombo","rsApos","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","getSymbols","Promise","mapTag","objectTag","setTag","weakMapTag","dataViewTag","symbolProto","boolTag","dateTag","numberTag","regexpTag","stringTag","symbolTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","argsTag","errorTag","funcTag","genTag","getTag","clone","UNORDERED_COMPARE_FLAG","PARTIAL_COMPARE_FLAG","symbolValueOf","arrayTag","create","LARGE_ARRAY_SIZE","drop","escape","reRegExpChar","MAX_ARRAY_LENGTH","filter","find","map","FLIP_FLAG","REARG_FLAG","invert","isEmpty","isEqual","isNull","isSet","arrayProto","merge","getOwnPropertySymbols","nativeFloor","rsAstral","rsSymbol","reComplexSymbol","nativeCeil","reTrim","parseInt","splice","nativeRandom","remove","set","stringProto","reFlags","unescape","update","first","each","eachRight","entries","entriesIn","extend","extendWith","at","commit","next","plant","reverse","toIterator","toJSON","value","valueOf","LAZY_FILTER_FLAG","iteratorSymbol","mixin","func","object","_mixin","result","iteratee","method","_disconnect","const","super","let","Err","__id__","isArray","uuid","isNumber","isString","DELETE","hasConflict","transform_delete_delete","transform","NOP","INSERT","transform_insert_insert","transform_insert_delete","Selection","isNil","RangeAdapter","before","after","selectionFromJSON","prototypeAccessors","isFunction","DocumentIndex","isPlainObject","docHelpers","range","property","last","paste","_copyNode","newNode","containerId","container","nodeId","nodePos","path","node","nodeEditing","startNode","i","nextNode","prototypeAccessors$1","DOMElement","matches","TextNode","_render","_create","substanceGlobals","_createElement","_appendChild","keys","DataNode","defaultAnnotationConverter","defaultBlockConverter","_getRelativeRect","UndoCommand","RedoCommand","SelectAllCommand","Component","TextProperty","BlockquoteXMLConverter","CodeXMLConverter","EmphasisXMLConverter","EmphasisComponent","ImageXMLConverter","InsertImageCommand","ImageFileProxy","ParagraphXMLConverter","StrongXMLConverter","SubscriptXMLConverter","SuperscriptXMLConverter","HeadingXMLConverter","CodeblockXMLConverter","LinkHTMLConverter","HtmlExporter","UnsupportedNode","ListItemNode","Icon","Schema","DocumentSchema","LabelProvider","MetaNode","TestStructuredNode"],"mappings":"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,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA,AACA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"}